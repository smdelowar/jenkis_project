(self.webpackChunkprocessFlowWeb=self.webpackChunkprocessFlowWeb||[]).push([[1502],{5761:(K,m,r)=>{r.d(m,{bK:()=>Rs});var a=r(9547),E=r(902),h=r(8627),p=r(2935),c=r(7506),g=r(4550),y=r(9768),b=r(5346);class T{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,n=e._prev;if(n!==e)return S(n),n}enqueue(e){var n=this._sentinel;e._prev&&e._next&&S(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){for(var e=[],n=this._sentinel,s=n._prev;s!==n;)e.push(JSON.stringify(s,F)),s=s._prev;return"["+e.join(", ")+"]"}}function S(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function F(t,e){if("_next"!==t&&"_prev"!==t)return e}var x=p.Z(1);function G(t,e,n,s,i){var o=i?[]:void 0;return a.Z(t.inEdges(s.v),function(d){var u=t.edge(d),v=t.node(d.v);i&&o.push({v:d.v,w:d.w}),v.out-=u,st(e,n,v)}),a.Z(t.outEdges(s.v),function(d){var u=t.edge(d),Z=t.node(d.w);Z.in-=u,st(e,n,Z)}),t.removeNode(s.v),o}function st(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function At(t){var e="greedy"===t.graph().acyclicer?function C(t,e){if(t.nodeCount()<=1)return[];var n=function lt(t,e){var n=new b.k,s=0,i=0;a.Z(t.nodes(),function(u){n.setNode(u,{v:u,in:0,out:0})}),a.Z(t.edges(),function(u){var v=n.edge(u.v,u.w)||0,Z=e(u);n.setEdge(u.v,u.w,v+Z),i=Math.max(i,n.node(u.v).out+=Z),s=Math.max(s,n.node(u.w).in+=Z)});var o=y.Z(i+s+3).map(function(){return new T}),d=s+1;return a.Z(n.nodes(),function(u){st(o,d,n.node(u))}),{graph:n,buckets:o,zeroIdx:d}}(t,e||x),s=function I(t,e,n){for(var d,s=[],i=e[e.length-1],o=e[0];t.nodeCount();){for(;d=o.dequeue();)G(t,e,n,d);for(;d=i.dequeue();)G(t,e,n,d);if(t.nodeCount())for(var u=e.length-2;u>0;--u)if(d=e[u].dequeue()){s=s.concat(G(t,e,n,d,!0));break}}return s}(n.graph,n.buckets,n.zeroIdx);return c.Z(g.Z(s,function(i){return t.outEdges(i.v,i.w)}))}(t,function n(s){return function(i){return s.edge(i).weight}}(t)):function Ot(t){var e=[],n={},s={};return a.Z(t.nodes(),function i(o){h.Z(s,o)||(s[o]=!0,n[o]=!0,a.Z(t.outEdges(o),function(d){h.Z(n,d.w)?e.push(d):i(d.w)}),delete n[o])}),e}(t);a.Z(e,function(s){var i=t.edge(s);t.removeEdge(s),i.forwardName=s.name,i.reversed=!0,t.setEdge(s.w,s.v,i,E.Z("rev"))})}var rt=r(8730),Mt=r(6041),se=r(8418);const Ut=function jt(t,e,n){(void 0!==n&&!(0,se.Z)(t[e],n)||void 0===n&&!(e in t))&&(0,Mt.Z)(t,e,n)};var Jt=r(4199),Ht=r(4203),it=r(3734),Ft=r(2307),te=r(7324),de=r(5727),le=r(9977),ce=r(9568),pe=r(7717),be=r(4842),Ee=r(5829),W=r(5511),J=r(7227);const Q=function _t(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var ut=r(6299),gt=r(516);const It=function dt(t,e,n,s,i,o,d){var u=Q(t,n),v=Q(e,n),Z=d.get(v);if(Z)Ut(t,n,Z);else{var O=o?o(u,v,n+"",t,e,d):void 0,M=void 0===O;if(M){var ct=(0,le.Z)(v),vt=!ct&&(0,pe.Z)(v),Dt=!ct&&!vt&&(0,J.Z)(v);O=v,ct||vt||Dt?(0,le.Z)(u)?O=u:(0,ce.Z)(u)?O=(0,Ft.Z)(u):vt?(M=!1,O=(0,Ht.Z)(v,!0)):Dt?(M=!1,O=(0,it.Z)(v,!0)):O=[]:(0,W.Z)(v)||(0,de.Z)(v)?(O=u,(0,de.Z)(u)?O=function Zt(t){return(0,ut.Z)(t,(0,gt.Z)(t))}(u):(!(0,Ee.Z)(u)||(0,be.Z)(u))&&(O=(0,te.Z)(v))):M=!1}M&&(d.set(v,O),i(O,v,s,o,d),d.delete(v)),Ut(t,n,O)}},U=function Et(t,e,n,s,i){t!==e&&(0,Jt.Z)(e,function(o,d){if(i||(i=new rt.Z),(0,Ee.Z)(o))It(t,e,d,n,Et,s,i);else{var u=s?s(Q(t,d),o,d+"",t,e,i):void 0;void 0===u&&(u=o),Ut(t,d,u)}},gt.Z)};var l=r(2447),A=r(1799);const B=function w(t){return(0,l.Z)(function(e,n){var s=-1,i=n.length,o=i>1?n[i-1]:void 0,d=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,d&&(0,A.Z)(n[0],n[1],d)&&(o=i<3?void 0:o,i=1),e=Object(e);++s<i;){var u=n[s];u&&t(e,u,s,o)}return e})}(function(t,e,n){U(t,e,n)});var H=r(7050),at=r(8123),Lt=r(7106);const Yt=function kt(t,e,n){for(var s=-1,i=t.length;++s<i;){var o=t[s],d=e(o);if(null!=d&&(void 0===u?d==d&&!(0,Lt.Z)(d):n(d,u)))var u=d,v=o}return v},Ge=function Pe(t,e){return t>e};var Fe=r(1974);const ye=function We(t){return t&&t.length?Yt(t,Fe.Z,Ge):void 0},f=function Ue(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var N=r(4023),$=r(2349);const mt=function pt(t,e){var n={};return e=(0,$.Z)(e,3),(0,N.Z)(t,function(s,i,o){(0,Mt.Z)(n,i,e(s,i,o))}),n};var yt=r(7002);const ie=function wt(t,e){return t<e},Qt=function Pt(t){return t&&t.length?Yt(t,Fe.Z,ie):void 0};var ue=r(4131);const me=function(){return ue.Z.Date.now()};function fe(t,e,n,s){var i;do{i=E.Z(s)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function Te(t){var e=new b.k({multigraph:t.isMultigraph()}).setGraph(t.graph());return a.Z(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),a.Z(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e}function Ae(t,e){var v,Z,n=t.x,s=t.y,i=e.x-n,o=e.y-s,d=t.width/2,u=t.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(o)*d>Math.abs(i)*u?(o<0&&(u=-u),v=u*i/o,Z=u):(i<0&&(d=-d),v=d,Z=d*o/i),{x:n+v,y:s+Z}}function _e(t){var e=g.Z(y.Z(ot(t)+1),function(){return[]});return a.Z(t.nodes(),function(n){var s=t.node(n),i=s.rank;yt.Z(i)||(e[i][s.order]=n)}),e}function tt(t,e,n,s){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=s),fe(t,"border",i,e)}function ot(t){return ye(g.Z(t.nodes(),function(e){var n=t.node(e).rank;if(!yt.Z(n))return n}))}function ft(t,e){var n=me();try{return e()}finally{console.log(t+" time: "+(me()-n)+"ms")}}function Rt(t,e){return e()}function Nt(t,e,n,s,i,o){var u=i[e][o-1],v=fe(t,"border",{width:0,height:0,rank:o,borderType:e},n);i[e][o]=v,t.setParent(v,s),u&&t.setEdge(u,v,{weight:1})}function Kt(t){a.Z(t.nodes(),function(e){Bt(t.node(e))}),a.Z(t.edges(),function(e){Bt(t.edge(e))})}function Bt(t){var e=t.width;t.width=t.height,t.height=e}function qt(t){t.y=-t.y}function Xt(t){var e=t.x;t.x=t.y,t.y=e}const St=function ht(t,e){return t&&t.length?Yt(t,(0,$.Z)(e,2),ie):void 0};function R(t){var e={};a.Z(t.sources(),function n(s){var i=t.node(s);if(h.Z(e,s))return i.rank;e[s]=!0;var o=Qt(g.Z(t.outEdges(s),function(d){return n(d.w)-t.edge(d).minlen}));return(o===Number.POSITIVE_INFINITY||null==o)&&(o=0),i.rank=o})}function ge(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function et(t){var i,o,e=new b.k({directed:!1}),n=t.nodes()[0],s=t.nodeCount();for(e.setNode(n,{});Oe(e,t)<s;)i=De(e,t),o=e.hasNode(i.v)?ge(t,i):-ge(t,i),ke(e,t,o);return e}function Oe(t,e){return a.Z(t.nodes(),function n(s){a.Z(e.nodeEdges(s),function(i){var o=i.v,d=s===o?i.w:o;!t.hasNode(d)&&!ge(e,i)&&(t.setNode(d,{}),t.setEdge(s,d,{}),n(d))})}),t.nodeCount()}function De(t,e){return St(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return ge(e,n)})}function ke(t,e,n){a.Z(t.nodes(),function(s){e.node(s).rank+=n})}var bt=r(6247),Le=r(4181);var Tt=r(8568),$t=r(231);var Wt=Math.max;const Ze=function Vt(t){return function(e,n,s){var i=Object(e);if(!(0,bt.Z)(e)){var o=(0,$.Z)(n,3);e=(0,Le.Z)(e),n=function(u){return o(i[u],u,i)}}var d=t(e,n,s);return d>-1?i[o?e[d]:d]:void 0}}(function Gt(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var i=null==n?0:function Ie(t){var e=(0,$t.Z)(t),n=e%1;return e==e?n?e-n:e:0}(n);return i<0&&(i=Wt(s+i,0)),(0,Tt.Z)(t,(0,$.Z)(e,3),i)});var ve=r(6232);p.Z(1),p.Z(1),r(8217),r(2211),r(3844),r(1196),(0,r(7740).Z)("length"),RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var an="\\ud800-\\udfff",er="["+an+"]",Qe="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",qe="\\ud83c[\\udffb-\\udfff]",on="[^"+an+"]",dn="(?:\\ud83c[\\udde6-\\uddff]){2}",cn="[\\ud800-\\udbff][\\udc00-\\udfff]",un="(?:"+Qe+"|"+qe+")?",ln="[\\ufe0e\\ufe0f]?",ir=ln+un+"(?:\\u200d(?:"+[on,dn,cn].join("|")+")"+ln+un+")*",ar="(?:"+[on+Qe+"?",Qe,dn,cn,er].join("|")+")";function hn(t,e,n){le.Z(e)||(e=[e]);var s=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],o={};return a.Z(e,function(d){if(!t.hasNode(d))throw new Error("Graph does not have node: "+d);_n(t,d,"post"===n,o,s,i)}),i}function _n(t,e,n,s,i,o){h.Z(s,e)||(s[e]=!0,n||o.push(e),a.Z(i(e),function(d){_n(t,d,n,s,i,o)}),n&&o.push(e))}function je(t){t=function Se(t){var e=(new b.k).setGraph(t.graph());return a.Z(t.nodes(),function(n){e.setNode(n,t.node(n))}),a.Z(t.edges(),function(n){var s=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:s.weight+i.weight,minlen:Math.max(s.minlen,i.minlen)})}),e}(t),R(t);var n,e=et(t);for(en(e),tn(e,t);n=pn(e);)yn(e,t,n,En(e,t,n))}function tn(t,e){var n=function vr(t,e){return hn(t,e,"post")}(t,t.nodes());n=n.slice(0,n.length-1),a.Z(n,function(s){!function Er(t,e,n){var s=t.node(n);t.edge(n,s.parent).cutvalue=gn(t,e,n)}(t,e,s)})}function gn(t,e,n){var i=t.node(n).parent,o=!0,d=e.edge(n,i),u=0;return d||(o=!1,d=e.edge(i,n)),u=d.weight,a.Z(e.nodeEdges(n),function(v){var Z=v.v===n,O=Z?v.w:v.v;if(O!==i){var M=Z===o,ct=e.edge(v).weight;if(u+=M?ct:-ct,function mr(t,e,n){return t.hasEdge(e,n)}(t,n,O)){var vt=t.edge(n,O).cutvalue;u+=M?-vt:vt}}}),u}function en(t,e){arguments.length<2&&(e=t.nodes()[0]),vn(t,{},1,e)}function vn(t,e,n,s,i){var o=n,d=t.node(s);return e[s]=!0,a.Z(t.neighbors(s),function(u){h.Z(e,u)||(n=vn(t,e,n,u,s))}),d.low=o,d.lim=n++,i?d.parent=i:delete d.parent,n}function pn(t){return Ze(t.edges(),function(e){return t.edge(e).cutvalue<0})}function En(t,e,n){var s=n.v,i=n.w;e.hasEdge(s,i)||(s=n.w,i=n.v);var o=t.node(s),d=t.node(i),u=o,v=!1;o.lim>d.lim&&(u=d,v=!0);var Z=ve.Z(e.edges(),function(O){return v===mn(0,t.node(O.v),u)&&v!==mn(0,t.node(O.w),u)});return St(Z,function(O){return ge(e,O)})}function yn(t,e,n,s){t.removeEdge(n.v,n.w),t.setEdge(s.v,s.w,{}),en(t),tn(t,e),function yr(t,e){var n=Ze(t.nodes(),function(i){return!e.node(i).parent}),s=function pr(t,e){return hn(t,e,"pre")}(t,n);s=s.slice(1),a.Z(s,function(i){var o=t.node(i).parent,d=e.edge(i,o),u=!1;d||(d=e.edge(o,i),u=!0),e.node(i).rank=e.node(o).rank+(u?d.minlen:-d.minlen)})}(t,e)}function mn(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}function Zr(t){switch(t.graph().ranker){case"network-simplex":default:!function Zn(t){je(t)}(t);break;case"tight-tree":!function Tr(t){R(t),et(t)}(t);break;case"longest-path":br(t)}}RegExp(qe+"(?="+qe+")|"+ar+ir,"g"),new Error,r(4790),je.initLowLimValues=en,je.initCutValues=tn,je.calcCutValue=gn,je.leaveEdge=pn,je.enterEdge=En,je.exchangeEdges=yn;var br=R;var ze=r(7402),Je=r(2621);function Ar(t){var e=fe(t,"root",{},"_root"),n=function Or(t){var e={};function n(s,i){var o=t.children(s);o&&o.length&&a.Z(o,function(d){n(d,i+1)}),e[s]=i}return a.Z(t.children(),function(s){n(s,1)}),e}(t),s=ye(ze.Z(n))-1,i=2*s+1;t.graph().nestingRoot=e,a.Z(t.edges(),function(d){t.edge(d).minlen*=i});var o=function Pr(t){return Je.Z(t.edges(),function(e,n){return e+t.edge(n).weight},0)}(t)+1;a.Z(t.children(),function(d){bn(t,e,i,o,s,n,d)}),t.graph().nodeRankFactor=i}function bn(t,e,n,s,i,o,d){var u=t.children(d);if(u.length){var v=tt(t,"_bt"),Z=tt(t,"_bb"),O=t.node(d);t.setParent(v,d),O.borderTop=v,t.setParent(Z,d),O.borderBottom=Z,a.Z(u,function(M){bn(t,e,n,s,i,o,M);var ct=t.node(M),vt=ct.borderTop?ct.borderTop:M,Dt=ct.borderBottom?ct.borderBottom:M,oe=ct.borderTop?s:2*s,He=vt!==Dt?1:i-o[d]+1;t.setEdge(v,vt,{weight:oe,minlen:He,nestingEdge:!0}),t.setEdge(Dt,Z,{weight:oe,minlen:He,nestingEdge:!0})}),t.parent(d)||t.setEdge(e,v,{weight:0,minlen:i+o[d]})}else d!==e&&t.setEdge(e,d,{weight:0,minlen:n})}var Sr=r(3143);const Ir=function Lr(t){return(0,Sr.Z)(t,5)};var Br=r(4416);const kr=function Ur(t,e){return function Nr(t,e,n){for(var s=-1,i=t.length,o=e.length,d={};++s<i;)n(d,t[s],s<o?e[s]:void 0);return d}(t||[],e||[],Br.Z)};var Kr=r(4583),nn=r(2720),Wr=r(4818),jr=r(2436);var Yr=r(8733);const Vr=function zr(t,e){if(t!==e){var n=void 0!==t,s=null===t,i=t==t,o=(0,Lt.Z)(t),d=void 0!==e,u=null===e,v=e==e,Z=(0,Lt.Z)(e);if(!u&&!Z&&!o&&t>e||o&&d&&v&&!u&&!Z||s&&d&&v||!n&&v||!i)return 1;if(!s&&!o&&!Z&&t<e||Z&&n&&i&&!s&&!o||u&&n&&i||!d&&i||!v)return-1}return 0},Qr=function Jr(t,e,n){e=e.length?(0,nn.Z)(e,function(o){return(0,le.Z)(o)?function(d){return(0,Wr.Z)(d,1===o.length?o[0]:o)}:o}):[Fe.Z];var s=-1;return e=(0,nn.Z)(e,(0,Yr.Z)($.Z)),function Gr(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}((0,jr.Z)(t,function(o,d,u){return{criteria:(0,nn.Z)(e,function(Z){return Z(o)}),index:++s,value:o}}),function(o,d){return function Hr(t,e,n){for(var s=-1,i=t.criteria,o=e.criteria,d=i.length,u=n.length;++s<d;){var v=Vr(i[s],o[s]);if(v)return s>=u?v:v*("desc"==n[s]?-1:1)}return t.index-e.index}(o,d,n)})},Ve=(0,l.Z)(function(t,e){if(null==t)return[];var n=e.length;return n>1&&(0,A.Z)(t,e[0],e[1])?e=[]:n>2&&(0,A.Z)(e[0],e[1],e[2])&&(e=[e[0]]),Qr(t,(0,Kr.Z)(e,1),[])});function ts(t,e){for(var n=0,s=1;s<e.length;++s)n+=es(t,e[s-1],e[s]);return n}function es(t,e,n){for(var s=kr(n,g.Z(n,function(Z,O){return O})),i=c.Z(g.Z(e,function(Z){return Ve(g.Z(t.outEdges(Z),function(O){return{pos:s[O.w],weight:t.edge(O).weight}}),"pos")})),o=1;o<n.length;)o<<=1;var d=2*o-1;o-=1;var u=g.Z(new Array(d),function(){return 0}),v=0;return a.Z(i.forEach(function(Z){var O=Z.pos+o;u[O]+=Z.weight;for(var M=0;O>0;)O%2&&(M+=u[O+1]),u[O=O-1>>1]+=Z.weight;v+=Z.weight*M})),v}function Tn(t,e,n){for(var s;e.length&&(s=f(e)).i<=n;)e.pop(),t.push(s.vs),n++;return n}function An(t,e,n,s){var i=t.children(e),o=t.node(e),d=o?o.borderLeft:void 0,u=o?o.borderRight:void 0,v={};d&&(i=ve.Z(i,function(Dt){return Dt!==d&&Dt!==u}));var Z=function rs(t,e){return g.Z(e,function(n){var s=t.inEdges(n);if(s.length){var i=Je.Z(s,function(o,d){var u=t.edge(d),v=t.node(d.v);return{sum:o.sum+u.weight*v.order,weight:o.weight+u.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}return{v:n}})}(t,i);a.Z(Z,function(Dt){if(t.children(Dt.v).length){var oe=An(t,Dt.v,n,s);v[Dt.v]=oe,h.Z(oe,"barycenter")&&function us(t,e){yt.Z(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}(Dt,oe)}});var O=function ss(t,e){var n={};return a.Z(t,function(i,o){var d=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};yt.Z(i.barycenter)||(d.barycenter=i.barycenter,d.weight=i.weight)}),a.Z(e.edges(),function(i){var o=n[i.v],d=n[i.w];!yt.Z(o)&&!yt.Z(d)&&(d.indegree++,o.out.push(n[i.w]))}),function is(t){var e=[];function n(o){return function(d){d.merged||(yt.Z(d.barycenter)||yt.Z(o.barycenter)||d.barycenter>=o.barycenter)&&function as(t,e){var n=0,s=0;t.weight&&(n+=t.barycenter*t.weight,s+=t.weight),e.weight&&(n+=e.barycenter*e.weight,s+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/s,t.weight=s,t.i=Math.min(e.i,t.i),e.merged=!0}(o,d)}}function s(o){return function(d){d.in.push(o),0==--d.indegree&&t.push(d)}}for(;t.length;){var i=t.pop();e.push(i),a.Z(i.in.reverse(),n(i)),a.Z(i.out,s(i))}return g.Z(ve.Z(e,function(o){return!o.merged}),function(o){return H.Z(o,["vs","i","barycenter","weight"])})}(ve.Z(n,function(i){return!i.indegree}))}(Z,n);!function cs(t,e){a.Z(t,function(n){n.vs=c.Z(n.vs.map(function(s){return e[s]?e[s].vs:s}))})}(O,v);var M=function os(t,e){var n=function Ct(t,e){var n={lhs:[],rhs:[]};return a.Z(t,function(s){e(s)?n.lhs.push(s):n.rhs.push(s)}),n}(t,function(O){return h.Z(O,"barycenter")}),s=n.lhs,i=Ve(n.rhs,function(O){return-O.i}),o=[],d=0,u=0,v=0;s.sort(function ds(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}(!!e)),v=Tn(o,i,v),a.Z(s,function(O){v+=O.vs.length,o.push(O.vs),d+=O.barycenter*O.weight,u+=O.weight,v=Tn(o,i,v)});var Z={vs:c.Z(o)};return u&&(Z.barycenter=d/u,Z.weight=u),Z}(O,s);if(d&&(M.vs=c.Z([d,M.vs,u]),t.predecessors(d).length)){var ct=t.node(t.predecessors(d)[0]),vt=t.node(t.predecessors(u)[0]);h.Z(M,"barycenter")||(M.barycenter=0,M.weight=0),M.barycenter=(M.barycenter*M.weight+ct.order+vt.order)/(M.weight+2),M.weight+=2}return M}function On(t,e,n){return g.Z(e,function(s){return function Mr(t,e,n){var s=function Rr(t){for(var e;t.hasNode(e=E.Z("_root")););return e}(t),i=new b.k({compound:!0}).setGraph({root:s}).setDefaultNodeLabel(function(o){return t.node(o)});return a.Z(t.nodes(),function(o){var d=t.node(o),u=t.parent(o);(d.rank===e||d.minRank<=e&&e<=d.maxRank)&&(i.setNode(o),i.setParent(o,u||s),a.Z(t[n](o),function(v){var Z=v.v===o?v.w:v.v,O=i.edge(Z,o),M=yt.Z(O)?0:O.weight;i.setEdge(Z,o,{weight:t.edge(v).weight+M})}),h.Z(d,"minRank")&&i.setNode(o,{borderLeft:d.borderLeft[e],borderRight:d.borderRight[e]}))}),i}(t,s,n)})}function fs(t,e){var n=new b.k;a.Z(t,function(s){var i=s.graph().root,o=An(s,i,n,e);a.Z(o.vs,function(d,u){s.node(d).order=u}),function wr(t,e,n){var i,s={};a.Z(n,function(o){for(var u,v,d=t.parent(o);d;){if((u=t.parent(d))?(v=s[u],s[u]=d):(v=i,i=d),v&&v!==d)return void e.setEdge(v,d);d=u}})}(s,n,o.vs)})}function Pn(t,e){a.Z(e,function(n){a.Z(n,function(s,i){t.node(s).order=i})})}var xn=r(8606);const ps=function vs(t,e){return t&&(0,N.Z)(t,(0,xn.Z)(e))},ys=function Es(t,e){return null==t?t:(0,Jt.Z)(t,(0,xn.Z)(e),gt.Z)};function Sn(t,e,n){if(e>n){var s=e;e=n,n=s}var i=t[e];i||(t[e]=i={}),i[n]=!0}function Ts(t,e,n){if(e>n){var s=e;e=n,n=s}return h.Z(t[e],n)}function Ds(t){var i,e=_e(t),n=B(function ms(t,e){var n={};return Je.Z(e,function s(i,o){var d=0,u=0,v=i.length,Z=f(o);return a.Z(o,function(O,M){var ct=function bs(t,e){if(t.node(e).dummy)return Ze(t.predecessors(e),function(n){return t.node(n).dummy})}(t,O),vt=ct?t.node(ct).order:v;(ct||O===Z)&&(a.Z(o.slice(u,M+1),function(Dt){a.Z(t.predecessors(Dt),function(oe){var He=t.node(oe),Cn=He.order;(Cn<d||vt<Cn)&&(!He.dummy||!t.node(Dt).dummy)&&Sn(n,oe,Dt)})}),u=M+1,d=vt)}),o}),n}(t,e),function Zs(t,e){var n={};function s(o,d,u,v,Z){var O;a.Z(y.Z(d,u),function(M){t.node(O=o[M]).dummy&&a.Z(t.predecessors(O),function(ct){var vt=t.node(ct);vt.dummy&&(vt.order<v||vt.order>Z)&&Sn(n,ct,O)})})}return Je.Z(e,function i(o,d){var v,u=-1,Z=0;return a.Z(d,function(O,M){if("border"===t.node(O).dummy){var ct=t.predecessors(O);ct.length&&(v=t.node(ct[0]).order,s(d,Z,M,u,v),Z=M,u=v)}s(d,Z,d.length,v,o.length)}),d}),n}(t,e)),s={};a.Z(["u","d"],function(d){i="u"===d?e:ze.Z(e).reverse(),a.Z(["l","r"],function(u){"r"===u&&(i=g.Z(i,function(M){return ze.Z(M).reverse()}));var v=("u"===d?t.predecessors:t.successors).bind(t),Z=function As(t,e,n,s){var i={},o={},d={};return a.Z(e,function(u){a.Z(u,function(v,Z){i[v]=v,o[v]=v,d[v]=Z})}),a.Z(e,function(u){var v=-1;a.Z(u,function(Z){var O=s(Z);if(O.length)for(var M=((O=Ve(O,function(oe){return d[oe]})).length-1)/2,ct=Math.floor(M),vt=Math.ceil(M);ct<=vt;++ct){var Dt=O[ct];o[Z]===Z&&v<d[Dt]&&!Ts(n,Z,Dt)&&(o[Dt]=Z,o[Z]=i[Z]=i[Dt],v=d[Dt])}})}),{root:i,align:o}}(0,i,n,v),O=function Os(t,e,n,s,i){var o={},d=function Ps(t,e,n,s){var i=new b.k,o=t.graph(),d=function Ls(t,e,n){return function(s,i,o){var Z,d=s.node(i),u=s.node(o),v=0;if(v+=d.width/2,h.Z(d,"labelpos"))switch(d.labelpos.toLowerCase()){case"l":Z=-d.width/2;break;case"r":Z=d.width/2}if(Z&&(v+=n?Z:-Z),Z=0,v+=(d.dummy?e:t)/2,v+=(u.dummy?e:t)/2,v+=u.width/2,h.Z(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":Z=u.width/2;break;case"r":Z=-u.width/2}return Z&&(v+=n?Z:-Z),Z=0,v}}(o.nodesep,o.edgesep,s);return a.Z(e,function(u){var v;a.Z(u,function(Z){var O=n[Z];if(i.setNode(O),v){var M=n[v],ct=i.edge(M,O);i.setEdge(M,O,Math.max(d(t,Z,v),ct||0))}v=Z})}),i}(t,e,n,i),u=i?"borderLeft":"borderRight";function v(M,ct){for(var vt=d.nodes(),Dt=vt.pop(),oe={};Dt;)oe[Dt]?M(Dt):(oe[Dt]=!0,vt.push(Dt),vt=vt.concat(ct(Dt))),Dt=vt.pop()}return v(function Z(M){o[M]=d.inEdges(M).reduce(function(ct,vt){return Math.max(ct,o[vt.v]+d.edge(vt))},0)},d.predecessors.bind(d)),v(function O(M){var ct=d.outEdges(M).reduce(function(Dt,oe){return Math.min(Dt,o[oe.w]-d.edge(oe))},Number.POSITIVE_INFINITY),vt=t.node(M);ct!==Number.POSITIVE_INFINITY&&vt.borderType!==u&&(o[M]=Math.max(o[M],ct))},d.successors.bind(d)),a.Z(s,function(M){o[M]=o[n[M]]}),o}(t,i,Z.root,Z.align,"r"===u);"r"===u&&(O=mt(O,function(M){return-M})),s[d+u]=O})});var o=function xs(t,e){return St(ze.Z(e),function(n){var s=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return ys(n,function(o,d){var u=function Is(t,e){return t.node(e).width}(t,d)/2;s=Math.max(o+u,s),i=Math.min(o-u,i)}),s-i})}(t,s);return function Ss(t,e){var n=ze.Z(e),s=Qt(n),i=ye(n);a.Z(["u","d"],function(o){a.Z(["l","r"],function(d){var Z,u=o+d,v=t[u];if(v!==e){var O=ze.Z(v);(Z="l"===d?s-Qt(O):i-ye(O))&&(t[u]=mt(v,function(M){return M+Z}))}})})}(s,o),function Cs(t,e){return mt(t.ul,function(n,s){if(e)return t[e.toLowerCase()][s];var i=Ve(g.Z(t,s));return(i[1]+i[2])/2})}(s,t.graph().align)}function Rs(t,e){var n=e&&e.debugTiming?ft:Rt;n("layout",function(){var s=n("  buildLayoutGraph",function(){return function Ys(t){var e=new b.k({multigraph:!0,compound:!0}),n=sn(t.graph());return e.setGraph(B({},Us,rn(n,Fs),H.Z(n,ks))),a.Z(t.nodes(),function(s){var i=sn(t.node(s));e.setNode(s,at.Z(rn(i,Ks),Ws)),e.setParent(s,t.parent(s))}),a.Z(t.edges(),function(s){var i=sn(t.edge(s));e.setEdge(s,B({},Gs,rn(i,js),H.Z(i,Xs)))}),e}(t)});n("  runLayout",function(){!function Bs(t,e){e("    makeSpaceForEdgeLabels",function(){!function zs(t){var e=t.graph();e.ranksep/=2,a.Z(t.edges(),function(n){var s=t.edge(n);s.minlen*=2,"c"!==s.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?s.width+=s.labeloffset:s.height+=s.labeloffset)})}(t)}),e("    removeSelfEdges",function(){!function ni(t){a.Z(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}(t)}),e("    acyclic",function(){At(t)}),e("    nestingGraph.run",function(){Ar(t)}),e("    rank",function(){Zr(Te(t))}),e("    injectEdgeLabelProxies",function(){!function Vs(t){a.Z(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var s=t.node(e.v),i=t.node(e.w);fe(t,"edge-proxy",{rank:(i.rank-s.rank)/2+s.rank,e},"_ep")}})}(t)}),e("    removeEmptyRanks",function(){!function D(t){var e=Qt(g.Z(t.nodes(),function(o){return t.node(o).rank})),n=[];a.Z(t.nodes(),function(o){var d=t.node(o).rank-e;n[d]||(n[d]=[]),n[d].push(o)});var s=0,i=t.graph().nodeRankFactor;a.Z(n,function(o,d){yt.Z(o)&&d%i!=0?--s:s&&a.Z(o,function(u){t.node(u).rank+=s})})}(t)}),e("    nestingGraph.cleanup",function(){!function xr(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,a.Z(t.edges(),function(n){t.edge(n).nestingEdge&&t.removeEdge(n)})}(t)}),e("    normalizeRanks",function(){!function P(t){var e=Qt(g.Z(t.nodes(),function(n){return t.node(n).rank}));a.Z(t.nodes(),function(n){var s=t.node(n);h.Z(s,"rank")&&(s.rank-=e)})}(t)}),e("    assignRankMinMax",function(){!function Hs(t){var e=0;a.Z(t.nodes(),function(n){var s=t.node(n);s.borderTop&&(s.minRank=t.node(s.borderTop).rank,s.maxRank=t.node(s.borderBottom).rank,e=ye(e,s.maxRank))}),t.graph().maxRank=e}(t)}),e("    removeEdgeLabelProxies",function(){!function $s(t){a.Z(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}(t)}),e("    normalize.run",function(){!function j(t){t.graph().dummyChains=[],a.Z(t.edges(),function(e){!function z(t,e){var n=e.v,s=t.node(n).rank,i=e.w,o=t.node(i).rank,d=e.name,u=t.edge(e),v=u.labelRank;if(o!==s+1){var Z,O,M;for(t.removeEdge(e),M=0,++s;s<o;++M,++s)u.points=[],Z=fe(t,"edge",O={width:0,height:0,edgeLabel:u,edgeObj:e,rank:s},"_d"),s===v&&(O.width=u.width,O.height=u.height,O.dummy="edge-label",O.labelpos=u.labelpos),t.setEdge(n,Z,{weight:u.weight},d),0===M&&t.graph().dummyChains.push(Z),n=Z;t.setEdge(n,i,{weight:u.weight},d)}}(t,e)})}(t)}),e("    parentDummyChains",function(){!function hs(t){var e=function gs(t){var e={},n=0;return a.Z(t.children(),function s(i){var o=n;a.Z(t.children(i),s),e[i]={low:o,lim:n++}}),e}(t);a.Z(t.graph().dummyChains,function(n){for(var s=t.node(n),i=s.edgeObj,o=function _s(t,e,n,s){var v,Z,i=[],o=[],d=Math.min(e[n].low,e[s].low),u=Math.max(e[n].lim,e[s].lim);v=n;do{v=t.parent(v),i.push(v)}while(v&&(e[v].low>d||u>e[v].lim));for(Z=v,v=s;(v=t.parent(v))!==Z;)o.push(v);return{path:i.concat(o.reverse()),lca:Z}}(t,e,i.v,i.w),d=o.path,u=o.lca,v=0,Z=d[v],O=!0;n!==i.w;){if(s=t.node(n),O){for(;(Z=d[v])!==u&&t.node(Z).maxRank<s.rank;)v++;Z===u&&(O=!1)}if(!O){for(;v<d.length-1&&t.node(Z=d[v+1]).minRank<=s.rank;)v++;Z=d[v]}t.setParent(n,Z),n=t.successors(n)[0]}})}(t)}),e("    addBorderSegments",function(){!function xt(t){a.Z(t.children(),function e(n){var s=t.children(n),i=t.node(n);if(s.length&&a.Z(s,e),h.Z(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,d=i.maxRank+1;o<d;++o)Nt(t,"borderLeft","_bl",n,i,o),Nt(t,"borderRight","_br",n,i,o)}})}(t)}),e("    order",function(){!function ls(t){var e=ot(t),n=On(t,y.Z(1,e+1),"inEdges"),s=On(t,y.Z(e-1,-1,-1),"outEdges"),i=function ns(t){var e={},n=ve.Z(t.nodes(),function(u){return!t.children(u).length}),s=ye(g.Z(n,function(u){return t.node(u).rank})),i=g.Z(y.Z(s+1),function(){return[]}),d=Ve(n,function(u){return t.node(u).rank});return a.Z(d,function o(u){if(!h.Z(e,u)){e[u]=!0;var v=t.node(u);i[v.rank].push(u),a.Z(t.successors(u),o)}}),i}(t);Pn(t,i);for(var d,o=Number.POSITIVE_INFINITY,u=0,v=0;v<4;++u,++v){fs(u%2?n:s,u%4>=2);var Z=ts(t,i=_e(t));Z<o&&(v=0,d=Ir(i),o=Z)}Pn(t,d)}(t)}),e("    insertSelfEdges",function(){!function ri(t){var e=_e(t);a.Z(e,function(n){var s=0;a.Z(n,function(i,o){var d=t.node(i);d.order=o+s,a.Z(d.selfEdges,function(u){fe(t,"selfedge",{width:u.label.width,height:u.label.height,rank:d.rank,order:o+ ++s,e:u.e,label:u.label},"_se")}),delete d.selfEdges})})}(t)}),e("    adjustCoordinateSystem",function(){!function q(t){var e=t.graph().rankdir.toLowerCase();("lr"===e||"rl"===e)&&Kt(t)}(t)}),e("    position",function(){!function ws(t){(function Ms(t){var e=_e(t),n=t.graph().ranksep,s=0;a.Z(e,function(i){var o=ye(g.Z(i,function(d){return t.node(d).height}));a.Z(i,function(d){t.node(d).y=s+o/2}),s+=o+n})})(t=Te(t)),ps(Ds(t),function(e,n){t.node(n).x=e})}(t)}),e("    positionSelfEdges",function(){!function si(t){a.Z(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var s=t.node(n.e.v),i=s.x+s.width/2,o=s.y,d=n.x-i,u=s.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*d/3,y:o-u},{x:i+5*d/6,y:o-u},{x:i+d,y:o},{x:i+5*d/6,y:o+u},{x:i+2*d/3,y:o+u}],n.label.x=n.x,n.label.y=n.y}})}(t)}),e("    removeBorderNodes",function(){!function ei(t){a.Z(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),s=t.node(n.borderTop),i=t.node(n.borderBottom),o=t.node(f(n.borderLeft)),d=t.node(f(n.borderRight));n.width=Math.abs(d.x-o.x),n.height=Math.abs(i.y-s.y),n.x=o.x+n.width/2,n.y=s.y+n.height/2}}),a.Z(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}(t)}),e("    normalize.undo",function(){!function X(t){a.Z(t.graph().dummyChains,function(e){var i,n=t.node(e),s=n.edgeLabel;for(t.setEdge(n.edgeObj,s);n.dummy;)i=t.successors(e)[0],t.removeNode(e),s.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(s.x=n.x,s.y=n.y,s.width=n.width,s.height=n.height),n=t.node(e=i)})}(t)}),e("    fixupEdgeLabelCoords",function(){!function qs(t){a.Z(t.edges(),function(e){var n=t.edge(e);if(h.Z(n,"x"))switch(("l"===n.labelpos||"r"===n.labelpos)&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(t)}),e("    undoCoordinateSystem",function(){!function zt(t){var e=t.graph().rankdir.toLowerCase();("bt"===e||"rl"===e)&&function ae(t){a.Z(t.nodes(),function(e){qt(t.node(e))}),a.Z(t.edges(),function(e){var n=t.edge(e);a.Z(n.points,qt),h.Z(n,"y")&&qt(n)})}(t),("lr"===e||"rl"===e)&&(function ee(t){a.Z(t.nodes(),function(e){Xt(t.node(e))}),a.Z(t.edges(),function(e){var n=t.edge(e);a.Z(n.points,Xt),h.Z(n,"x")&&Xt(n)})}(t),Kt(t))}(t)}),e("    translateGraph",function(){!function Js(t){var e=Number.POSITIVE_INFINITY,n=0,s=Number.POSITIVE_INFINITY,i=0,o=t.graph(),d=o.marginx||0,u=o.marginy||0;function v(Z){var O=Z.x,M=Z.y,ct=Z.width,vt=Z.height;e=Math.min(e,O-ct/2),n=Math.max(n,O+ct/2),s=Math.min(s,M-vt/2),i=Math.max(i,M+vt/2)}a.Z(t.nodes(),function(Z){v(t.node(Z))}),a.Z(t.edges(),function(Z){var O=t.edge(Z);h.Z(O,"x")&&v(O)}),e-=d,s-=u,a.Z(t.nodes(),function(Z){var O=t.node(Z);O.x-=e,O.y-=s}),a.Z(t.edges(),function(Z){var O=t.edge(Z);a.Z(O.points,function(M){M.x-=e,M.y-=s}),h.Z(O,"x")&&(O.x-=e),h.Z(O,"y")&&(O.y-=s)}),o.width=n-e+d,o.height=i-s+u}(t)}),e("    assignNodeIntersects",function(){!function Qs(t){a.Z(t.edges(),function(e){var o,d,n=t.edge(e),s=t.node(e.v),i=t.node(e.w);n.points?(o=n.points[0],d=n.points[n.points.length-1]):(n.points=[],o=i,d=s),n.points.unshift(Ae(s,o)),n.points.push(Ae(i,d))})}(t)}),e("    reversePoints",function(){!function ti(t){a.Z(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}(t)}),e("    acyclic.undo",function(){!function V(t){a.Z(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var s=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,s)}})}(t)})}(s,n)}),n("  updateInputGraph",function(){!function Ns(t,e){a.Z(t.nodes(),function(n){var s=t.node(n),i=e.node(n);s&&(s.x=i.x,s.y=i.y,e.children(n).length&&(s.width=i.width,s.height=i.height))}),a.Z(t.edges(),function(n){var s=t.edge(n),i=e.edge(n);s.points=i.points,h.Z(i,"x")&&(s.x=i.x,s.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,s)})})}var Fs=["nodesep","edgesep","ranksep","marginx","marginy"],Us={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ks=["acyclicer","ranker","rankdir","align"],Ks=["width","height"],Ws={width:0,height:0},js=["minlen","weight","width","height","labeloffset"],Gs={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Xs=["labelpos"];function rn(t,e){return mt(H.Z(t,e),Number)}function sn(t){var e={};return a.Z(t,function(n,s){e[s.toLowerCase()]=n}),e}},4790:(K,m,r)=>{r.d(m,{k:()=>gt});var a=r(8627),E=r(2935),h=r(4842),p=r(4181),c=r(6232),g=r(6390),y=r(9547),b=r(7002),T=r(4583),S=r(2447),F=r(342),x=r(8568);const I=function C(U){return U!=U},V=function Ot(U,l){return!(null==U||!U.length)&&function st(U,l,A){return l==l?function G(U,l,A){for(var w=A-1,k=U.length;++w<k;)if(U[w]===l)return w;return-1}(U,l,A):(0,x.Z)(U,I,A)}(U,l,0)>-1},Mt=function rt(U,l,A){for(var w=-1,k=null==U?0:U.length;++w<k;)if(A(l,U[w]))return!0;return!1};var se=r(6614),jt=r(4402);var Ht=r(7799);const te=jt.Z&&1/(0,Ht.Z)(new jt.Z([,-0]))[1]==1/0?function(U){return new jt.Z(U)}:function Ut(){};var pe=r(9568);const Ee=(0,S.Z)(function(U){return function le(U,l,A){var w=-1,k=V,nt=U.length,B=!0,H=[],at=H;if(A)B=!1,k=Mt;else if(nt>=200){var Lt=l?null:te(U);if(Lt)return(0,Ht.Z)(Lt);B=!1,k=se.Z,at=new F.Z}else at=l?[]:H;t:for(;++w<nt;){var kt=U[w],Yt=l?l(kt):kt;if(kt=A||0!==kt?kt:0,B&&Yt==Yt){for(var Pe=at.length;Pe--;)if(at[Pe]===Yt)continue t;l&&at.push(Yt),H.push(kt)}else k(at,Yt,A)||(at!==H&&at.push(Yt),H.push(kt))}return H}((0,T.Z)(U,1,pe.Z,!0))});var W=r(7402),J=r(2621),_t="\0",Q="\0",ut="\x01";class gt{constructor(l={}){this._isDirected=!a.Z(l,"directed")||l.directed,this._isMultigraph=!!a.Z(l,"multigraph")&&l.multigraph,this._isCompound=!!a.Z(l,"compound")&&l.compound,this._label=void 0,this._defaultNodeLabelFn=E.Z(void 0),this._defaultEdgeLabelFn=E.Z(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Q]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(l){return this._label=l,this}graph(){return this._label}setDefaultNodeLabel(l){return h.Z(l)||(l=E.Z(l)),this._defaultNodeLabelFn=l,this}nodeCount(){return this._nodeCount}nodes(){return p.Z(this._nodes)}sources(){var l=this;return c.Z(this.nodes(),function(A){return g.Z(l._in[A])})}sinks(){var l=this;return c.Z(this.nodes(),function(A){return g.Z(l._out[A])})}setNodes(l,A){var w=arguments,k=this;return y.Z(l,function(nt){w.length>1?k.setNode(nt,A):k.setNode(nt)}),this}setNode(l,A){return a.Z(this._nodes,l)?(arguments.length>1&&(this._nodes[l]=A),this):(this._nodes[l]=arguments.length>1?A:this._defaultNodeLabelFn(l),this._isCompound&&(this._parent[l]=Q,this._children[l]={},this._children[Q][l]=!0),this._in[l]={},this._preds[l]={},this._out[l]={},this._sucs[l]={},++this._nodeCount,this)}node(l){return this._nodes[l]}hasNode(l){return a.Z(this._nodes,l)}removeNode(l){var A=this;if(a.Z(this._nodes,l)){var w=function(k){A.removeEdge(A._edgeObjs[k])};delete this._nodes[l],this._isCompound&&(this._removeFromParentsChildList(l),delete this._parent[l],y.Z(this.children(l),function(k){A.setParent(k)}),delete this._children[l]),y.Z(p.Z(this._in[l]),w),delete this._in[l],delete this._preds[l],y.Z(p.Z(this._out[l]),w),delete this._out[l],delete this._sucs[l],--this._nodeCount}return this}setParent(l,A){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(b.Z(A))A=Q;else{for(var w=A+="";!b.Z(w);w=this.parent(w))if(w===l)throw new Error("Setting "+A+" as parent of "+l+" would create a cycle");this.setNode(A)}return this.setNode(l),this._removeFromParentsChildList(l),this._parent[l]=A,this._children[A][l]=!0,this}_removeFromParentsChildList(l){delete this._children[this._parent[l]][l]}parent(l){if(this._isCompound){var A=this._parent[l];if(A!==Q)return A}}children(l){if(b.Z(l)&&(l=Q),this._isCompound){var A=this._children[l];if(A)return p.Z(A)}else{if(l===Q)return this.nodes();if(this.hasNode(l))return[]}}predecessors(l){var A=this._preds[l];if(A)return p.Z(A)}successors(l){var A=this._sucs[l];if(A)return p.Z(A)}neighbors(l){var A=this.predecessors(l);if(A)return Ee(A,this.successors(l))}isLeaf(l){return 0===(this.isDirected()?this.successors(l):this.neighbors(l)).length}filterNodes(l){var A=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});A.setGraph(this.graph());var w=this;y.Z(this._nodes,function(B,H){l(H)&&A.setNode(H,B)}),y.Z(this._edgeObjs,function(B){A.hasNode(B.v)&&A.hasNode(B.w)&&A.setEdge(B,w.edge(B))});var k={};function nt(B){var H=w.parent(B);return void 0===H||A.hasNode(H)?(k[B]=H,H):H in k?k[H]:nt(H)}return this._isCompound&&y.Z(A.nodes(),function(B){A.setParent(B,nt(B))}),A}setDefaultEdgeLabel(l){return h.Z(l)||(l=E.Z(l)),this._defaultEdgeLabelFn=l,this}edgeCount(){return this._edgeCount}edges(){return W.Z(this._edgeObjs)}setPath(l,A){var w=this,k=arguments;return J.Z(l,function(nt,B){return k.length>1?w.setEdge(nt,B,A):w.setEdge(nt,B),B}),this}setEdge(){var l,A,w,k,nt=!1,B=arguments[0];"object"==typeof B&&null!==B&&"v"in B?(l=B.v,A=B.w,w=B.name,2===arguments.length&&(k=arguments[1],nt=!0)):(l=B,A=arguments[1],w=arguments[3],arguments.length>2&&(k=arguments[2],nt=!0)),l=""+l,A=""+A,b.Z(w)||(w=""+w);var H=dt(this._isDirected,l,A,w);if(a.Z(this._edgeLabels,H))return nt&&(this._edgeLabels[H]=k),this;if(!b.Z(w)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(l),this.setNode(A),this._edgeLabels[H]=nt?k:this._defaultEdgeLabelFn(l,A,w);var at=function It(U,l,A,w){var k=""+l,nt=""+A;if(!U&&k>nt){var B=k;k=nt,nt=B}var H={v:k,w:nt};return w&&(H.name=w),H}(this._isDirected,l,A,w);return l=at.v,A=at.w,Object.freeze(at),this._edgeObjs[H]=at,Zt(this._preds[A],l),Zt(this._sucs[l],A),this._in[A][H]=at,this._out[l][H]=at,this._edgeCount++,this}edge(l,A,w){var k=1===arguments.length?Et(this._isDirected,arguments[0]):dt(this._isDirected,l,A,w);return this._edgeLabels[k]}hasEdge(l,A,w){var k=1===arguments.length?Et(this._isDirected,arguments[0]):dt(this._isDirected,l,A,w);return a.Z(this._edgeLabels,k)}removeEdge(l,A,w){var k=1===arguments.length?Et(this._isDirected,arguments[0]):dt(this._isDirected,l,A,w),nt=this._edgeObjs[k];return nt&&(l=nt.v,A=nt.w,delete this._edgeLabels[k],delete this._edgeObjs[k],Y(this._preds[A],l),Y(this._sucs[l],A),delete this._in[A][k],delete this._out[l][k],this._edgeCount--),this}inEdges(l,A){var w=this._in[l];if(w){var k=W.Z(w);return A?c.Z(k,function(nt){return nt.v===A}):k}}outEdges(l,A){var w=this._out[l];if(w){var k=W.Z(w);return A?c.Z(k,function(nt){return nt.w===A}):k}}nodeEdges(l,A){var w=this.inEdges(l,A);if(w)return w.concat(this.outEdges(l,A))}}function Zt(U,l){U[l]?U[l]++:U[l]=1}function Y(U,l){--U[l]||delete U[l]}function dt(U,l,A,w){var k=""+l,nt=""+A;if(!U&&k>nt){var B=k;k=nt,nt=B}return k+ut+nt+ut+(b.Z(w)?_t:w)}function Et(U,l){return dt(U,l.v,l.w,l.name)}gt.prototype._nodeCount=0,gt.prototype._edgeCount=0},5346:(K,m,r)=>{r.d(m,{k:()=>a.k});var a=r(4790)},342:(K,m,r)=>{r.d(m,{Z:()=>b});var a=r(8410);function y(T){var S=-1,F=null==T?0:T.length;for(this.__data__=new a.Z;++S<F;)this.add(T[S])}y.prototype.add=y.prototype.push=function h(T){return this.__data__.set(T,"__lodash_hash_undefined__"),this},y.prototype.has=function c(T){return this.__data__.has(T)};const b=y},8730:(K,m,r)=>{r.d(m,{Z:()=>lt});var a=r(7066);var S=r(2847),F=r(8410);function G(st){var At=this.__data__=new a.Z(st);this.size=At.size}G.prototype.clear=function E(){this.__data__=new a.Z,this.size=0},G.prototype.delete=function p(st){var At=this.__data__,Ot=At.delete(st);return this.size=At.size,Ot},G.prototype.get=function g(st){return this.__data__.get(st)},G.prototype.has=function b(st){return this.__data__.has(st)},G.prototype.set=function C(st,At){var Ot=this.__data__;if(Ot instanceof a.Z){var V=Ot.__data__;if(!S.Z||V.length<199)return V.push([st,At]),this.size=++Ot.size,this;Ot=this.__data__=new F.Z(V)}return Ot.set(st,At),this.size=Ot.size,this};const lt=G},8475:(K,m,r)=>{r.d(m,{Z:()=>h});const h=r(4131).Z.Uint8Array},4899:(K,m,r)=>{r.d(m,{Z:()=>E});const E=function a(h,p){for(var c=-1,g=null==h?0:h.length;++c<g&&!1!==p(h[c],c,h););return h}},207:(K,m,r)=>{r.d(m,{Z:()=>E});const E=function a(h,p){for(var c=-1,g=null==h?0:h.length,y=0,b=[];++c<g;){var T=h[c];p(T,c,h)&&(b[y++]=T)}return b}},9416:(K,m,r)=>{r.d(m,{Z:()=>F});var h=r(5727),p=r(9977),c=r(7717),g=r(1885),y=r(7227),T=Object.prototype.hasOwnProperty;const F=function S(x,C){var I=(0,p.Z)(x),G=!I&&(0,h.Z)(x),lt=!I&&!G&&(0,c.Z)(x),st=!I&&!G&&!lt&&(0,y.Z)(x),At=I||G||lt||st,Ot=At?function a(x,C){for(var I=-1,G=Array(x);++I<x;)G[I]=C(I);return G}(x.length,String):[],V=Ot.length;for(var rt in x)(C||T.call(x,rt))&&(!At||!("length"==rt||lt&&("offset"==rt||"parent"==rt)||st&&("buffer"==rt||"byteLength"==rt||"byteOffset"==rt)||(0,g.Z)(rt,V)))&&Ot.push(rt);return Ot}},2720:(K,m,r)=>{r.d(m,{Z:()=>E});const E=function a(h,p){for(var c=-1,g=null==h?0:h.length,y=Array(g);++c<g;)y[c]=p(h[c],c,h);return y}},4331:(K,m,r)=>{r.d(m,{Z:()=>E});const E=function a(h,p){for(var c=-1,g=p.length,y=h.length;++c<g;)h[y+c]=p[c];return h}},4416:(K,m,r)=>{r.d(m,{Z:()=>g});var a=r(6041),E=r(8418),p=Object.prototype.hasOwnProperty;const g=function c(y,b,T){var S=y[b];(!p.call(y,b)||!(0,E.Z)(S,T)||void 0===T&&!(b in y))&&(0,a.Z)(y,b,T)}},6041:(K,m,r)=>{r.d(m,{Z:()=>h});var a=r(5753);const h=function E(p,c,g){"__proto__"==c&&a.Z?(0,a.Z)(p,c,{configurable:!0,enumerable:!0,value:g,writable:!0}):p[c]=g}},3143:(K,m,r)=>{r.d(m,{Z:()=>Vt});var a=r(8730),E=r(4899),h=r(4416),p=r(6299),c=r(4181);var b=r(516);var F=r(4203),x=r(2307),C=r(9695);var lt=r(4331),st=r(5234),At=r(3534);const rt=Object.getOwnPropertySymbols?function(L){for(var Tt=[];L;)(0,lt.Z)(Tt,(0,C.Z)(L)),L=(0,st.Z)(L);return Tt}:At.Z;var jt=r(4552),Ut=r(6982);const Ht=function Jt(L){return(0,Ut.Z)(L,b.Z,rt)};var it=r(2211),te=Object.prototype.hasOwnProperty;var ce=r(3776);var Ee=/\w*$/;var _t=r(6875),Q=_t.Z?_t.Z.prototype:void 0,ut=Q?Q.valueOf:void 0;var Y=r(3734);const Ue=function ye(L,Tt,$t){var Ie=L.constructor;switch(Tt){case"[object ArrayBuffer]":return(0,ce.Z)(L);case"[object Boolean]":case"[object Date]":return new Ie(+L);case"[object DataView]":return function pe(L,Tt){var $t=Tt?(0,ce.Z)(L.buffer):L.buffer;return new L.constructor($t,L.byteOffset,L.byteLength)}(L,$t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,Y.Z)(L,$t);case"[object Map]":case"[object Set]":return new Ie;case"[object Number]":case"[object String]":return new Ie(L);case"[object RegExp]":return function W(L){var Tt=new L.constructor(L.source,Ee.exec(L));return Tt.lastIndex=L.lastIndex,Tt}(L);case"[object Symbol]":return function gt(L){return ut?Object(ut.call(L)):{}}(L)}};var f=r(7324),N=r(9977),$=r(7717),pt=r(1196);var ie=r(8733),Pt=r(5527),Qt=Pt.Z&&Pt.Z.isMap;const xe=Qt?(0,ie.Z)(Qt):function yt(L){return(0,pt.Z)(L)&&"[object Map]"==(0,it.Z)(L)};var me=r(5829);var Ce=Pt.Z&&Pt.Z.isSet;const Ae=Ce?(0,ie.Z)(Ce):function Se(L){return(0,pt.Z)(L)&&"[object Set]"==(0,it.Z)(L)};var tt="[object Arguments]",xt="[object Function]",Kt="[object Object]",bt={};bt[tt]=bt["[object Array]"]=bt["[object ArrayBuffer]"]=bt["[object DataView]"]=bt["[object Boolean]"]=bt["[object Date]"]=bt["[object Float32Array]"]=bt["[object Float64Array]"]=bt["[object Int8Array]"]=bt["[object Int16Array]"]=bt["[object Int32Array]"]=bt["[object Map]"]=bt["[object Number]"]=bt[Kt]=bt["[object RegExp]"]=bt["[object Set]"]=bt["[object String]"]=bt["[object Symbol]"]=bt["[object Uint8Array]"]=bt["[object Uint8ClampedArray]"]=bt["[object Uint16Array]"]=bt["[object Uint32Array]"]=!0,bt["[object Error]"]=bt[xt]=bt["[object WeakMap]"]=!1;const Vt=function Le(L,Tt,$t,Ie,Ke,Wt){var Gt,ne=1&Tt,we=2&Tt,Ze=4&Tt;if($t&&(Gt=Ke?$t(L,Ie,Ke,Wt):$t(L)),void 0!==Gt)return Gt;if(!(0,me.Z)(L))return L;var ve=(0,N.Z)(L);if(ve){if(Gt=function de(L){var Tt=L.length,$t=new L.constructor(Tt);return Tt&&"string"==typeof L[0]&&te.call(L,"index")&&($t.index=L.index,$t.input=L.input),$t}(L),!ne)return(0,x.Z)(L,Gt)}else{var re=(0,it.Z)(L),Xe=re==xt||"[object GeneratorFunction]"==re;if((0,$.Z)(L))return(0,F.Z)(L,ne);if(re==Kt||re==tt||Xe&&!Ke){if(Gt=we||Xe?{}:(0,f.Z)(L),!ne)return we?function Mt(L,Tt){return(0,p.Z)(L,rt(L),Tt)}(L,function T(L,Tt){return L&&(0,p.Z)(Tt,(0,b.Z)(Tt),L)}(Gt,L)):function I(L,Tt){return(0,p.Z)(L,(0,C.Z)(L),Tt)}(L,function g(L,Tt){return L&&(0,p.Z)(Tt,(0,c.Z)(Tt),L)}(Gt,L))}else{if(!bt[re])return Ke?L:{};Gt=Ue(L,re,ne)}}Wt||(Wt=new a.Z);var Re=Wt.get(L);if(Re)return Re;Wt.set(L,Gt),Ae(L)?L.forEach(function(Be){Gt.add(Le(Be,Tt,$t,Be,L,Wt))}):xe(L)&&L.forEach(function(Be,Ne){Gt.set(Ne,Le(Be,Tt,$t,Ne,L,Wt))});var he=ve?void 0:(Ze?we?Ht:jt.Z:we?b.Z:c.Z)(L);return(0,E.Z)(he||L,function(Be,Ne){he&&(Be=L[Ne=Be]),(0,h.Z)(Gt,Ne,Le(Be,Tt,$t,Ne,L,Wt))}),Gt}},3789:(K,m,r)=>{r.d(m,{Z:()=>g});var a=r(4023),E=r(6247);const g=function h(y,b){return function(T,S){if(null==T)return T;if(!(0,E.Z)(T))return y(T,S);for(var F=T.length,x=b?F:-1,C=Object(T);(b?x--:++x<F)&&!1!==S(C[x],x,C););return T}}(a.Z)},8568:(K,m,r)=>{r.d(m,{Z:()=>E});const E=function a(h,p,c,g){for(var y=h.length,b=c+(g?1:-1);g?b--:++b<y;)if(p(h[b],b,h))return b;return-1}},4583:(K,m,r)=>{r.d(m,{Z:()=>T});var a=r(4331),E=r(6875),h=r(5727),p=r(9977),c=E.Z?E.Z.isConcatSpreadable:void 0;const y=function g(S){return(0,p.Z)(S)||(0,h.Z)(S)||!!(c&&S&&S[c])},T=function b(S,F,x,C,I){var G=-1,lt=S.length;for(x||(x=y),I||(I=[]);++G<lt;){var st=S[G];F>0&&x(st)?F>1?b(st,F-1,x,C,I):(0,a.Z)(I,st):C||(I[I.length]=st)}return I}},4199:(K,m,r)=>{r.d(m,{Z:()=>p});const p=function a(c){return function(g,y,b){for(var T=-1,S=Object(g),F=b(g),x=F.length;x--;){var C=F[c?x:++T];if(!1===y(S[C],C,S))break}return g}}()},4023:(K,m,r)=>{r.d(m,{Z:()=>p});var a=r(4199),E=r(4181);const p=function h(c,g){return c&&(0,a.Z)(c,g,E.Z)}},4818:(K,m,r)=>{r.d(m,{Z:()=>p});var a=r(5078),E=r(7801);const p=function h(c,g){for(var y=0,b=(g=(0,a.Z)(g,c)).length;null!=c&&y<b;)c=c[(0,E.Z)(g[y++])];return y&&y==b?c:void 0}},6982:(K,m,r)=>{r.d(m,{Z:()=>p});var a=r(4331),E=r(9977);const p=function h(c,g,y){var b=g(c);return(0,E.Z)(c)?b:(0,a.Z)(b,y(c))}},2349:(K,m,r)=>{r.d(m,{Z:()=>_e});var a=r(8730),E=r(342);const p=function h(P,D){for(var tt=-1,ot=null==P?0:P.length;++tt<ot;)if(D(P[tt],tt,P))return!0;return!1};var c=r(6614);const T=function b(P,D,tt,ot,Ct,ft){var Rt=1&tt,xt=P.length,Nt=D.length;if(xt!=Nt&&!(Rt&&Nt>xt))return!1;var q=ft.get(P),zt=ft.get(D);if(q&&zt)return q==D&&zt==P;var Kt=-1,Bt=!0,ae=2&tt?new E.Z:void 0;for(ft.set(P,D),ft.set(D,P);++Kt<xt;){var qt=P[Kt],ee=D[Kt];if(ot)var Xt=Rt?ot(ee,qt,Kt,D,P,ft):ot(qt,ee,Kt,P,D,ft);if(void 0!==Xt){if(Xt)continue;Bt=!1;break}if(ae){if(!p(D,function(j,z){if(!(0,c.Z)(ae,z)&&(qt===j||Ct(qt,j,tt,ot,ft)))return ae.push(z)})){Bt=!1;break}}else if(qt!==ee&&!Ct(qt,ee,tt,ot,ft)){Bt=!1;break}}return ft.delete(P),ft.delete(D),Bt};var S=r(6875),F=r(8475),x=r(8418);const I=function C(P){var D=-1,tt=Array(P.size);return P.forEach(function(ot,Ct){tt[++D]=[Ct,ot]}),tt};var G=r(7799),Ft=S.Z?S.Z.prototype:void 0,te=Ft?Ft.valueOf:void 0;var ce=r(4552),Ee=Object.prototype.hasOwnProperty;var _t=r(2211),Q=r(9977),ut=r(7717),gt=r(7227),Y="[object Arguments]",dt="[object Array]",It="[object Object]",U=Object.prototype.hasOwnProperty;const A=function l(P,D,tt,ot,Ct,ft){var Rt=(0,Q.Z)(P),xt=(0,Q.Z)(D),Nt=Rt?dt:(0,_t.Z)(P),q=xt?dt:(0,_t.Z)(D),zt=(Nt=Nt==Y?It:Nt)==It,Kt=(q=q==Y?It:q)==It,Bt=Nt==q;if(Bt&&(0,ut.Z)(P)){if(!(0,ut.Z)(D))return!1;Rt=!0,zt=!1}if(Bt&&!zt)return ft||(ft=new a.Z),Rt||(0,gt.Z)(P)?T(P,D,tt,ot,Ct,ft):function de(P,D,tt,ot,Ct,ft,Rt){switch(tt){case"[object DataView]":if(P.byteLength!=D.byteLength||P.byteOffset!=D.byteOffset)return!1;P=P.buffer,D=D.buffer;case"[object ArrayBuffer]":return!(P.byteLength!=D.byteLength||!ft(new F.Z(P),new F.Z(D)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,x.Z)(+P,+D);case"[object Error]":return P.name==D.name&&P.message==D.message;case"[object RegExp]":case"[object String]":return P==D+"";case"[object Map]":var xt=I;case"[object Set]":if(xt||(xt=G.Z),P.size!=D.size&&!(1&ot))return!1;var q=Rt.get(P);if(q)return q==D;ot|=2,Rt.set(P,D);var zt=T(xt(P),xt(D),ot,Ct,ft,Rt);return Rt.delete(P),zt;case"[object Symbol]":if(te)return te.call(P)==te.call(D)}return!1}(P,D,Nt,tt,ot,Ct,ft);if(!(1&tt)){var ae=zt&&U.call(P,"__wrapped__"),qt=Kt&&U.call(D,"__wrapped__");if(ae||qt){var ee=ae?P.value():P,Xt=qt?D.value():D;return ft||(ft=new a.Z),Ct(ee,Xt,tt,ot,ft)}}return!!Bt&&(ft||(ft=new a.Z),function W(P,D,tt,ot,Ct,ft){var Rt=1&tt,xt=(0,ce.Z)(P),Nt=xt.length;if(Nt!=(0,ce.Z)(D).length&&!Rt)return!1;for(var Kt=Nt;Kt--;){var Bt=xt[Kt];if(!(Rt?Bt in D:Ee.call(D,Bt)))return!1}var ae=ft.get(P),qt=ft.get(D);if(ae&&qt)return ae==D&&qt==P;var ee=!0;ft.set(P,D),ft.set(D,P);for(var Xt=Rt;++Kt<Nt;){var j=P[Bt=xt[Kt]],z=D[Bt];if(ot)var X=Rt?ot(z,j,Bt,D,P,ft):ot(j,z,Bt,P,D,ft);if(!(void 0===X?j===z||Ct(j,z,tt,ot,ft):X)){ee=!1;break}Xt||(Xt="constructor"==Bt)}if(ee&&!Xt){var ht=P.constructor,St=D.constructor;ht!=St&&"constructor"in P&&"constructor"in D&&!("function"==typeof ht&&ht instanceof ht&&"function"==typeof St&&St instanceof St)&&(ee=!1)}return ft.delete(P),ft.delete(D),ee}(P,D,tt,ot,Ct,ft))};var w=r(1196);const nt=function k(P,D,tt,ot,Ct){return P===D||(null==P||null==D||!(0,w.Z)(P)&&!(0,w.Z)(D)?P!=P&&D!=D:A(P,D,tt,ot,k,Ct))};var kt=r(5829);const Pe=function Yt(P){return P==P&&!(0,kt.Z)(P)};var Ge=r(4181);const Ue=function ye(P,D){return function(tt){return null!=tt&&tt[P]===D&&(void 0!==D||P in Object(tt))}},N=function f(P){var D=function Fe(P){for(var D=(0,Ge.Z)(P),tt=D.length;tt--;){var ot=D[tt],Ct=P[ot];D[tt]=[ot,Ct,Pe(Ct)]}return D}(P);return 1==D.length&&D[0][2]?Ue(D[0][0],D[0][1]):function(tt){return tt===P||function at(P,D,tt,ot){var Ct=tt.length,ft=Ct,Rt=!ot;if(null==P)return!ft;for(P=Object(P);Ct--;){var xt=tt[Ct];if(Rt&&xt[2]?xt[1]!==P[xt[0]]:!(xt[0]in P))return!1}for(;++Ct<ft;){var Nt=(xt=tt[Ct])[0],q=P[Nt],zt=xt[1];if(Rt&&xt[2]){if(void 0===q&&!(Nt in P))return!1}else{var Kt=new a.Z;if(ot)var Bt=ot(q,zt,Nt,P,D,Kt);if(!(void 0===Bt?nt(zt,q,3,ot,Kt):Bt))return!1}}return!0}(tt,P,D)}};var $=r(4818);var yt=r(5094),wt=r(6331),ie=r(7801);const xe=function ue(P,D){return(0,wt.Z)(P)&&Pe(D)?Ue((0,ie.Z)(P),D):function(tt){var ot=function pt(P,D,tt){var ot=null==P?void 0:(0,$.Z)(P,D);return void 0===ot?tt:ot}(tt,P);return void 0===ot&&ot===D?(0,yt.Z)(tt,P):nt(D,ot,3)}};var me=r(1974),fe=r(7740);const Me=function Ce(P){return(0,wt.Z)(P)?(0,fe.Z)((0,ie.Z)(P)):function Se(P){return function(D){return(0,$.Z)(D,P)}}(P)},_e=function Ae(P){return"function"==typeof P?P:null==P?me.Z:"object"==typeof P?(0,Q.Z)(P)?xe(P[0],P[1]):N(P):Me(P)}},2436:(K,m,r)=>{r.d(m,{Z:()=>p});var a=r(3789),E=r(6247);const p=function h(c,g){var y=-1,b=(0,E.Z)(c)?Array(c.length):[];return(0,a.Z)(c,function(T,S,F){b[++y]=g(T,S,F)}),b}},7740:(K,m,r)=>{r.d(m,{Z:()=>E});const E=function a(h){return function(p){return p?.[h]}}},2447:(K,m,r)=>{r.d(m,{Z:()=>c});var a=r(1974),E=r(9007),h=r(7304);const c=function p(g,y){return(0,h.Z)((0,E.Z)(g,y,a.Z),g+"")}},6614:(K,m,r)=>{r.d(m,{Z:()=>E});const E=function a(h,p){return h.has(p)}},8606:(K,m,r)=>{r.d(m,{Z:()=>h});var a=r(1974);const h=function E(p){return"function"==typeof p?p:a.Z}},5078:(K,m,r)=>{r.d(m,{Z:()=>C});var a=r(9977),E=r(6331),h=r(4961),y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,b=/\\(\\)?/g;const S=function c(I){var G=(0,h.Z)(I,function(st){return 500===lt.size&&lt.clear(),st}),lt=G.cache;return G}(function(I){var G=[];return 46===I.charCodeAt(0)&&G.push(""),I.replace(y,function(lt,st,At,Ot){G.push(At?Ot.replace(b,"$1"):st||lt)}),G});var F=r(4471);const C=function x(I,G){return(0,a.Z)(I)?I:(0,E.Z)(I,G)?[I]:S((0,F.Z)(I))}},3776:(K,m,r)=>{r.d(m,{Z:()=>h});var a=r(8475);const h=function E(p){var c=new p.constructor(p.byteLength);return new a.Z(c).set(new a.Z(p)),c}},4203:(K,m,r)=>{r.d(m,{Z:()=>b});var a=r(4131),E="object"==typeof exports&&exports&&!exports.nodeType&&exports,h=E&&"object"==typeof module&&module&&!module.nodeType&&module,c=h&&h.exports===E?a.Z.Buffer:void 0,g=c?c.allocUnsafe:void 0;const b=function y(T,S){if(S)return T.slice();var F=T.length,x=g?g(F):new T.constructor(F);return T.copy(x),x}},3734:(K,m,r)=>{r.d(m,{Z:()=>h});var a=r(3776);const h=function E(p,c){var g=c?(0,a.Z)(p.buffer):p.buffer;return new p.constructor(g,p.byteOffset,p.length)}},2307:(K,m,r)=>{r.d(m,{Z:()=>E});const E=function a(h,p){var c=-1,g=h.length;for(p||(p=Array(g));++c<g;)p[c]=h[c];return p}},6299:(K,m,r)=>{r.d(m,{Z:()=>p});var a=r(4416),E=r(6041);const p=function h(c,g,y,b){var T=!y;y||(y={});for(var S=-1,F=g.length;++S<F;){var x=g[S],C=b?b(y[x],c[x],x,y,c):void 0;void 0===C&&(C=c[x]),T?(0,E.Z)(y,x,C):(0,a.Z)(y,x,C)}return y}},5753:(K,m,r)=>{r.d(m,{Z:()=>h});var a=r(2656);const h=function(){try{var p=(0,a.Z)(Object,"defineProperty");return p({},"",{}),p}catch{}}()},4552:(K,m,r)=>{r.d(m,{Z:()=>c});var a=r(6982),E=r(9695),h=r(4181);const c=function p(g){return(0,a.Z)(g,h.Z,E.Z)}},5234:(K,m,r)=>{r.d(m,{Z:()=>h});const h=(0,r(2667).Z)(Object.getPrototypeOf,Object)},9695:(K,m,r)=>{r.d(m,{Z:()=>y});var a=r(207),E=r(3534),p=Object.prototype.propertyIsEnumerable,c=Object.getOwnPropertySymbols;const y=c?function(b){return null==b?[]:(b=Object(b),(0,a.Z)(c(b),function(T){return p.call(b,T)}))}:E.Z},857:(K,m,r)=>{r.d(m,{Z:()=>b});var a=r(5078),E=r(5727),h=r(9977),p=r(1885),c=r(4018),g=r(7801);const b=function y(T,S,F){for(var x=-1,C=(S=(0,a.Z)(S,T)).length,I=!1;++x<C;){var G=(0,g.Z)(S[x]);if(!(I=null!=T&&F(T,G)))break;T=T[G]}return I||++x!=C?I:!!(C=null==T?0:T.length)&&(0,c.Z)(C)&&(0,p.Z)(G,C)&&((0,h.Z)(T)||(0,E.Z)(T))}},7324:(K,m,r)=>{r.d(m,{Z:()=>b});var a=r(5829),E=Object.create;const p=function(){function T(){}return function(S){if(!(0,a.Z)(S))return{};if(E)return E(S);T.prototype=S;var F=new T;return T.prototype=void 0,F}}();var c=r(5234),g=r(801);const b=function y(T){return"function"!=typeof T.constructor||(0,g.Z)(T)?{}:p((0,c.Z)(T))}},1885:(K,m,r)=>{r.d(m,{Z:()=>p});var E=/^(?:0|[1-9]\d*)$/;const p=function h(c,g){var y=typeof c;return!!(g=g??9007199254740991)&&("number"==y||"symbol"!=y&&E.test(c))&&c>-1&&c%1==0&&c<g}},1799:(K,m,r)=>{r.d(m,{Z:()=>g});var a=r(8418),E=r(6247),h=r(1885),p=r(5829);const g=function c(y,b,T){if(!(0,p.Z)(T))return!1;var S=typeof b;return!!("number"==S?(0,E.Z)(T)&&(0,h.Z)(b,T.length):"string"==S&&b in T)&&(0,a.Z)(T[b],y)}},6331:(K,m,r)=>{r.d(m,{Z:()=>g});var a=r(9977),E=r(7106),h=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/;const g=function c(y,b){if((0,a.Z)(y))return!1;var T=typeof y;return!("number"!=T&&"symbol"!=T&&"boolean"!=T&&null!=y&&!(0,E.Z)(y))||p.test(y)||!h.test(y)||null!=b&&y in Object(b)}},9007:(K,m,r)=>{r.d(m,{Z:()=>c});var h=Math.max;const c=function p(g,y,b){return y=h(void 0===y?g.length-1:y,0),function(){for(var T=arguments,S=-1,F=h(T.length-y,0),x=Array(F);++S<F;)x[S]=T[y+S];S=-1;for(var C=Array(y+1);++S<y;)C[S]=T[S];return C[y]=b(x),function a(g,y,b){switch(b.length){case 0:return g.call(y);case 1:return g.call(y,b[0]);case 2:return g.call(y,b[0],b[1]);case 3:return g.call(y,b[0],b[1],b[2])}return g.apply(y,b)}(g,this,C)}}},7799:(K,m,r)=>{r.d(m,{Z:()=>E});const E=function a(h){var p=-1,c=Array(h.size);return h.forEach(function(g){c[++p]=g}),c}},7304:(K,m,r)=>{r.d(m,{Z:()=>x});var a=r(2935),E=r(5753),h=r(1974),b=Date.now;const x=function T(C){var I=0,G=0;return function(){var lt=b(),st=16-(lt-G);if(G=lt,st>0){if(++I>=800)return arguments[0]}else I=0;return C.apply(void 0,arguments)}}(E.Z?function(C,I){return(0,E.Z)(C,"toString",{configurable:!0,enumerable:!1,value:(0,a.Z)(I),writable:!0})}:h.Z)},7801:(K,m,r)=>{r.d(m,{Z:()=>p});var a=r(7106);const p=function h(c){if("string"==typeof c||(0,a.Z)(c))return c;var g=c+"";return"0"==g&&1/c==-1/0?"-0":g}},2935:(K,m,r)=>{r.d(m,{Z:()=>E});const E=function a(h){return function(){return h}}},8123:(K,m,r)=>{r.d(m,{Z:()=>b});var a=r(2447),E=r(8418),h=r(1799),p=r(516),c=Object.prototype,g=c.hasOwnProperty;const b=(0,a.Z)(function(T,S){T=Object(T);var F=-1,x=S.length,C=x>2?S[2]:void 0;for(C&&(0,h.Z)(S[0],S[1],C)&&(x=1);++F<x;)for(var I=S[F],G=(0,p.Z)(I),lt=-1,st=G.length;++lt<st;){var At=G[lt],Ot=T[At];(void 0===Ot||(0,E.Z)(Ot,c[At])&&!g.call(T,At))&&(T[At]=I[At])}return T})},6232:(K,m,r)=>{r.d(m,{Z:()=>b});var a=r(207),E=r(3789);const p=function h(T,S){var F=[];return(0,E.Z)(T,function(x,C,I){S(x,C,I)&&F.push(x)}),F};var c=r(2349),g=r(9977);const b=function y(T,S){return((0,g.Z)(T)?a.Z:p)(T,(0,c.Z)(S,3))}},7506:(K,m,r)=>{r.d(m,{Z:()=>h});var a=r(4583);const h=function E(p){return null!=p&&p.length?(0,a.Z)(p,1):[]}},9547:(K,m,r)=>{r.d(m,{Z:()=>g});var a=r(4899),E=r(3789),h=r(8606),p=r(9977);const g=function c(y,b){return((0,p.Z)(y)?a.Z:E.Z)(y,(0,h.Z)(b))}},8627:(K,m,r)=>{r.d(m,{Z:()=>y});var E=Object.prototype.hasOwnProperty;const p=function h(b,T){return null!=b&&E.call(b,T)};var c=r(857);const y=function g(b,T){return null!=b&&(0,c.Z)(b,T,p)}},5094:(K,m,r)=>{r.d(m,{Z:()=>c});const E=function a(g,y){return null!=g&&y in Object(g)};var h=r(857);const c=function p(g,y){return null!=g&&(0,h.Z)(g,y,E)}},1974:(K,m,r)=>{r.d(m,{Z:()=>E});const E=function a(h){return h}},9568:(K,m,r)=>{r.d(m,{Z:()=>p});var a=r(6247),E=r(1196);const p=function h(c){return(0,E.Z)(c)&&(0,a.Z)(c)}},5511:(K,m,r)=>{r.d(m,{Z:()=>F});var a=r(3844),E=r(5234),h=r(1196),y=Function.prototype.toString,b=Object.prototype.hasOwnProperty,T=y.call(Object);const F=function S(x){if(!(0,h.Z)(x)||"[object Object]"!=(0,a.Z)(x))return!1;var C=(0,E.Z)(x);if(null===C)return!0;var I=b.call(C,"constructor")&&C.constructor;return"function"==typeof I&&I instanceof I&&y.call(I)==T}},7106:(K,m,r)=>{r.d(m,{Z:()=>c});var a=r(3844),E=r(1196);const c=function p(g){return"symbol"==typeof g||(0,E.Z)(g)&&"[object Symbol]"==(0,a.Z)(g)}},7002:(K,m,r)=>{r.d(m,{Z:()=>E});const E=function a(h){return void 0===h}},4181:(K,m,r)=>{r.d(m,{Z:()=>c});var a=r(9416),E=r(8217),h=r(6247);const c=function p(g){return(0,h.Z)(g)?(0,a.Z)(g):(0,E.Z)(g)}},516:(K,m,r)=>{r.d(m,{Z:()=>x});var a=r(9416),E=r(5829),h=r(801);var y=Object.prototype.hasOwnProperty;const T=function b(C){if(!(0,E.Z)(C))return function p(C){var I=[];if(null!=C)for(var G in Object(C))I.push(G);return I}(C);var I=(0,h.Z)(C),G=[];for(var lt in C)"constructor"==lt&&(I||!y.call(C,lt))||G.push(lt);return G};var S=r(6247);const x=function F(C){return(0,S.Z)(C)?(0,a.Z)(C,!0):T(C)}},4550:(K,m,r)=>{r.d(m,{Z:()=>g});var a=r(2720),E=r(2349),h=r(2436),p=r(9977);const g=function c(y,b){return((0,p.Z)(y)?a.Z:h.Z)(y,(0,E.Z)(b,3))}},7050:(K,m,r)=>{r.d(m,{Z:()=>V});var a=r(4818),E=r(4416),h=r(5078),p=r(1885),c=r(5829),g=r(7801);const b=function y(rt,Mt,se,jt){if(!(0,c.Z)(rt))return rt;for(var Ut=-1,Jt=(Mt=(0,h.Z)(Mt,rt)).length,Ht=Jt-1,it=rt;null!=it&&++Ut<Jt;){var Ft=(0,g.Z)(Mt[Ut]),te=se;if("__proto__"===Ft||"constructor"===Ft||"prototype"===Ft)return rt;if(Ut!=Ht){var de=it[Ft];void 0===(te=jt?jt(de,Ft,it):void 0)&&(te=(0,c.Z)(de)?de:(0,p.Z)(Mt[Ut+1])?[]:{})}(0,E.Z)(it,Ft,te),it=it[Ft]}return rt};var F=r(5094);const C=function x(rt,Mt){return function T(rt,Mt,se){for(var jt=-1,Ut=Mt.length,Jt={};++jt<Ut;){var Ht=Mt[jt],it=(0,a.Z)(rt,Ht);se(it,Ht)&&b(Jt,(0,h.Z)(Ht,rt),it)}return Jt}(rt,Mt,function(se,jt){return(0,F.Z)(rt,jt)})};var I=r(7506),G=r(9007),lt=r(7304);const V=function st(rt){return(0,lt.Z)((0,G.Z)(rt,void 0,I.Z),rt+"")}(function(rt,Mt){return null==rt?{}:C(rt,Mt)})},9768:(K,m,r)=>{r.d(m,{Z:()=>S});var a=Math.ceil,E=Math.max;var c=r(1799),g=r(231);const S=function y(F){return function(x,C,I){return I&&"number"!=typeof I&&(0,c.Z)(x,C,I)&&(C=I=void 0),x=(0,g.Z)(x),void 0===C?(C=x,x=0):C=(0,g.Z)(C),function h(F,x,C,I){for(var G=-1,lt=E(a((x-F)/(C||1)),0),st=Array(lt);lt--;)st[I?lt:++G]=F,F+=C;return st}(x,C,I=void 0===I?x<C?1:-1:(0,g.Z)(I),F)}}()},2621:(K,m,r)=>{r.d(m,{Z:()=>T});const E=function a(S,F,x,C){var I=-1,G=null==S?0:S.length;for(C&&G&&(x=S[++I]);++I<G;)x=F(x,S[I],I,S);return x};var h=r(3789),p=r(2349);const g=function c(S,F,x,C,I){return I(S,function(G,lt,st){x=C?(C=!1,G):F(x,G,lt,st)}),x};var y=r(9977);const T=function b(S,F,x){var C=(0,y.Z)(S)?E:g,I=arguments.length<3;return C(S,(0,p.Z)(F,4),x,I,h.Z)}},3534:(K,m,r)=>{r.d(m,{Z:()=>E});const E=function a(){return[]}},231:(K,m,r)=>{r.d(m,{Z:()=>Ot});var a=/\s/;var p=/^\s+/;const g=function c(V){return V&&V.slice(0,function E(V){for(var rt=V.length;rt--&&a.test(V.charAt(rt)););return rt}(V)+1).replace(p,"")};var y=r(5829),b=r(7106),S=/^[-+]0x[0-9a-f]+$/i,F=/^0b[01]+$/i,x=/^0o[0-7]+$/i,C=parseInt;const Ot=function At(V){return V?1/0===(V=function I(V){if("number"==typeof V)return V;if((0,b.Z)(V))return NaN;if((0,y.Z)(V)){var rt="function"==typeof V.valueOf?V.valueOf():V;V=(0,y.Z)(rt)?rt+"":rt}if("string"!=typeof V)return 0===V?V:+V;V=g(V);var Mt=F.test(V);return Mt||x.test(V)?C(V.slice(2),Mt?2:8):S.test(V)?NaN:+V}(V))||-1/0===V?17976931348623157e292*(V<0?-1:1):V==V?V:0:0===V?V:0}},4471:(K,m,r)=>{r.d(m,{Z:()=>F});var a=r(6875),E=r(2720),h=r(9977),p=r(7106),g=a.Z?a.Z.prototype:void 0,y=g?g.toString:void 0;const T=function b(x){if("string"==typeof x)return x;if((0,h.Z)(x))return(0,E.Z)(x,b)+"";if((0,p.Z)(x))return y?y.call(x):"";var C=x+"";return"0"==C&&1/x==-1/0?"-0":C},F=function S(x){return null==x?"":T(x)}},902:(K,m,r)=>{r.d(m,{Z:()=>p});var a=r(4471),E=0;const p=function h(c){var g=++E;return(0,a.Z)(c)+g}},7402:(K,m,r)=>{r.d(m,{Z:()=>g});var a=r(2720);var p=r(4181);const g=function c(y){return null==y?[]:function E(y,b){return(0,a.Z)(b,function(T){return y[T]})}(y,(0,p.Z)(y))}},1502:(K,m,r)=>{r.r(m),r.d(m,{diagram:()=>Ee});var a=r(1259),E=r(7528),h=r(5761),p=r(5346),c=r(1599),g=r(2083);r(896),r(3304),r(398);const S={},V=(W,J,_t)=>{const Q=(0,c.g)().state.padding,ut=2*(0,c.g)().state.padding,gt=W.node().getBBox(),Zt=gt.width,Y=gt.x,dt=W.append("text").attr("x",0).attr("y",(0,c.g)().state.titleShift).attr("font-size",(0,c.g)().state.fontSize).attr("class","state-title").text(J.id),Et=dt.node().getBBox().width+ut;let l,U=Math.max(Et,Zt);U===Zt&&(U+=ut);const A=W.node().getBBox();l=Y-Q,Et>Zt&&(l=(Zt-U)/2+Q),Math.abs(Y-A.x)<Q&&Et>Zt&&(l=Y-(Et-Zt)/2);const w=1-(0,c.g)().state.textHeight;return W.insert("rect",":first-child").attr("x",l).attr("y",w).attr("class",_t?"alt-composit":"composit").attr("width",U).attr("height",A.height+(0,c.g)().state.textHeight+(0,c.g)().state.titleShift+1).attr("rx","0"),dt.attr("x",l+Q),Et<=Zt&&dt.attr("x",Y+(U-ut)/2-Et/2+Q),W.insert("rect",":first-child").attr("x",l).attr("y",(0,c.g)().state.titleShift-(0,c.g)().state.textHeight-(0,c.g)().state.padding).attr("width",U).attr("height",3*(0,c.g)().state.textHeight).attr("rx",(0,c.g)().state.radius),W.insert("rect",":first-child").attr("x",l).attr("y",(0,c.g)().state.titleShift-(0,c.g)().state.textHeight-(0,c.g)().state.padding).attr("width",U).attr("height",A.height+3+2*(0,c.g)().state.textHeight).attr("rx",(0,c.g)().state.radius),W},Ut=function(W,J){const _t=J.id,Q={id:_t,label:J.id,width:0,height:0},ut=W.append("g").attr("id",_t).attr("class","stateGroup");"start"===J.type&&(W=>{W.append("circle").attr("class","start-state").attr("r",(0,c.g)().state.sizeUnit).attr("cx",(0,c.g)().state.padding+(0,c.g)().state.sizeUnit).attr("cy",(0,c.g)().state.padding+(0,c.g)().state.sizeUnit)})(ut),"end"===J.type&&(W=>{W.append("circle").attr("class","end-state-outer").attr("r",(0,c.g)().state.sizeUnit+(0,c.g)().state.miniPadding).attr("cx",(0,c.g)().state.padding+(0,c.g)().state.sizeUnit+(0,c.g)().state.miniPadding).attr("cy",(0,c.g)().state.padding+(0,c.g)().state.sizeUnit+(0,c.g)().state.miniPadding),W.append("circle").attr("class","end-state-inner").attr("r",(0,c.g)().state.sizeUnit).attr("cx",(0,c.g)().state.padding+(0,c.g)().state.sizeUnit+2).attr("cy",(0,c.g)().state.padding+(0,c.g)().state.sizeUnit+2)})(ut),("fork"===J.type||"join"===J.type)&&((W,J)=>{let _t=(0,c.g)().state.forkWidth,Q=(0,c.g)().state.forkHeight;if(J.parentId){let ut=_t;_t=Q,Q=ut}W.append("rect").style("stroke","black").style("fill","black").attr("width",_t).attr("height",Q).attr("x",(0,c.g)().state.padding).attr("y",(0,c.g)().state.padding)})(ut,J),"note"===J.type&&((W,J)=>{J.attr("class","state-note");const _t=J.append("rect").attr("x",0).attr("y",(0,c.g)().state.padding),Q=J.append("g"),{textWidth:ut,textHeight:gt}=((W,J,_t,Q)=>{let ut=0;const gt=Q.append("text");gt.style("text-anchor","start"),gt.attr("class","noteText");let Zt=W.replace(/\r\n/g,"<br/>");Zt=Zt.replace(/\n/g,"<br/>");const Y=Zt.split(c.e.lineBreakRegex);let dt=1.25*(0,c.g)().state.noteMargin;for(const It of Y){const Et=It.trim();if(Et.length>0){const U=gt.append("tspan");U.text(Et),0===dt&&(dt+=U.node().getBBox().height),ut+=dt,U.attr("x",0+(0,c.g)().state.noteMargin),U.attr("y",0+ut+1.25*(0,c.g)().state.noteMargin)}}return{textWidth:gt.node().getBBox().width,textHeight:ut}})(W,0,0,Q);_t.attr("height",gt+2*(0,c.g)().state.noteMargin),_t.attr("width",ut+2*(0,c.g)().state.noteMargin)})(J.note.text,ut),"divider"===J.type&&(W=>{W.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",(0,c.g)().state.textHeight).attr("class","divider").attr("x2",2*(0,c.g)().state.textHeight).attr("y1",0).attr("y2",0)})(ut),"default"===J.type&&0===J.descriptions.length&&((W,J)=>{const Q=W.append("text").attr("x",2*(0,c.g)().state.padding).attr("y",(0,c.g)().state.textHeight+2*(0,c.g)().state.padding).attr("font-size",(0,c.g)().state.fontSize).attr("class","state-title").text(J.id).node().getBBox();W.insert("rect",":first-child").attr("x",(0,c.g)().state.padding).attr("y",(0,c.g)().state.padding).attr("width",Q.width+2*(0,c.g)().state.padding).attr("height",Q.height+2*(0,c.g)().state.padding).attr("rx",(0,c.g)().state.radius)})(ut,J),"default"===J.type&&J.descriptions.length>0&&((W,J)=>{const ut=W.append("text").attr("x",2*(0,c.g)().state.padding).attr("y",(0,c.g)().state.textHeight+1.3*(0,c.g)().state.padding).attr("font-size",(0,c.g)().state.fontSize).attr("class","state-title").text(J.descriptions[0]).node().getBBox(),gt=ut.height,Zt=W.append("text").attr("x",(0,c.g)().state.padding).attr("y",gt+.4*(0,c.g)().state.padding+(0,c.g)().state.dividerMargin+(0,c.g)().state.textHeight).attr("class","state-description");let Y=!0,dt=!0;J.descriptions.forEach(function(l){Y||(function(l,A,w){const k=l.append("tspan").attr("x",2*(0,c.g)().state.padding).text(A);w||k.attr("dy",(0,c.g)().state.textHeight)}(Zt,l,dt),dt=!1),Y=!1});const It=W.append("line").attr("x1",(0,c.g)().state.padding).attr("y1",(0,c.g)().state.padding+gt+(0,c.g)().state.dividerMargin/2).attr("y2",(0,c.g)().state.padding+gt+(0,c.g)().state.dividerMargin/2).attr("class","descr-divider"),Et=Zt.node().getBBox(),U=Math.max(Et.width,ut.width);It.attr("x2",U+3*(0,c.g)().state.padding),W.insert("rect",":first-child").attr("x",(0,c.g)().state.padding).attr("y",(0,c.g)().state.padding).attr("width",U+2*(0,c.g)().state.padding).attr("height",Et.height+gt+2*(0,c.g)().state.padding).attr("rx",(0,c.g)().state.radius)})(ut,J);const gt=ut.node().getBBox();return Q.width=gt.width+2*(0,c.g)().state.padding,Q.height=gt.height+2*(0,c.g)().state.padding,((W,J)=>{S[W]=J})(_t,Q),Q};let it,Jt=0;const Ft={},ce=W=>W?W.length*it.fontSizeFactor:1,pe=(W,J,_t,Q,ut,gt,Zt)=>{const Y=new p.k({compound:!0,multigraph:!0});let dt,It=!0;for(dt=0;dt<W.length;dt++)if("relation"===W[dt].stmt){It=!1;break}Y.setGraph(_t?{rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:It?1:it.edgeLengthFactor,nodeSep:It?1:50,isMultiGraph:!0}:{rankdir:"TB",multigraph:!0,compound:!0,ranksep:It?1:it.edgeLengthFactor,nodeSep:It?1:50,ranker:"tight-tree",isMultiGraph:!0}),Y.setDefaultEdgeLabel(function(){return{}}),Zt.db.extract(W);const Et=Zt.db.getStates(),U=Zt.db.getRelations(),l=Object.keys(Et);for(const B of l){const H=Et[B];let at;if(_t&&(H.parentId=_t),H.doc){let Lt=J.append("g").attr("id",H.id).attr("class","stateGroup");at=pe(H.doc,Lt,H.id,!Q,ut,gt,Zt);{Lt=V(Lt,H,Q);let kt=Lt.node().getBBox();at.width=kt.width,at.height=kt.height+it.padding/2,Ft[H.id]={y:it.compositTitleSize}}}else at=Ut(J,H);if(H.note){const kt=Ut(J,{descriptions:[],id:H.id+"-note",note:H.note,type:"note"});"left of"===H.note.position?(Y.setNode(at.id+"-note",kt),Y.setNode(at.id,at)):(Y.setNode(at.id,at),Y.setNode(at.id+"-note",kt)),Y.setParent(at.id,at.id+"-group"),Y.setParent(at.id+"-note",at.id+"-group")}else Y.setNode(at.id,at)}c.l.debug("Count=",Y.nodeCount(),Y);let A=0;U.forEach(function(B){A++,c.l.debug("Setting edge",B),Y.setEdge(B.id1,B.id2,{relation:B,width:ce(B.title),height:it.labelHeight*c.e.getRows(B.title).length,labelpos:"c"},"id"+A)}),(0,h.bK)(Y),c.l.debug("Graph after layout",Y.nodes());const w=J.node();Y.nodes().forEach(function(B){void 0!==B&&void 0!==Y.node(B)?(c.l.warn("Node "+B+": "+JSON.stringify(Y.node(B))),ut.select("#"+w.id+" #"+B).attr("transform","translate("+(Y.node(B).x-Y.node(B).width/2)+","+(Y.node(B).y+(Ft[B]?Ft[B].y:0)-Y.node(B).height/2)+" )"),ut.select("#"+w.id+" #"+B).attr("data-x-shift",Y.node(B).x-Y.node(B).width/2),gt.querySelectorAll("#"+w.id+" #"+B+" .divider").forEach(at=>{const Lt=at.parentElement;let kt=0,Yt=0;Lt&&(Lt.parentElement&&(kt=Lt.parentElement.getBBox().width),Yt=parseInt(Lt.getAttribute("data-x-shift"),10),Number.isNaN(Yt)&&(Yt=0)),at.setAttribute("x1",0-Yt+8),at.setAttribute("x2",kt-Yt-8)})):c.l.debug("No Node "+B+": "+JSON.stringify(Y.node(B)))});let k=w.getBBox();Y.edges().forEach(function(B){void 0!==B&&void 0!==Y.edge(B)&&(c.l.debug("Edge "+B.v+" -> "+B.w+": "+JSON.stringify(Y.edge(B))),function(W,J,_t){J.points=J.points.filter(dt=>!Number.isNaN(dt.y));const ut=J.points,gt=(0,E.jvg)().x(function(dt){return dt.x}).y(function(dt){return dt.y}).curve(E.$0Z),Zt=W.append("path").attr("d",gt(ut)).attr("id","edge"+Jt).attr("class","transition");let Y="";if((0,c.g)().state.arrowMarkerAbsolute&&(Y=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Y=Y.replace(/\(/g,"\\("),Y=Y.replace(/\)/g,"\\)")),Zt.attr("marker-end","url("+Y+"#"+function(dt){switch(dt){case a.d.relationType.AGGREGATION:return"aggregation";case a.d.relationType.EXTENSION:return"extension";case a.d.relationType.COMPOSITION:return"composition";case a.d.relationType.DEPENDENCY:return"dependency"}}(a.d.relationType.DEPENDENCY)+"End)"),void 0!==_t.title){const dt=W.append("g").attr("class","stateLabel"),{x:It,y:Et}=g.u.calcLabelPosition(J.points),U=c.e.getRows(_t.title);let l=0;const A=[];let w=0,k=0;for(let H=0;H<=U.length;H++){const at=dt.append("text").attr("text-anchor","middle").text(U[H]).attr("x",It).attr("y",Et+l),Lt=at.node().getBBox();w=Math.max(w,Lt.width),k=Math.min(k,Lt.x),c.l.info(Lt.x,It,Et+l),0===l&&(l=at.node().getBBox().height,c.l.info("Title height",l,Et)),A.push(at)}let nt=l*U.length;if(U.length>1){const H=(U.length-1)*l*.5;A.forEach((at,Lt)=>at.attr("y",Et+Lt*l-H)),nt=l*U.length}const B=dt.node().getBBox();dt.insert("rect",":first-child").attr("class","box").attr("x",It-w/2-(0,c.g)().state.padding/2).attr("y",Et-nt/2-(0,c.g)().state.padding/2-3.5).attr("width",w+(0,c.g)().state.padding).attr("height",nt+(0,c.g)().state.padding),c.l.info(B)}Jt++}(J,Y.edge(B),Y.edge(B).relation))}),k=w.getBBox();const nt={id:_t||"root",label:_t||"root",width:0,height:0};return nt.width=k.width+2*it.padding,nt.height=k.height+2*it.padding,c.l.debug("Doc rendered",nt,Y),nt},Ee={parser:a.p,db:a.d,renderer:{setConf:function(){},draw:function(W,J,_t,Q){it=(0,c.g)().state;const ut=(0,c.g)().securityLevel;let gt;"sandbox"===ut&&(gt=(0,E.Ys)("#i"+J));const Zt=(0,E.Ys)("sandbox"===ut?gt.nodes()[0].contentDocument.body:"body"),Y="sandbox"===ut?gt.nodes()[0].contentDocument:document;c.l.debug("Rendering diagram "+W);const dt=Zt.select(`[id='${J}']`);(function(W){W.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")})(dt),new p.k({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});const Et=Q.db.getRootDoc();pe(Et,dt,void 0,!1,Zt,Y,Q);const U=it.padding,l=dt.node().getBBox(),A=l.width+2*U,w=l.height+2*U;(0,g.k)(dt,w,1.75*A,it.useMaxWidth),dt.attr("viewBox",`${l.x-it.padding}  ${l.y-it.padding} `+A+" "+w)}},styles:a.s,init:W=>{W.state||(W.state={}),W.state.arrowMarkerAbsolute=W.arrowMarkerAbsolute,a.d.clear()}}},1259:(K,m,r)=>{r.d(m,{D:()=>g,S:()=>T,a:()=>x,b:()=>C,c:()=>b,d:()=>We,e:()=>y,p:()=>c,s:()=>Ue});var a=r(1599),E=r(2083),h=r(8096),p=function(){var f=function(Xt,j,z,X){for(z=z||{},X=Xt.length;X--;z[Xt[X]]=j);return z},N=[1,2],$=[1,3],pt=[1,5],mt=[1,7],yt=[2,5],wt=[1,15],ie=[1,17],Pt=[1,21],Qt=[1,22],ue=[1,23],xe=[1,24],me=[1,37],fe=[1,25],Se=[1,26],Te=[1,27],Ce=[1,28],Me=[1,29],Ae=[1,32],_e=[1,33],P=[1,34],D=[1,35],tt=[1,36],ot=[1,39],Ct=[1,40],ft=[1,41],Rt=[1,42],xt=[1,38],Nt=[1,45],q=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],zt=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],Kt=[1,4,5,7,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],Bt=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],ae={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,classDefStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"--\x3e":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,class:42,CLASSENTITY_IDS:43,STYLECLASS:44,openDirective:45,typeDirective:46,closeDirective:47,":":48,argDirective:49,direction_tb:50,direction_bt:51,direction_rl:52,direction_lr:53,eol:54,";":55,EDGE_STATE:56,STYLE_SEPARATOR:57,left_of:58,right_of:59,open_directive:60,type_directive:61,arg_directive:62,close_directive:63,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",14:"DESCR",15:"--\x3e",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"class",43:"CLASSENTITY_IDS",44:"STYLECLASS",48:":",50:"direction_tb",51:"direction_bt",52:"direction_rl",53:"direction_lr",55:";",56:"EDGE_STATE",57:"STYLE_SEPARATOR",58:"left_of",59:"right_of",60:"open_directive",61:"type_directive",62:"arg_directive",63:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[11,3],[11,3],[12,3],[6,3],[6,5],[32,1],[32,1],[32,1],[32,1],[54,1],[54,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1],[45,1],[46,1],[49,1],[47,1]],performAction:function(j,z,X,ht,St,R,ge){var et=R.length-1;switch(St){case 4:return ht.setRootDoc(R[et]),R[et];case 5:this.$=[];break;case 6:"nl"!=R[et]&&(R[et-1].push(R[et]),this.$=R[et-1]);break;case 7:case 8:case 12:this.$=R[et];break;case 9:this.$="nl";break;case 13:const bt=R[et-1];bt.description=ht.trimColon(R[et]),this.$=bt;break;case 14:this.$={stmt:"relation",state1:R[et-2],state2:R[et]};break;case 15:const Le=ht.trimColon(R[et]);this.$={stmt:"relation",state1:R[et-3],state2:R[et-1],description:Le};break;case 19:this.$={stmt:"state",id:R[et-3],type:"default",description:"",doc:R[et-1]};break;case 20:var Oe=R[et],De=R[et-2].trim();if(R[et].match(":")){var ke=R[et].split(":");Oe=ke[0],De=[De,ke[1]]}this.$={stmt:"state",id:Oe,type:"default",description:De};break;case 21:this.$={stmt:"state",id:R[et-3],type:"default",description:R[et-5],doc:R[et-1]};break;case 22:this.$={stmt:"state",id:R[et],type:"fork"};break;case 23:this.$={stmt:"state",id:R[et],type:"join"};break;case 24:this.$={stmt:"state",id:R[et],type:"choice"};break;case 25:this.$={stmt:"state",id:ht.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:R[et-1].trim(),note:{position:R[et-2].trim(),text:R[et].trim()}};break;case 30:this.$=R[et].trim(),ht.setAccTitle(this.$);break;case 31:case 32:this.$=R[et].trim(),ht.setAccDescription(this.$);break;case 33:case 34:this.$={stmt:"classDef",id:R[et-1].trim(),classes:R[et].trim()};break;case 35:this.$={stmt:"applyClass",id:R[et-1].trim(),styleClass:R[et].trim()};break;case 38:ht.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:ht.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:ht.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:ht.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:R[et].trim(),type:"default",description:""};break;case 46:case 47:this.$={stmt:"state",id:R[et-2].trim(),classes:[R[et].trim()],type:"default",description:""};break;case 50:ht.parseDirective("%%{","open_directive");break;case 51:ht.parseDirective(R[et],"type_directive");break;case 52:R[et]=R[et].trim().replace(/'/g,'"'),ht.parseDirective(R[et],"arg_directive");break;case 53:ht.parseDirective("}%%","close_directive","state")}},table:[{3:1,4:N,5:$,6:4,7:pt,45:6,60:mt},{1:[3]},{3:8,4:N,5:$,6:4,7:pt,45:6,60:mt},{3:9,4:N,5:$,6:4,7:pt,45:6,60:mt},{3:10,4:N,5:$,6:4,7:pt,45:6,60:mt},f([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],yt,{8:11}),{46:12,61:[1,13]},{61:[2,50]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:wt,5:ie,6:30,9:14,10:16,11:18,12:19,13:20,16:Pt,17:Qt,19:ue,22:xe,24:me,25:fe,26:Se,27:Te,28:Ce,29:Me,32:31,33:Ae,35:_e,37:P,38:D,42:tt,45:6,50:ot,51:Ct,52:ft,53:Rt,56:xt,60:mt},{47:43,48:[1,44],63:Nt},f([48,63],[2,51]),f(q,[2,6]),{6:30,10:46,11:18,12:19,13:20,16:Pt,17:Qt,19:ue,22:xe,24:me,25:fe,26:Se,27:Te,28:Ce,29:Me,32:31,33:Ae,35:_e,37:P,38:D,42:tt,45:6,50:ot,51:Ct,52:ft,53:Rt,56:xt,60:mt},f(q,[2,8]),f(q,[2,9]),f(q,[2,10]),f(q,[2,11]),f(q,[2,12],{14:[1,47],15:[1,48]}),f(q,[2,16]),{18:[1,49]},f(q,[2,18],{20:[1,50]}),{23:[1,51]},f(q,[2,22]),f(q,[2,23]),f(q,[2,24]),f(q,[2,25]),{30:52,31:[1,53],58:[1,54],59:[1,55]},f(q,[2,28]),f(q,[2,29]),{34:[1,56]},{36:[1,57]},f(q,[2,32]),{39:[1,58],41:[1,59]},{43:[1,60]},f(zt,[2,44],{57:[1,61]}),f(zt,[2,45],{57:[1,62]}),f(q,[2,38]),f(q,[2,39]),f(q,[2,40]),f(q,[2,41]),f(Kt,[2,36]),{49:63,62:[1,64]},f(Kt,[2,53]),f(q,[2,7]),f(q,[2,13]),{13:65,24:me,56:xt},f(q,[2,17]),f(Bt,yt,{8:66}),{24:[1,67]},{24:[1,68]},{23:[1,69]},{24:[2,48]},{24:[2,49]},f(q,[2,30]),f(q,[2,31]),{40:[1,70]},{40:[1,71]},{44:[1,72]},{24:[1,73]},{24:[1,74]},{47:75,63:Nt},{63:[2,52]},f(q,[2,14],{14:[1,76]}),{4:wt,5:ie,6:30,9:14,10:16,11:18,12:19,13:20,16:Pt,17:Qt,19:ue,21:[1,77],22:xe,24:me,25:fe,26:Se,27:Te,28:Ce,29:Me,32:31,33:Ae,35:_e,37:P,38:D,42:tt,45:6,50:ot,51:Ct,52:ft,53:Rt,56:xt,60:mt},f(q,[2,20],{20:[1,78]}),{31:[1,79]},{24:[1,80]},f(q,[2,33]),f(q,[2,34]),f(q,[2,35]),f(zt,[2,46]),f(zt,[2,47]),f(Kt,[2,37]),f(q,[2,15]),f(q,[2,19]),f(Bt,yt,{8:81}),f(q,[2,26]),f(q,[2,27]),{4:wt,5:ie,6:30,9:14,10:16,11:18,12:19,13:20,16:Pt,17:Qt,19:ue,21:[1,82],22:xe,24:me,25:fe,26:Se,27:Te,28:Ce,29:Me,32:31,33:Ae,35:_e,37:P,38:D,42:tt,45:6,50:ot,51:Ct,52:ft,53:Rt,56:xt,60:mt},f(q,[2,21])],defaultActions:{7:[2,50],8:[2,1],9:[2,2],10:[2,3],54:[2,48],55:[2,49],64:[2,52]},parseError:function(j,z){if(!z.recoverable){var X=new Error(j);throw X.hash=z,X}this.trace(j)},parse:function(j){var X=[0],ht=[],St=[null],R=[],ge=this.table,et="",Oe=0,De=0,Le=R.slice.call(arguments,1),Vt=Object.create(this.lexer),L={yy:{}};for(var Tt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Tt)&&(L.yy[Tt]=this.yy[Tt]);Vt.setInput(j,L.yy),L.yy.lexer=Vt,L.yy.parser=this,typeof Vt.yylloc>"u"&&(Vt.yylloc={});var $t=Vt.yylloc;R.push($t);var he,Ie=Vt.options&&Vt.options.ranges;this.parseError="function"==typeof L.yy.parseError?L.yy.parseError:Object.getPrototypeOf(this).parseError;for(var Wt,Gt,ne,we,ve,re,Re,Ze={};;){if(this.defaultActions[Gt=X[X.length-1]]?ne=this.defaultActions[Gt]:((null===Wt||typeof Wt>"u")&&(he=void 0,"number"!=typeof(he=ht.pop()||Vt.lex()||1)&&(he instanceof Array&&(he=(ht=he).pop()),he=this.symbols_[he]||he),Wt=he),ne=ge[Gt]&&ge[Gt][Wt]),typeof ne>"u"||!ne.length||!ne[0]){var Ye;for(ve in Re=[],ge[Gt])this.terminals_[ve]&&ve>2&&Re.push("'"+this.terminals_[ve]+"'");Ye=Vt.showPosition?"Parse error on line "+(Oe+1)+":\n"+Vt.showPosition()+"\nExpecting "+Re.join(", ")+", got '"+(this.terminals_[Wt]||Wt)+"'":"Parse error on line "+(Oe+1)+": Unexpected "+(1==Wt?"end of input":"'"+(this.terminals_[Wt]||Wt)+"'"),this.parseError(Ye,{text:Vt.match,token:this.terminals_[Wt]||Wt,line:Vt.yylineno,loc:$t,expected:Re})}if(ne[0]instanceof Array&&ne.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Gt+", token: "+Wt);switch(ne[0]){case 1:X.push(Wt),St.push(Vt.yytext),R.push(Vt.yylloc),X.push(ne[1]),Wt=null,De=Vt.yyleng,et=Vt.yytext,Oe=Vt.yylineno,$t=Vt.yylloc;break;case 2:if(Ze.$=St[St.length-(re=this.productions_[ne[1]][1])],Ze._$={first_line:R[R.length-(re||1)].first_line,last_line:R[R.length-1].last_line,first_column:R[R.length-(re||1)].first_column,last_column:R[R.length-1].last_column},Ie&&(Ze._$.range=[R[R.length-(re||1)].range[0],R[R.length-1].range[1]]),typeof(we=this.performAction.apply(Ze,[et,De,Oe,L.yy,ne[1],St,R].concat(Le)))<"u")return we;re&&(X=X.slice(0,-1*re*2),St=St.slice(0,-1*re),R=R.slice(0,-1*re)),X.push(this.productions_[ne[1]][0]),St.push(Ze.$),R.push(Ze._$),X.push(ge[X[X.length-2]][X[X.length-1]]);break;case 3:return!0}}return!0}};function ee(){this.yy={}}return ae.lexer={EOF:1,parseError:function(z,X){if(!this.yy.parser)throw new Error(z);this.yy.parser.parseError(z,X)},setInput:function(j,z){return this.yy=z||this.yy||{},this._input=j,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var j=this._input[0];return this.yytext+=j,this.yyleng++,this.offset++,this.match+=j,this.matched+=j,j.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),j},unput:function(j){var z=j.length,X=j.split(/(?:\r\n?|\n)/g);this._input=j+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-z),this.offset-=z;var ht=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),X.length-1&&(this.yylineno-=X.length-1);var St=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:X?(X.length===ht.length?this.yylloc.first_column:0)+ht[ht.length-X.length].length-X[0].length:this.yylloc.first_column-z},this.options.ranges&&(this.yylloc.range=[St[0],St[0]+this.yyleng-z]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(j){this.unput(this.match.slice(j))},pastInput:function(){var j=this.matched.substr(0,this.matched.length-this.match.length);return(j.length>20?"...":"")+j.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var j=this.match;return j.length<20&&(j+=this._input.substr(0,20-j.length)),(j.substr(0,20)+(j.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var j=this.pastInput(),z=new Array(j.length+1).join("-");return j+this.upcomingInput()+"\n"+z+"^"},test_match:function(j,z){var X,ht,St;if(this.options.backtrack_lexer&&(St={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(St.yylloc.range=this.yylloc.range.slice(0))),(ht=j[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=ht.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ht?ht[ht.length-1].length-ht[ht.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+j[0].length},this.yytext+=j[0],this.match+=j[0],this.matches=j,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(j[0].length),this.matched+=j[0],X=this.performAction.call(this,this.yy,this,z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),X)return X;if(this._backtrack){for(var R in St)this[R]=St[R];return!1}return!1},next:function(){if(this.done)return this.EOF;var j,z,X,ht;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var St=this._currentRules(),R=0;R<St.length;R++)if((X=this._input.match(this.rules[St[R]]))&&(!z||X[0].length>z[0].length)){if(z=X,ht=R,this.options.backtrack_lexer){if(!1!==(j=this.test_match(X,St[R])))return j;if(this._backtrack){z=!1;continue}return!1}if(!this.options.flex)break}return z?!1!==(j=this.test_match(z,St[ht]))&&j:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(z){this.conditionStack.push(z)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(z){return(z=this.conditionStack.length-1-Math.abs(z||0))>=0?this.conditionStack[z]:"INITIAL"},pushState:function(z){this.begin(z)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(z,X,ht,St){switch(ht){case 0:return 41;case 1:case 44:return 50;case 2:case 45:return 51;case 3:case 46:return 52;case 4:case 47:return 53;case 5:return this.begin("open_directive"),60;case 6:return this.begin("type_directive"),61;case 7:return this.popState(),this.begin("arg_directive"),48;case 8:return this.popState(),this.popState(),63;case 9:return 62;case 10:case 11:case 13:case 14:case 15:case 16:case 56:case 58:case 64:break;case 12:case 79:return 5;case 17:case 34:return this.pushState("SCALE"),17;case 18:case 35:return 18;case 19:case 25:case 36:case 51:case 54:this.popState();break;case 20:return this.begin("acc_title"),33;case 21:return this.popState(),"acc_title_value";case 22:return this.begin("acc_descr"),35;case 23:return this.popState(),"acc_descr_value";case 24:this.begin("acc_descr_multiline");break;case 26:return"acc_descr_multiline_value";case 27:return this.pushState("CLASSDEF"),38;case 28:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 29:return this.popState(),this.pushState("CLASSDEFID"),39;case 30:return this.popState(),40;case 31:return this.pushState("CLASS"),42;case 32:return this.popState(),this.pushState("CLASS_STYLE"),43;case 33:return this.popState(),44;case 37:this.pushState("STATE");break;case 38:case 41:return this.popState(),X.yytext=X.yytext.slice(0,-8).trim(),25;case 39:case 42:return this.popState(),X.yytext=X.yytext.slice(0,-8).trim(),26;case 40:case 43:return this.popState(),X.yytext=X.yytext.slice(0,-10).trim(),27;case 48:this.pushState("STATE_STRING");break;case 49:return this.pushState("STATE_ID"),"AS";case 50:case 66:return this.popState(),"ID";case 52:return"STATE_DESCR";case 53:return 19;case 55:return this.popState(),this.pushState("struct"),20;case 57:return this.popState(),21;case 59:return this.begin("NOTE"),29;case 60:return this.popState(),this.pushState("NOTE_ID"),58;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:this.popState(),this.pushState("FLOATING_NOTE");break;case 63:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 65:return"NOTE_TEXT";case 67:return this.popState(),this.pushState("NOTE_TEXT"),24;case 68:return this.popState(),X.yytext=X.yytext.substr(2).trim(),31;case 69:return this.popState(),X.yytext=X.yytext.slice(0,-8).trim(),31;case 70:case 71:return 7;case 72:return 16;case 73:return 56;case 74:return 24;case 75:return X.yytext=X.yytext.trim(),14;case 76:return 15;case 77:return 28;case 78:return 57;case 80:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[14,15],inclusive:!1},close_directive:{rules:[14,15],inclusive:!1},arg_directive:{rules:[8,9,14,15],inclusive:!1},type_directive:{rules:[7,8,14,15],inclusive:!1},open_directive:{rules:[6,14,15],inclusive:!1},struct:{rules:[14,15,27,31,37,44,45,46,47,56,57,58,59,73,74,75,76,77],inclusive:!1},FLOATING_NOTE_ID:{rules:[66],inclusive:!1},FLOATING_NOTE:{rules:[63,64,65],inclusive:!1},NOTE_TEXT:{rules:[68,69],inclusive:!1},NOTE_ID:{rules:[67],inclusive:!1},NOTE:{rules:[60,61,62],inclusive:!1},CLASS_STYLE:{rules:[33],inclusive:!1},CLASS:{rules:[32],inclusive:!1},CLASSDEFID:{rules:[30],inclusive:!1},CLASSDEF:{rules:[28,29],inclusive:!1},acc_descr_multiline:{rules:[25,26],inclusive:!1},acc_descr:{rules:[23],inclusive:!1},acc_title:{rules:[21],inclusive:!1},SCALE:{rules:[18,19,35,36],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[50],inclusive:!1},STATE_STRING:{rules:[51,52],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[14,15,38,39,40,41,42,43,48,49,53,54,55],inclusive:!1},ID:{rules:[14,15],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,10,11,12,13,15,16,17,20,22,24,27,31,34,37,55,59,70,71,72,73,74,75,76,78,79,80],inclusive:!0}}},ee.prototype=ae,ae.Parser=ee,new ee}();p.parser=p;const c=p,g="LR",y="TB",b="state",T="relation",x="default",C="divider",I="[*]",G="start",lt=I;let se=g,jt=[],Ut={},Ht={root:{relations:[],states:{},documents:{}}},it=Ht.root,Ft=0,te=0;const ce=f=>JSON.parse(JSON.stringify(f)),W=(f,N,$)=>{if(N.stmt===T)W(f,N.state1,!0),W(f,N.state2,!1);else if(N.stmt===b&&("[*]"===N.id?(N.id=$?f.id+"_start":f.id+"_end",N.start=$):N.id=N.id.trim()),N.doc){const pt=[];let yt,mt=[];for(yt=0;yt<N.doc.length;yt++)if(N.doc[yt].type===C){const wt=ce(N.doc[yt]);wt.doc=ce(mt),pt.push(wt),mt=[]}else mt.push(N.doc[yt]);if(pt.length>0&&mt.length>0){const wt={stmt:b,id:(0,E.y)(),type:"divider",doc:ce(mt)};pt.push(ce(wt)),N.doc=pt}N.doc.forEach(wt=>W(N,wt,!0))}},Q=function(f,N=x,$=null,pt=null,mt=null,yt=null,wt=null,ie=null){const Pt=f?.trim();void 0===it.states[Pt]?(a.l.info("Adding state ",Pt,pt),it.states[Pt]={id:Pt,descriptions:[],type:N,doc:$,note:mt,classes:[],styles:[],textStyles:[]}):(it.states[Pt].doc||(it.states[Pt].doc=$),it.states[Pt].type||(it.states[Pt].type=N)),pt&&(a.l.info("Setting state description",Pt,pt),"string"==typeof pt&&k(Pt,pt.trim()),"object"==typeof pt&&pt.forEach(Qt=>k(Pt,Qt.trim()))),mt&&(it.states[Pt].note=mt,it.states[Pt].note.text=a.e.sanitizeText(it.states[Pt].note.text,(0,a.g)())),yt&&(a.l.info("Setting state classes",Pt,yt),("string"==typeof yt?[yt]:yt).forEach(ue=>Lt(Pt,ue.trim()))),wt&&(a.l.info("Setting state styles",Pt,wt),("string"==typeof wt?[wt]:wt).forEach(ue=>kt(Pt,ue.trim()))),ie&&(a.l.info("Setting state styles",Pt,wt),("string"==typeof ie?[ie]:ie).forEach(ue=>Yt(Pt,ue.trim())))},ut=function(f){Ht={root:{relations:[],states:{},documents:{}}},it=Ht.root,Ft=0,Ut={},f||(0,a.y)()},gt=function(f){return it.states[f]};function It(f=""){let N=f;return f===I&&(Ft++,N=`${G}${Ft}`),N}function Et(f="",N=x){return f===I?G:N}const w=function(f,N,$){if("object"==typeof f)!function A(f,N,$){let pt=It(f.id.trim()),mt=Et(f.id.trim(),f.type),yt=It(N.id.trim()),wt=Et(N.id.trim(),N.type);Q(pt,mt,f.doc,f.description,f.note,f.classes,f.styles,f.textStyles),Q(yt,wt,N.doc,N.description,N.note,N.classes,N.styles,N.textStyles),it.relations.push({id1:pt,id2:yt,relationTitle:a.e.sanitizeText($,(0,a.g)())})}(f,N,$);else{const pt=It(f.trim()),mt=Et(f),yt=function U(f=""){let N=f;return f===lt&&(Ft++,N=`end${Ft}`),N}(N.trim()),wt=function l(f="",N=x){return f===lt?"end":N}(N);Q(pt,mt),Q(yt,wt),it.relations.push({id1:pt,id2:yt,title:a.e.sanitizeText($,(0,a.g)())})}},k=function(f,N){const $=it.states[f],pt=N.startsWith(":")?N.replace(":","").trim():N;$.descriptions.push(a.e.sanitizeText(pt,(0,a.g)()))},H=function(f,N=""){void 0===Ut[f]&&(Ut[f]={id:f,styles:[],textStyles:[]});const $=Ut[f];N?.split(",").forEach(pt=>{const mt=pt.replace(/([^;]*);/,"$1").trim();if(pt.match("color")){const wt=mt.replace("fill","bgFill").replace("color","fill");$.textStyles.push(wt)}$.styles.push(mt)})},Lt=function(f,N){f.split(",").forEach(function($){let pt=gt($);if(void 0===pt){const mt=$.trim();Q(mt),pt=gt(mt)}pt.classes.push(N)})},kt=function(f,N){const $=gt(f);void 0!==$&&$.textStyles.push(N)},Yt=function(f,N){const $=gt(f);void 0!==$&&$.textStyles.push(N)},We={parseDirective:function(f,N,$){h.m.parseDirective(this,f,N,$)},getConfig:()=>(0,a.g)().state,addState:Q,clear:ut,getState:gt,getStates:function(){return it.states},getRelations:function(){return it.relations},getClasses:function(){return Ut},getDirection:()=>se,addRelation:w,getDividerId:()=>(te++,"divider-id-"+te),setDirection:f=>{se=f},cleanupLabel:function(f){return":"===f.substring(0,1)?f.substr(2).trim():f.trim()},lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},logDocuments:function(){a.l.info("Documents = ",Ht)},getRootDoc:()=>jt,setRootDoc:f=>{a.l.info("Setting root doc",f),jt=f},getRootDocV2:()=>(W({id:"root"},{id:"root",doc:jt},!0),{id:"root",doc:jt}),extract:f=>{let N;N=f.doc?f.doc:f,a.l.info(N),ut(!0),a.l.info("Extract",N),N.forEach($=>{switch($.stmt){case b:Q($.id.trim(),$.type,$.doc,$.description,$.note,$.classes,$.styles,$.textStyles);break;case T:w($.state1,$.state2,$.description);break;case"classDef":H($.id.trim(),$.classes);break;case"applyClass":Lt($.id.trim(),$.styleClass)}})},trimColon:f=>f&&":"===f[0]?f.substr(1).trim():f.trim(),getAccTitle:a.p,setAccTitle:a.o,getAccDescription:a.q,setAccDescription:a.v,addStyleClass:H,setCssClass:Lt,addDescription:k,setDiagramTitle:a.w,getDiagramTitle:a.x},Ue=f=>`\ndefs #statediagram-barbEnd {\n    fill: ${f.transitionColor};\n    stroke: ${f.transitionColor};\n  }\ng.stateGroup text {\n  fill: ${f.nodeBorder};\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ${f.textColor};\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ${f.stateLabelColor};\n}\n\ng.stateGroup rect {\n  fill: ${f.mainBkg};\n  stroke: ${f.nodeBorder};\n}\n\ng.stateGroup line {\n  stroke: ${f.lineColor};\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ${f.transitionColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ${f.background};\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ${f.noteBorderColor};\n  fill: ${f.noteBkgColor};\n\n  text {\n    fill: ${f.noteTextColor};\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${f.mainBkg};\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ${f.labelBackgroundColor};\n  opacity: 0.5;\n}\n.edgeLabel .label text {\n  fill: ${f.transitionLabelColor||f.tertiaryTextColor};\n}\n.label div .edgeLabel {\n  color: ${f.transitionLabelColor||f.tertiaryTextColor};\n}\n\n.stateLabel text {\n  fill: ${f.stateLabelColor};\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ${f.specialStateColor};\n  stroke: ${f.specialStateColor};\n}\n\n.node .fork-join {\n  fill: ${f.specialStateColor};\n  stroke: ${f.specialStateColor};\n}\n\n.node circle.state-end {\n  fill: ${f.innerEndBackground};\n  stroke: ${f.background};\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ${f.compositeBackground||f.background};\n  // stroke: ${f.background};\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ${f.stateBkg||f.mainBkg};\n  stroke: ${f.stateBorder||f.nodeBorder};\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ${f.mainBkg};\n  stroke: ${f.stateBorder||f.nodeBorder};;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ${f.lineColor};\n}\n\n.statediagram-cluster rect {\n  fill: ${f.compositeTitleBackground};\n  stroke: ${f.stateBorder||f.nodeBorder};\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ${f.stateLabelColor};\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ${f.stateBorder||f.nodeBorder};\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ${f.compositeBackground||f.background};\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ${f.altBackground?f.altBackground:"#efefef"};\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ${f.altBackground?f.altBackground:"#efefef"};\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ${f.noteBkgColor};\n  stroke: ${f.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ${f.noteBkgColor};\n  stroke: ${f.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ${f.noteTextColor};\n}\n\n.statediagram-note .nodeLabel {\n  color: ${f.noteTextColor};\n}\n.statediagram .edgeLabel {\n  color: red; // ${f.noteTextColor};\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ${f.lineColor};\n  stroke: ${f.lineColor};\n  stroke-width: 1;\n}\n\n.statediagramTitleText {\n  text-anchor: middle;\n  font-size: 18px;\n  fill: ${f.textColor};\n}\n`}}]);