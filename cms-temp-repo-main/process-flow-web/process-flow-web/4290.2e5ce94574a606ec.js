(self.webpackChunkprocessFlowWeb=self.webpackChunkprocessFlowWeb||[]).push([[4290,6933],{9919:(i,c)=>{c.byteLength=function k(l){var b=v(l),w=b[1];return 3*(b[0]+w)/4-w},c.toByteArray=function m(l){var b,j,C=v(l),w=C[0],y=C[1],L=new d(function R(l,b,C){return 3*(b+C)/4-C}(0,w,y)),M=0,X=y>0?w-4:w;for(j=0;j<X;j+=4)b=s[l.charCodeAt(j)]<<18|s[l.charCodeAt(j+1)]<<12|s[l.charCodeAt(j+2)]<<6|s[l.charCodeAt(j+3)],L[M++]=b>>16&255,L[M++]=b>>8&255,L[M++]=255&b;return 2===y&&(b=s[l.charCodeAt(j)]<<2|s[l.charCodeAt(j+1)]>>4,L[M++]=255&b),1===y&&(b=s[l.charCodeAt(j)]<<10|s[l.charCodeAt(j+1)]<<4|s[l.charCodeAt(j+2)]>>2,L[M++]=b>>8&255,L[M++]=255&b),L},c.fromByteArray=function f(l){for(var b,C=l.length,w=C%3,y=[],L=16383,M=0,X=C-w;M<X;M+=L)y.push(o(l,M,M+L>X?X:M+L));return 1===w?y.push(r[(b=l[C-1])>>2]+r[b<<4&63]+"=="):2===w&&y.push(r[(b=(l[C-2]<<8)+l[C-1])>>10]+r[b>>4&63]+r[b<<2&63]+"="),y.join("")};for(var r=[],s=[],d=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0;p<64;++p)r[p]=u[p],s[u.charCodeAt(p)]=p;function v(l){var b=l.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=l.indexOf("=");return-1===C&&(C=b),[C,C===b?0:4-C%4]}function n(l){return r[l>>18&63]+r[l>>12&63]+r[l>>6&63]+r[63&l]}function o(l,b,C){for(var y=[],L=b;L<C;L+=3)y.push(n((l[L]<<16&16711680)+(l[L+1]<<8&65280)+(255&l[L+2])));return y.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},5334:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(i){return"[object Array]"===Object.prototype.toString.call(i)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(i){return"object"==typeof i&&i.buffer&&i.buffer.constructor===ArrayBuffer});var createOutputMethod=function(i,c){return function(r){return new Sha256(c,!0).update(r)[i]()}},createMethod=function(i){var c=createOutputMethod("hex",i);NODE_JS&&(c=nodeWrap(c,i)),c.create=function(){return new Sha256(i)},c.update=function(d){return c.create().update(d)};for(var r=0;r<OUTPUT_TYPES.length;++r){var s=OUTPUT_TYPES[r];c[s]=createOutputMethod(s,i)}return c},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(i){if("string"==typeof i)return crypto.createHash(algorithm).update(i,"utf8").digest("hex");if(null==i)throw new Error(ERROR);return i.constructor===ArrayBuffer&&(i=new Uint8Array(i)),Array.isArray(i)||ArrayBuffer.isView(i)||i.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(i)).digest("hex"):method(i)};return nodeMethod},createHmacOutputMethod=function(i,c){return function(r,s){return new HmacSha256(r,c,!0).update(s)[i]()}},createHmacMethod=function(i){var c=createHmacOutputMethod("hex",i);c.create=function(d){return new HmacSha256(d,i)},c.update=function(d,u){return c.create(d).update(u)};for(var r=0;r<OUTPUT_TYPES.length;++r){var s=OUTPUT_TYPES[r];c[s]=createHmacOutputMethod(s,i)}return c};function Sha256(i,c){c?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=i}function HmacSha256(i,c,r){var s,d=typeof i;if("string"===d){var v,u=[],p=i.length,h=0;for(s=0;s<p;++s)(v=i.charCodeAt(s))<128?u[h++]=v:v<2048?(u[h++]=192|v>>6,u[h++]=128|63&v):v<55296||v>=57344?(u[h++]=224|v>>12,u[h++]=128|v>>6&63,u[h++]=128|63&v):(v=65536+((1023&v)<<10|1023&i.charCodeAt(++s)),u[h++]=240|v>>18,u[h++]=128|v>>12&63,u[h++]=128|v>>6&63,u[h++]=128|63&v);i=u}else{if("object"!==d)throw new Error(ERROR);if(null===i)throw new Error(ERROR);if(ARRAY_BUFFER&&i.constructor===ArrayBuffer)i=new Uint8Array(i);else if(!(Array.isArray(i)||ARRAY_BUFFER&&ArrayBuffer.isView(i)))throw new Error(ERROR)}i.length>64&&(i=new Sha256(c,!0).update(i).array());var k=[],R=[];for(s=0;s<64;++s){var m=i[s]||0;k[s]=92^m,R[s]=54^m}Sha256.call(this,c,r),this.update(R),this.oKeyPad=k,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(i){if(!this.finalized){var c,r=typeof i;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===i)throw new Error(ERROR);if(ARRAY_BUFFER&&i.constructor===ArrayBuffer)i=new Uint8Array(i);else if(!(Array.isArray(i)||ARRAY_BUFFER&&ArrayBuffer.isView(i)))throw new Error(ERROR);c=!0}for(var s,u,d=0,p=i.length,h=this.blocks;d<p;){if(this.hashed&&(this.hashed=!1,h[0]=this.block,h[16]=h[1]=h[2]=h[3]=h[4]=h[5]=h[6]=h[7]=h[8]=h[9]=h[10]=h[11]=h[12]=h[13]=h[14]=h[15]=0),c)for(u=this.start;d<p&&u<64;++d)h[u>>2]|=i[d]<<SHIFT[3&u++];else for(u=this.start;d<p&&u<64;++d)(s=i.charCodeAt(d))<128?h[u>>2]|=s<<SHIFT[3&u++]:s<2048?(h[u>>2]|=(192|s>>6)<<SHIFT[3&u++],h[u>>2]|=(128|63&s)<<SHIFT[3&u++]):s<55296||s>=57344?(h[u>>2]|=(224|s>>12)<<SHIFT[3&u++],h[u>>2]|=(128|s>>6&63)<<SHIFT[3&u++],h[u>>2]|=(128|63&s)<<SHIFT[3&u++]):(s=65536+((1023&s)<<10|1023&i.charCodeAt(++d)),h[u>>2]|=(240|s>>18)<<SHIFT[3&u++],h[u>>2]|=(128|s>>12&63)<<SHIFT[3&u++],h[u>>2]|=(128|s>>6&63)<<SHIFT[3&u++],h[u>>2]|=(128|63&s)<<SHIFT[3&u++]);this.lastByteIndex=u,this.bytes+=u-this.start,u>=64?(this.block=h[16],this.start=u-64,this.hash(),this.hashed=!0):this.start=u}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var i=this.blocks,c=this.lastByteIndex;i[16]=this.block,i[c>>2]|=EXTRA[3&c],this.block=i[16],c>=56&&(this.hashed||this.hash(),i[0]=this.block,i[16]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=i[10]=i[11]=i[12]=i[13]=i[14]=i[15]=0),i[14]=this.hBytes<<3|this.bytes>>>29,i[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var k,o,b,C,w,y,i=this.h0,c=this.h1,r=this.h2,s=this.h3,d=this.h4,u=this.h5,p=this.h6,h=this.h7,v=this.blocks;for(k=16;k<64;++k)v[k]=v[k-16]+(((o=v[k-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3)+v[k-7]+(((o=v[k-2])>>>17|o<<15)^(o>>>19|o<<13)^o>>>10)<<0;for(y=c&r,k=0;k<64;k+=4)this.first?(this.is224?(b=300032,h=(o=v[0]-1413257819)-150054599<<0,s=o+24177077<<0):(b=704751109,h=(o=v[0]-210244248)-1521486534<<0,s=o+143694565<<0),this.first=!1):(h=s+(o=h+((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&u^~d&p)+K[k]+v[k])<<0,s=o+(((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+((b=i&c)^i&r^y))<<0),p=r+(o=p+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&d^~h&u)+K[k+1]+v[k+1])<<0,r=o+(((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+((C=s&i)^s&c^b))<<0,u=c+(o=u+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&h^~p&d)+K[k+2]+v[k+2])<<0,c=o+(((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+((w=r&s)^r&i^C))<<0,d=i+(o=d+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&p^~u&h)+K[k+3]+v[k+3])<<0,i=o+(((c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10))+((y=c&r)^c&s^w))<<0;this.h0=this.h0+i<<0,this.h1=this.h1+c<<0,this.h2=this.h2+r<<0,this.h3=this.h3+s<<0,this.h4=this.h4+d<<0,this.h5=this.h5+u<<0,this.h6=this.h6+p<<0,this.h7=this.h7+h<<0},Sha256.prototype.hex=function(){this.finalize();var i=this.h0,c=this.h1,r=this.h2,s=this.h3,d=this.h4,u=this.h5,p=this.h6,h=this.h7,v=HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[15&c]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[d>>28&15]+HEX_CHARS[d>>24&15]+HEX_CHARS[d>>20&15]+HEX_CHARS[d>>16&15]+HEX_CHARS[d>>12&15]+HEX_CHARS[d>>8&15]+HEX_CHARS[d>>4&15]+HEX_CHARS[15&d]+HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[15&u]+HEX_CHARS[p>>28&15]+HEX_CHARS[p>>24&15]+HEX_CHARS[p>>20&15]+HEX_CHARS[p>>16&15]+HEX_CHARS[p>>12&15]+HEX_CHARS[p>>8&15]+HEX_CHARS[p>>4&15]+HEX_CHARS[15&p];return this.is224||(v+=HEX_CHARS[h>>28&15]+HEX_CHARS[h>>24&15]+HEX_CHARS[h>>20&15]+HEX_CHARS[h>>16&15]+HEX_CHARS[h>>12&15]+HEX_CHARS[h>>8&15]+HEX_CHARS[h>>4&15]+HEX_CHARS[15&h]),v},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var i=this.h0,c=this.h1,r=this.h2,s=this.h3,d=this.h4,u=this.h5,p=this.h6,h=this.h7,v=[i>>24&255,i>>16&255,i>>8&255,255&i,c>>24&255,c>>16&255,c>>8&255,255&c,r>>24&255,r>>16&255,r>>8&255,255&r,s>>24&255,s>>16&255,s>>8&255,255&s,d>>24&255,d>>16&255,d>>8&255,255&d,u>>24&255,u>>16&255,u>>8&255,255&u,p>>24&255,p>>16&255,p>>8&255,255&p];return this.is224||v.push(h>>24&255,h>>16&255,h>>8&255,255&h),v},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var i=new ArrayBuffer(this.is224?28:32),c=new DataView(i);return c.setUint32(0,this.h0),c.setUint32(4,this.h1),c.setUint32(8,this.h2),c.setUint32(12,this.h3),c.setUint32(16,this.h4),c.setUint32(20,this.h5),c.setUint32(24,this.h6),this.is224||c.setUint32(28,this.h7),i},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var i=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(i),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},4699:(i,c,r)=>{r.d(c,{y:()=>m});var s=r(254),u=r(5297),p=r(7308),v=r(2677),k=r(4813),R=r(7213);let m=(()=>{class o{constructor(l){this._isScalar=!1,l&&(this._subscribe=l)}lift(l){const b=new o;return b.source=this,b.operator=l,b}subscribe(l,b,C){const{operator:w}=this,y=function h(o,f,l){if(o){if(o instanceof s.L)return o;if(o[u.b])return o[u.b]()}return o||f||l?new s.L(o,f,l):new s.L(p.c)}(l,b,C);if(y.add(w?w.call(y,this.source):this.source||R.config.useDeprecatedSynchronousErrorHandling&&!y.syncErrorThrowable?this._subscribe(y):this._trySubscribe(y)),R.config.useDeprecatedSynchronousErrorHandling&&y.syncErrorThrowable&&(y.syncErrorThrowable=!1,y.syncErrorThrown))throw y.syncErrorValue;return y}_trySubscribe(l){try{return this._subscribe(l)}catch(b){R.config.useDeprecatedSynchronousErrorHandling&&(l.syncErrorThrown=!0,l.syncErrorValue=b),function d(o){for(;o;){const{closed:f,destination:l,isStopped:b}=o;if(f||b)return!1;o=l&&l instanceof s.L?l:null}return!0}(l)?l.error(b):console.warn(b)}}forEach(l,b){return new(b=n(b))((C,w)=>{let y;y=this.subscribe(L=>{try{l(L)}catch(M){w(M),y&&y.unsubscribe()}},w,C)})}_subscribe(l){const{source:b}=this;return b&&b.subscribe(l)}[v.L](){return this}pipe(...l){return 0===l.length?this:(0,k.U)(l)(this)}toPromise(l){return new(l=n(l))((b,C)=>{let w;this.subscribe(y=>w=y,y=>C(y),()=>b(w))})}}return o.create=f=>new o(f),o})();function n(o){if(o||(o=R.config.Promise||Promise),!o)throw new Error("no Promise impl found");return o}},7308:(i,c,r)=>{r.d(c,{c:()=>u});var s=r(7213),d=r(3510);const u={closed:!0,next(p){},error(p){if(s.config.useDeprecatedSynchronousErrorHandling)throw p;(0,d.z)(p)},complete(){}}},7279:(i,c,r)=>{r.d(c,{L:()=>d});var s=r(254);class d extends s.L{notifyNext(p,h,v,k,R){this.destination.next(h)}notifyError(p,h){this.destination.error(p)}notifyComplete(p){this.destination.complete()}}},2079:(i,c,r)=>{r.d(c,{Yc:()=>k,xQ:()=>R});var s=r(4699),d=r(254),u=r(7902),p=r(6229),h=r(9806),v=r(5297);class k extends d.L{constructor(o){super(o),this.destination=o}}let R=(()=>{class n extends s.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[v.b](){return new k(this)}lift(f){const l=new m(this,this);return l.operator=f,l}next(f){if(this.closed)throw new p.N;if(!this.isStopped){const{observers:l}=this,b=l.length,C=l.slice();for(let w=0;w<b;w++)C[w].next(f)}}error(f){if(this.closed)throw new p.N;this.hasError=!0,this.thrownError=f,this.isStopped=!0;const{observers:l}=this,b=l.length,C=l.slice();for(let w=0;w<b;w++)C[w].error(f);this.observers.length=0}complete(){if(this.closed)throw new p.N;this.isStopped=!0;const{observers:f}=this,l=f.length,b=f.slice();for(let C=0;C<l;C++)b[C].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(f){if(this.closed)throw new p.N;return super._trySubscribe(f)}_subscribe(f){if(this.closed)throw new p.N;return this.hasError?(f.error(this.thrownError),u.w.EMPTY):this.isStopped?(f.complete(),u.w.EMPTY):(this.observers.push(f),new h.W(this,f))}asObservable(){const f=new s.y;return f.source=this,f}}return n.create=(o,f)=>new m(o,f),n})();class m extends R{constructor(o,f){super(),this.destination=o,this.source=f}next(o){const{destination:f}=this;f&&f.next&&f.next(o)}error(o){const{destination:f}=this;f&&f.error&&this.destination.error(o)}complete(){const{destination:o}=this;o&&o.complete&&this.destination.complete()}_subscribe(o){const{source:f}=this;return f?this.source.subscribe(o):u.w.EMPTY}}},9806:(i,c,r)=>{r.d(c,{W:()=>d});var s=r(7902);class d extends s.w{constructor(p,h){super(),this.subject=p,this.subscriber=h,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const p=this.subject,h=p.observers;if(this.subject=null,!h||0===h.length||p.isStopped||p.closed)return;const v=h.indexOf(this.subscriber);-1!==v&&h.splice(v,1)}}},254:(i,c,r)=>{r.d(c,{L:()=>k});var s=r(8594),d=r(7308),u=r(7902),p=r(5297),h=r(7213),v=r(3510);class k extends u.w{constructor(n,o,f){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=d.c;break;case 1:if(!n){this.destination=d.c;break}if("object"==typeof n){n instanceof k?(this.syncErrorThrowable=n.syncErrorThrowable,this.destination=n,n.add(this)):(this.syncErrorThrowable=!0,this.destination=new R(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new R(this,n,o,f)}}[p.b](){return this}static create(n,o,f){const l=new k(n,o,f);return l.syncErrorThrowable=!1,l}next(n){this.isStopped||this._next(n)}error(n){this.isStopped||(this.isStopped=!0,this._error(n))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(n){this.destination.next(n)}_error(n){this.destination.error(n),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:n}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this}}class R extends k{constructor(n,o,f,l){super(),this._parentSubscriber=n;let b,C=this;(0,s.m)(o)?b=o:o&&(b=o.next,f=o.error,l=o.complete,o!==d.c&&(C=Object.create(o),(0,s.m)(C.unsubscribe)&&this.add(C.unsubscribe.bind(C)),C.unsubscribe=this.unsubscribe.bind(this))),this._context=C,this._next=b,this._error=f,this._complete=l}next(n){if(!this.isStopped&&this._next){const{_parentSubscriber:o}=this;h.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable?this.__tryOrSetError(o,this._next,n)&&this.unsubscribe():this.__tryOrUnsub(this._next,n)}}error(n){if(!this.isStopped){const{_parentSubscriber:o}=this,{useDeprecatedSynchronousErrorHandling:f}=h.config;if(this._error)f&&o.syncErrorThrowable?(this.__tryOrSetError(o,this._error,n),this.unsubscribe()):(this.__tryOrUnsub(this._error,n),this.unsubscribe());else if(o.syncErrorThrowable)f?(o.syncErrorValue=n,o.syncErrorThrown=!0):(0,v.z)(n),this.unsubscribe();else{if(this.unsubscribe(),f)throw n;(0,v.z)(n)}}}complete(){if(!this.isStopped){const{_parentSubscriber:n}=this;if(this._complete){const o=()=>this._complete.call(this._context);h.config.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?(this.__tryOrSetError(n,o),this.unsubscribe()):(this.__tryOrUnsub(o),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(n,o){try{n.call(this._context,o)}catch(f){if(this.unsubscribe(),h.config.useDeprecatedSynchronousErrorHandling)throw f;(0,v.z)(f)}}__tryOrSetError(n,o,f){if(!h.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{o.call(this._context,f)}catch(l){return h.config.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=l,n.syncErrorThrown=!0,!0):((0,v.z)(l),!0)}return!1}_unsubscribe(){const{_parentSubscriber:n}=this;this._context=null,this._parentSubscriber=null,n.unsubscribe()}}},7902:(i,c,r)=>{r.d(c,{w:()=>v});var s=r(1280),d=r(7755),u=r(8594);const h=(()=>{function R(m){return Error.call(this),this.message=m?`${m.length} errors occurred during unsubscription:\n${m.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=m,this}return R.prototype=Object.create(Error.prototype),R})();class v{constructor(m){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,m&&(this._ctorUnsubscribe=!0,this._unsubscribe=m)}unsubscribe(){let m;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:o,_unsubscribe:f,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof v)n.remove(this);else if(null!==n)for(let b=0;b<n.length;++b)n[b].remove(this);if((0,u.m)(f)){o&&(this._unsubscribe=void 0);try{f.call(this)}catch(b){m=b instanceof h?k(b.errors):[b]}}if((0,s.k)(l)){let b=-1,C=l.length;for(;++b<C;){const w=l[b];if((0,d.K)(w))try{w.unsubscribe()}catch(y){m=m||[],y instanceof h?m=m.concat(k(y.errors)):m.push(y)}}}if(m)throw new h(m)}add(m){let n=m;if(!m)return v.EMPTY;switch(typeof m){case"function":n=new v(m);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof v)){const l=n;n=new v,n._subscriptions=[l]}break;default:throw new Error("unrecognized teardown "+m+" added to Subscription.")}let{_parentOrParents:o}=n;if(null===o)n._parentOrParents=this;else if(o instanceof v){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}const f=this._subscriptions;return null===f?this._subscriptions=[n]:f.push(n),n}remove(m){const n=this._subscriptions;if(n){const o=n.indexOf(m);-1!==o&&n.splice(o,1)}}}var R;function k(R){return R.reduce((m,n)=>m.concat(n instanceof h?n.errors:n),[])}v.EMPTY=((R=new v).closed=!0,R)},7213:(i,c,r)=>{r.d(c,{config:()=>d});let s=!1;const d={Promise:void 0,set useDeprecatedSynchronousErrorHandling(u){if(u){const p=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+p.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=u},get useDeprecatedSynchronousErrorHandling(){return s}}},5846:(i,c,r)=>{r.d(c,{Ds:()=>v,IY:()=>p,ft:()=>R});var s=r(254),d=r(4699),u=r(4372);class p extends s.L{constructor(n){super(),this.parent=n}_next(n){this.parent.notifyNext(n)}_error(n){this.parent.notifyError(n),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class v extends s.L{notifyNext(n){this.destination.next(n)}notifyError(n){this.destination.error(n)}notifyComplete(){this.destination.complete()}}function R(m,n){if(n.closed)return;if(m instanceof d.y)return m.subscribe(n);let o;try{o=(0,u.s)(m)(n)}catch(f){n.error(f)}return o}},3291:(i,c,r)=>{r.d(c,{aj:()=>k});var s=r(9759),d=r(1280),u=r(7279),p=r(8835),h=r(2594);const v={};function k(...n){let o,f;return(0,s.K)(n[n.length-1])&&(f=n.pop()),"function"==typeof n[n.length-1]&&(o=n.pop()),1===n.length&&(0,d.k)(n[0])&&(n=n[0]),(0,h.n)(n,f).lift(new R(o))}class R{constructor(o){this.resultSelector=o}call(o,f){return f.subscribe(new m(o,this.resultSelector))}}class m extends u.L{constructor(o,f){super(o),this.resultSelector=f,this.active=0,this.values=[],this.observables=[]}_next(o){this.values.push(v),this.observables.push(o)}_complete(){const o=this.observables,f=o.length;if(0===f)this.destination.complete();else{this.active=f,this.toRespond=f;for(let l=0;l<f;l++)this.add((0,p.D)(this,o[l],void 0,l))}}notifyComplete(o){0==(this.active-=1)&&this.destination.complete()}notifyNext(o,f,l){const b=this.values,w=this.toRespond?b[l]===v?--this.toRespond:this.toRespond:0;b[l]=f,0===w&&(this.resultSelector?this._tryResultSelector(b):this.destination.next(b.slice()))}_tryResultSelector(o){let f;try{f=this.resultSelector.apply(this,o)}catch(l){return void this.destination.error(l)}this.destination.next(f)}}},5253:(i,c,r)=>{r.d(c,{D:()=>C});var s=r(4699),d=r(4372),u=r(7902),p=r(2677),k=r(5513),R=r(6258),o=r(6007),f=r(9990);function C(w,y){return y?function b(w,y){if(null!=w){if(function n(w){return w&&"function"==typeof w[p.L]}(w))return function h(w,y){return new s.y(L=>{const M=new u.w;return M.add(y.schedule(()=>{const X=w[p.L]();M.add(X.subscribe({next(j){M.add(y.schedule(()=>L.next(j)))},error(j){M.add(y.schedule(()=>L.error(j)))},complete(){M.add(y.schedule(()=>L.complete()))}}))})),M})}(w,y);if((0,o.t)(w))return function v(w,y){return new s.y(L=>{const M=new u.w;return M.add(y.schedule(()=>w.then(X=>{M.add(y.schedule(()=>{L.next(X),M.add(y.schedule(()=>L.complete()))}))},X=>{M.add(y.schedule(()=>L.error(X)))}))),M})}(w,y);if((0,f.z)(w))return(0,k.r)(w,y);if(function l(w){return w&&"function"==typeof w[R.hZ]}(w)||"string"==typeof w)return function m(w,y){if(!w)throw new Error("Iterable cannot be null");return new s.y(L=>{const M=new u.w;let X;return M.add(()=>{X&&"function"==typeof X.return&&X.return()}),M.add(y.schedule(()=>{X=w[R.hZ](),M.add(y.schedule(function(){if(L.closed)return;let j,te;try{const F=X.next();j=F.value,te=F.done}catch(F){return void L.error(F)}te?L.complete():(L.next(j),this.schedule())}))})),M})}(w,y)}throw new TypeError((null!==w&&typeof w||w)+" is not observable")}(w,y):w instanceof s.y?w:new s.y((0,d.s)(w))}},2594:(i,c,r)=>{r.d(c,{n:()=>p});var s=r(4699),d=r(4947),u=r(5513);function p(h,v){return v?(0,u.r)(h,v):new s.y((0,d.V)(h))}},6124:(i,c,r)=>{r.d(c,{U:()=>d});var s=r(254);function d(h,v){return function(R){if("function"!=typeof h)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return R.lift(new u(h,v))}}class u{constructor(v,k){this.project=v,this.thisArg=k}call(v,k){return k.subscribe(new p(v,this.project,this.thisArg))}}class p extends s.L{constructor(v,k,R){super(v),this.project=k,this.count=0,this.thisArg=R||this}_next(v){let k;try{k=this.project.call(this.thisArg,v,this.count++)}catch(R){return void this.destination.error(R)}this.destination.next(k)}}},6743:(i,c,r)=>{r.d(c,{zg:()=>p});var s=r(6124),d=r(5253),u=r(5846);function p(R,m,n=Number.POSITIVE_INFINITY){return"function"==typeof m?o=>o.pipe(p((f,l)=>(0,d.D)(R(f,l)).pipe((0,s.U)((b,C)=>m(f,b,l,C))),n)):("number"==typeof m&&(n=m),o=>o.lift(new h(R,n)))}class h{constructor(m,n=Number.POSITIVE_INFINITY){this.project=m,this.concurrent=n}call(m,n){return n.subscribe(new v(m,this.project,this.concurrent))}}class v extends u.Ds{constructor(m,n,o=Number.POSITIVE_INFINITY){super(m),this.project=n,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(m){this.active<this.concurrent?this._tryNext(m):this.buffer.push(m)}_tryNext(m){let n;const o=this.index++;try{n=this.project(m,o)}catch(f){return void this.destination.error(f)}this.active++,this._innerSub(n)}_innerSub(m){const n=new u.IY(this),o=this.destination;o.add(n);const f=(0,u.ft)(m,n);f!==n&&o.add(f)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(m){this.destination.next(m)}notifyComplete(){const m=this.buffer;this.active--,m.length>0?this._next(m.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},5513:(i,c,r)=>{r.d(c,{r:()=>u});var s=r(4699),d=r(7902);function u(p,h){return new s.y(v=>{const k=new d.w;let R=0;return k.add(h.schedule(function(){R!==p.length?(v.next(p[R++]),v.closed||k.add(this.schedule())):v.complete()})),k})}},6258:(i,c,r)=>{r.d(c,{hZ:()=>d});const d=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},2677:(i,c,r)=>{r.d(c,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},5297:(i,c,r)=>{r.d(c,{b:()=>s});const s="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},6229:(i,c,r)=>{r.d(c,{N:()=>d});const d=(()=>{function u(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return u.prototype=Object.create(Error.prototype),u})()},3510:(i,c,r)=>{function s(d){setTimeout(()=>{throw d},0)}r.d(c,{z:()=>s})},158:(i,c,r)=>{function s(d){return d}r.d(c,{y:()=>s})},1280:(i,c,r)=>{r.d(c,{k:()=>s});const s=Array.isArray||(d=>d&&"number"==typeof d.length)},9990:(i,c,r)=>{r.d(c,{z:()=>s});const s=d=>d&&"number"==typeof d.length&&"function"!=typeof d},8594:(i,c,r)=>{function s(d){return"function"==typeof d}r.d(c,{m:()=>s})},7755:(i,c,r)=>{function s(d){return null!==d&&"object"==typeof d}r.d(c,{K:()=>s})},6007:(i,c,r)=>{function s(d){return!!d&&"function"!=typeof d.subscribe&&"function"==typeof d.then}r.d(c,{t:()=>s})},9759:(i,c,r)=>{function s(d){return d&&"function"==typeof d.schedule}r.d(c,{K:()=>s})},4813:(i,c,r)=>{r.d(c,{U:()=>u,z:()=>d});var s=r(158);function d(...p){return u(p)}function u(p){return 0===p.length?s.y:1===p.length?p[0]:function(v){return p.reduce((k,R)=>R(k),v)}}},4372:(i,c,r)=>{r.d(c,{s:()=>o});var s=r(4947),d=r(3510),p=r(6258),v=r(2677),R=r(9990),m=r(6007),n=r(7755);const o=f=>{if(f&&"function"==typeof f[v.L])return(f=>l=>{const b=f[v.L]();if("function"!=typeof b.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return b.subscribe(l)})(f);if((0,R.z)(f))return(0,s.V)(f);if((0,m.t)(f))return(f=>l=>(f.then(b=>{l.closed||(l.next(b),l.complete())},b=>l.error(b)).then(null,d.z),l))(f);if(f&&"function"==typeof f[p.hZ])return(f=>l=>{const b=f[p.hZ]();for(;;){let C;try{C=b.next()}catch(w){return l.error(w),l}if(C.done){l.complete();break}if(l.next(C.value),l.closed)break}return"function"==typeof b.return&&l.add(()=>{b.return&&b.return()}),l})(f);{const b=`You provided ${(0,n.K)(f)?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(b)}}},4947:(i,c,r)=>{r.d(c,{V:()=>s});const s=d=>u=>{for(let p=0,h=d.length;p<h&&!u.closed;p++)u.next(d[p]);u.complete()}},8835:(i,c,r)=>{r.d(c,{D:()=>h});var s=r(254);class d extends s.L{constructor(k,R,m){super(),this.parent=k,this.outerValue=R,this.outerIndex=m,this.index=0}_next(k){this.parent.notifyNext(this.outerValue,k,this.outerIndex,this.index++,this)}_error(k){this.parent.notifyError(k,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var u=r(4372),p=r(4699);function h(v,k,R,m,n=new d(v,R,m)){if(!n.closed)return k instanceof p.y?k.subscribe(n):(0,u.s)(k)(n)}},6933:(i,c,r)=>{r.r(c),r.d(c,{CoreModule:()=>j,KeycloakAngularModule:()=>te,KeycloakAuthGuard:()=>L,KeycloakBearerInterceptor:()=>X,KeycloakEventType:()=>y,KeycloakService:()=>M});var s=r(5861),d=r(2937),u=r(5161),p=r(2079),h=r(5253),v=r(3291),k=r(6124),R=r(6743),m=r(9919),n=r(5334);if(typeof Promise>"u")throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");var o=!1,l=!1;function b(){l||(l=!0,console.warn("[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead."))}function C(F){if(!(this instanceof C))return function f(){o||(o=!0,console.warn("[KEYCLOAK] Instantiation using the `Keycloak` function has been deprecated and support will be removed in future versions. Use the `new` operator to create an instance instead."))}(),new C(F);for(var A,D,e=this,U=[],P={enable:!0,callbackList:[],interval:5},W=document.getElementsByTagName("script"),V=0;V<W.length;V++)(-1!==W[V].src.indexOf("keycloak.js")||-1!==W[V].src.indexOf("keycloak.min.js"))&&-1!==W[V].src.indexOf("version=")&&(e.iframeVersion=W[V].src.substring(W[V].src.indexOf("version=")+8).split("&")[0]);var G=!0,J=be(console.info),re=be(console.warn);function he(t,a){for(var E=function ve(t){var a=null,E=window.crypto||window.msCrypto;if(E&&E.getRandomValues&&window.Uint8Array)return a=new Uint8Array(t),E.getRandomValues(a),a;a=new Array(t);for(var g=0;g<a.length;g++)a[g]=Math.floor(256*Math.random());return a}(t),g=new Array(t),_=0;_<t;_++)g[_]=a.charCodeAt(E[_]%a.length);return String.fromCharCode.apply(null,g)}function $(){if(typeof e.authServerUrl<"u")return"/"==e.authServerUrl.charAt(e.authServerUrl.length-1)?e.authServerUrl+"realms/"+encodeURIComponent(e.realm):e.authServerUrl+"/realms/"+encodeURIComponent(e.realm)}function Q(t,a){var E=t.code,g=t.error,_=t.prompt,T=(new Date).getTime();if(t.kc_action_status&&e.onActionUpdate&&e.onActionUpdate(t.kc_action_status),g)if("none"!=_){var x={error:g,error_description:t.error_description};e.onAuthError&&e.onAuthError(x),a&&a.setError(x)}else a&&a.setSuccess();else if("standard"!=e.flow&&(t.access_token||t.id_token)&&O(t.access_token,null,t.id_token,!0),"implicit"!=e.flow&&E){var S="code="+E+"&grant_type=authorization_code",I=e.endpoints.token(),H=new XMLHttpRequest;H.open("POST",I,!0),H.setRequestHeader("Content-type","application/x-www-form-urlencoded"),S+="&client_id="+encodeURIComponent(e.clientId),S+="&redirect_uri="+t.redirectUri,t.pkceCodeVerifier&&(S+="&code_verifier="+t.pkceCodeVerifier),H.withCredentials=!0,H.onreadystatechange=function(){if(4==H.readyState)if(200==H.status){var B=JSON.parse(H.responseText);O(B.access_token,B.refresh_token,B.id_token,"standard"===e.flow),ae()}else e.onAuthError&&e.onAuthError(),a&&a.setError()},H.send(S)}function O(B,Y,Z,z){ne(B,Y,Z,T=(T+(new Date).getTime())/2),G&&(e.tokenParsed&&e.tokenParsed.nonce!=t.storedNonce||e.refreshTokenParsed&&e.refreshTokenParsed.nonce!=t.storedNonce||e.idTokenParsed&&e.idTokenParsed.nonce!=t.storedNonce)?(J("[KEYCLOAK] Invalid nonce, clearing token"),e.clearToken(),a&&a.setError()):z&&(e.onAuthSuccess&&e.onAuthSuccess(),a&&a.setSuccess())}}function fe(t){return 0==t.status&&t.responseText&&t.responseURL.startsWith("file:")}function ne(t,a,E,g){if(e.tokenTimeoutHandle&&(clearTimeout(e.tokenTimeoutHandle),e.tokenTimeoutHandle=null),a?(e.refreshToken=a,e.refreshTokenParsed=oe(a)):(delete e.refreshToken,delete e.refreshTokenParsed),E?(e.idToken=E,e.idTokenParsed=oe(E)):(delete e.idToken,delete e.idTokenParsed),t){if(e.token=t,e.tokenParsed=oe(t),e.sessionId=e.tokenParsed.session_state,e.authenticated=!0,e.subject=e.tokenParsed.sub,e.realmAccess=e.tokenParsed.realm_access,e.resourceAccess=e.tokenParsed.resource_access,g&&(e.timeSkew=Math.floor(g/1e3)-e.tokenParsed.iat),null!=e.timeSkew&&(J("[KEYCLOAK] Estimated time difference between browser and server is "+e.timeSkew+" seconds"),e.onTokenExpired)){var _=1e3*(e.tokenParsed.exp-(new Date).getTime()/1e3+e.timeSkew);J("[KEYCLOAK] Token expires in "+Math.round(_/1e3)+" s"),_<=0?e.onTokenExpired():e.tokenTimeoutHandle=setTimeout(e.onTokenExpired,_)}}else delete e.token,delete e.tokenParsed,delete e.subject,delete e.realmAccess,delete e.resourceAccess,e.authenticated=!1}function oe(t){switch((t=(t=(t=t.split(".")[1]).replace(/-/g,"+")).replace(/_/g,"/")).length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Invalid token"}return t=decodeURIComponent(escape(atob(t))),JSON.parse(t)}function de(){var t="0123456789abcdef",a=he(36,t).split("");return a[14]="4",a[19]=t.substr(3&a[19]|8,1),a[8]=a[13]=a[18]=a[23]="-",a.join("")}function q(t){var a=function Se(t){var a;switch(e.flow){case"standard":a=["code","state","session_state","kc_action_status"];break;case"implicit":a=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status"];break;case"hybrid":a=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status"]}a.push("error"),a.push("error_description"),a.push("error_uri");var _,T,E=t.indexOf("?"),g=t.indexOf("#");if("query"===e.responseMode&&-1!==E?(_=t.substring(0,E),""!==(T=pe(t.substring(E+1,-1!==g?g:t.length),a)).paramsString&&(_+="?"+T.paramsString),-1!==g&&(_+=t.substring(g))):"fragment"===e.responseMode&&-1!==g&&(_=t.substring(0,g),""!==(T=pe(t.substring(g+1),a)).paramsString&&(_+="#"+T.paramsString)),T&&T.oauthParams)if("standard"===e.flow||"hybrid"===e.flow){if((T.oauthParams.code||T.oauthParams.error)&&T.oauthParams.state)return T.oauthParams.newUrl=_,T.oauthParams}else if("implicit"===e.flow&&(T.oauthParams.access_token||T.oauthParams.error)&&T.oauthParams.state)return T.oauthParams.newUrl=_,T.oauthParams}(t);if(a){var E=D.get(a.state);return E&&(a.valid=!0,a.redirectUri=E.redirectUri,a.storedNonce=E.nonce,a.prompt=E.prompt,a.pkceCodeVerifier=E.pkceCodeVerifier),a}}function pe(t,a){for(var E=t.split("&"),g={paramsString:"",oauthParams:{}},_=0;_<E.length;_++){var T=E[_].indexOf("="),x=E[_].slice(0,T);-1!==a.indexOf(x)?g.oauthParams[x]=E[_].slice(T+1):(""!==g.paramsString&&(g.paramsString+="&"),g.paramsString+=E[_])}return g}function N(){var t={setSuccess:function(a){t.resolve(a)},setError:function(a){t.reject(a)}};return t.promise=new Promise(function(a,E){t.resolve=a,t.reject=E}),t.promise.success=function(a){return b(),this.then(function(g){a(g)}),this},t.promise.error=function(a){return b(),this.catch(function(g){a(g)}),this},t}function ie(){var t=N();if(!P.enable||P.iframe)return t.setSuccess(),t.promise;var a=document.createElement("iframe");P.iframe=a,a.onload=function(){var _=e.endpoints.authorize();P.iframeOrigin="/"===_.charAt(0)?function Ee(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}():_.substring(0,_.indexOf("/",8)),t.setSuccess()};var E=e.endpoints.checkSessionIframe();return a.setAttribute("src",E),a.setAttribute("title","keycloak-session-iframe"),a.style.display="none",document.body.appendChild(a),window.addEventListener("message",function(_){if(_.origin===P.iframeOrigin&&P.iframe.contentWindow===_.source&&("unchanged"==_.data||"changed"==_.data||"error"==_.data)){"unchanged"!=_.data&&e.clearToken();for(var T=P.callbackList.splice(0,P.callbackList.length),x=T.length-1;x>=0;--x){var S=T[x];"error"==_.data?S.setError():S.setSuccess("unchanged"==_.data)}}},!1),t.promise}function ae(){P.enable&&e.token&&setTimeout(function(){se().then(function(t){t&&ae()})},1e3*P.interval)}function se(){var t=N();if(P.iframe&&P.iframeOrigin){var a=e.clientId+" "+(e.sessionId?e.sessionId:"");P.callbackList.push(t),1==P.callbackList.length&&P.iframe.contentWindow.postMessage(a,P.iframeOrigin)}else t.setSuccess();return t.promise}function ke(){var t=N();if(P.enable||e.silentCheckSsoRedirectUri){var a=document.createElement("iframe");a.setAttribute("src",e.endpoints.thirdPartyCookiesIframe()),a.setAttribute("title","keycloak-3p-check-iframe"),a.style.display="none",document.body.appendChild(a);var E=function(g){a.contentWindow===g.source&&("supported"!==g.data&&"unsupported"!==g.data||("unsupported"===g.data&&(P.enable=!1,e.silentCheckSsoFallback&&(e.silentCheckSsoRedirectUri=!1),re("[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and silent check-sso are not available.")),document.body.removeChild(a),window.removeEventListener("message",E),t.setSuccess()))};window.addEventListener("message",E,!1)}else t.setSuccess();return function ge(t,a,E){var g=null,_=new Promise(function(T,x){g=setTimeout(function(){x({error:E||"Promise is not settled within timeout of "+a+"ms"})},a)});return Promise.race([t,_]).finally(function(){clearTimeout(g)})}(t.promise,e.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function ce(t){if(!t||"default"==t)return{login:function(x){return window.location.assign(e.createLoginUrl(x)),N().promise},logout:function(x){return window.location.replace(e.createLogoutUrl(x)),N().promise},register:function(x){return window.location.assign(e.createRegisterUrl(x)),N().promise},accountManagement:function(){var x=e.createAccountUrl();if(!(typeof x<"u"))throw"Not supported by the OIDC server";return window.location.href=x,N().promise},redirectUri:function(x,S){return x&&x.redirectUri?x.redirectUri:e.redirectUri?e.redirectUri:location.href}};if("cordova"==t){P.enable=!1;var a=function(x,S,I){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(x,S,I):window.open(x,S,I)},_=function(x){var S=function(x){return x&&x.cordovaOptions?Object.keys(x.cordovaOptions).reduce(function(S,I){return S[I]=x.cordovaOptions[I],S},{}):{}}(x);return S.location="no",x&&"none"==x.prompt&&(S.hidden="yes"),function(x){return Object.keys(x).reduce(function(S,I){return S.push(I+"="+x[I]),S},[]).join(",")}(S)},T=e.redirectUri||"http://localhost";return{login:function(x){var S=N(),I=_(x),H=e.createLoginUrl(x),O=a(H,"_blank",I),B=!1,Y=!1,Z=function(){Y=!0,O.close()};return O.addEventListener("loadstart",function(z){0==z.url.indexOf(T)&&(Q(q(z.url),S),Z(),B=!0)}),O.addEventListener("loaderror",function(z){B||(0==z.url.indexOf(T)?(Q(q(z.url),S),Z(),B=!0):(S.setError(),Z()))}),O.addEventListener("exit",function(z){Y||S.setError({reason:"closed_by_user"})}),S.promise},logout:function(x){var O,S=N(),I=e.createLogoutUrl(x),H=a(I,"_blank","location=no,hidden=yes,clearcache=yes");return H.addEventListener("loadstart",function(B){0==B.url.indexOf(T)&&H.close()}),H.addEventListener("loaderror",function(B){0==B.url.indexOf(T)||(O=!0),H.close()}),H.addEventListener("exit",function(B){O?S.setError():(e.clearToken(),S.setSuccess())}),S.promise},register:function(x){var S=N(),I=e.createRegisterUrl(),H=_(x),O=a(I,"_blank",H);return O.addEventListener("loadstart",function(B){0==B.url.indexOf(T)&&(O.close(),Q(q(B.url),S))}),S.promise},accountManagement:function(){var x=e.createAccountUrl();if(!(typeof x<"u"))throw"Not supported by the OIDC server";var S=a(x,"_blank","location=no");S.addEventListener("loadstart",function(I){0==I.url.indexOf(T)&&S.close()})},redirectUri:function(x){return T}}}if("cordova-native"==t)return P.enable=!1,{login:function(x){var S=N(),I=e.createLoginUrl(x);return universalLinks.subscribe("keycloak",function(H){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),Q(q(H.url),S)}),window.cordova.plugins.browsertab.openUrl(I),S.promise},logout:function(x){var S=N(),I=e.createLogoutUrl(x);return universalLinks.subscribe("keycloak",function(H){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),e.clearToken(),S.setSuccess()}),window.cordova.plugins.browsertab.openUrl(I),S.promise},register:function(x){var S=N(),I=e.createRegisterUrl(x);return universalLinks.subscribe("keycloak",function(H){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),Q(q(H.url),S)}),window.cordova.plugins.browsertab.openUrl(I),S.promise},accountManagement:function(){var x=e.createAccountUrl();if(!(typeof x<"u"))throw"Not supported by the OIDC server";window.cordova.plugins.browsertab.openUrl(x)},redirectUri:function(x){return x&&x.redirectUri?x.redirectUri:e.redirectUri?e.redirectUri:"http://localhost"}};throw"invalid adapter type: "+t}e.init=function(t){if(e.authenticated=!1,D=function Ae(){try{return new ue}catch{}return new le}(),A=t&&["default","cordova","cordova-native"].indexOf(t.adapter)>-1?ce(t.adapter):t&&"object"==typeof t.adapter?t.adapter:window.Cordova||window.cordova?ce("cordova"):ce(),t){if(typeof t.useNonce<"u"&&(G=t.useNonce),typeof t.checkLoginIframe<"u"&&(P.enable=t.checkLoginIframe),t.checkLoginIframeInterval&&(P.interval=t.checkLoginIframeInterval),"login-required"===t.onLoad&&(e.loginRequired=!0),t.responseMode){if("query"!==t.responseMode&&"fragment"!==t.responseMode)throw"Invalid value for responseMode";e.responseMode=t.responseMode}if(t.flow){switch(t.flow){case"standard":e.responseType="code";break;case"implicit":e.responseType="id_token token";break;case"hybrid":e.responseType="code id_token token";break;default:throw"Invalid value for flow"}e.flow=t.flow}if(null!=t.timeSkew&&(e.timeSkew=t.timeSkew),t.redirectUri&&(e.redirectUri=t.redirectUri),t.silentCheckSsoRedirectUri&&(e.silentCheckSsoRedirectUri=t.silentCheckSsoRedirectUri),e.silentCheckSsoFallback="boolean"!=typeof t.silentCheckSsoFallback||t.silentCheckSsoFallback,t.pkceMethod){if("S256"!==t.pkceMethod)throw"Invalid value for pkceMethod";e.pkceMethod=t.pkceMethod}e.enableLogging="boolean"==typeof t.enableLogging&&t.enableLogging,"string"==typeof t.scope&&(e.scope=t.scope),e.messageReceiveTimeout="number"==typeof t.messageReceiveTimeout&&t.messageReceiveTimeout>0?t.messageReceiveTimeout:1e4}e.responseMode||(e.responseMode="fragment"),e.responseType||(e.responseType="code",e.flow="standard");var E=N(),g=N();g.promise.then(function(){e.onReady&&e.onReady(e.authenticated),E.setSuccess(e.authenticated)}).catch(function(I){E.setError(I)});var _=function xe(t){var E,a=N();function g(H){e.endpoints=H?{authorize:function(){return H.authorization_endpoint},token:function(){return H.token_endpoint},logout:function(){if(!H.end_session_endpoint)throw"Not supported by the OIDC server";return H.end_session_endpoint},checkSessionIframe:function(){if(!H.check_session_iframe)throw"Not supported by the OIDC server";return H.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!H.userinfo_endpoint)throw"Not supported by the OIDC server";return H.userinfo_endpoint}}:{authorize:function(){return $()+"/protocol/openid-connect/auth"},token:function(){return $()+"/protocol/openid-connect/token"},logout:function(){return $()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var O=$()+"/protocol/openid-connect/login-status-iframe.html";return e.iframeVersion&&(O=O+"?version="+e.iframeVersion),O},thirdPartyCookiesIframe:function(){var O=$()+"/protocol/openid-connect/3p-cookies/step1.html";return e.iframeVersion&&(O=O+"?version="+e.iframeVersion),O},register:function(){return $()+"/protocol/openid-connect/registrations"},userinfo:function(){return $()+"/protocol/openid-connect/userinfo"}}}if(F?"string"==typeof F&&(E=F):E="keycloak.json",E)(_=new XMLHttpRequest).open("GET",E,!0),_.setRequestHeader("Accept","application/json"),_.onreadystatechange=function(){if(4==_.readyState)if(200==_.status||fe(_)){var H=JSON.parse(_.responseText);e.authServerUrl=H["auth-server-url"],e.realm=H.realm,e.clientId=H.resource,g(null),a.setSuccess()}else a.setError()},_.send();else{if(!F.clientId)throw"clientId missing";e.clientId=F.clientId;var T=F.oidcProvider;if(T)if("string"==typeof T){var I,_;I="/"==T.charAt(T.length-1)?T+".well-known/openid-configuration":T+"/.well-known/openid-configuration",(_=new XMLHttpRequest).open("GET",I,!0),_.setRequestHeader("Accept","application/json"),_.onreadystatechange=function(){4==_.readyState&&(200==_.status||fe(_)?(g(JSON.parse(_.responseText)),a.setSuccess()):a.setError())},_.send()}else g(T),a.setSuccess();else{if(!F.url)for(var x=document.getElementsByTagName("script"),S=0;S<x.length;S++)if(x[S].src.match(/.*keycloak\.js/)){F.url=x[S].src.substr(0,x[S].src.indexOf("/js/keycloak.js"));break}if(!F.realm)throw"realm missing";e.authServerUrl=F.url,e.realm=F.realm,g(null),a.setSuccess()}}return a.promise}();function T(){var I=function(B){B||(O.prompt="none"),e.login(O).then(function(){g.setSuccess()}).catch(function(Y){g.setError(Y)})},H=function(){var B=document.createElement("iframe"),Y=e.createLoginUrl({prompt:"none",redirectUri:e.silentCheckSsoRedirectUri});B.setAttribute("src",Y),B.setAttribute("title","keycloak-silent-check-sso"),B.style.display="none",document.body.appendChild(B);var Z=function(z){z.origin===window.location.origin&&B.contentWindow===z.source&&(Q(q(z.data),g),document.body.removeChild(B),window.removeEventListener("message",Z))};window.addEventListener("message",Z)},O={};switch(t.onLoad){case"check-sso":P.enable?ie().then(function(){se().then(function(B){B?g.setSuccess():e.silentCheckSsoRedirectUri?H():I(!1)}).catch(function(B){g.setError(B)})}):e.silentCheckSsoRedirectUri?H():I(!1);break;case"login-required":I(!0);break;default:throw"Invalid value for onLoad"}}function x(){var I=q(window.location.href);if(I&&window.history.replaceState(window.history.state,null,I.newUrl),I&&I.valid)return ie().then(function(){Q(I,g)}).catch(function(H){g.setError(H)});t?t.token&&t.refreshToken?(ne(t.token,t.refreshToken,t.idToken),P.enable?ie().then(function(){se().then(function(H){H?(e.onAuthSuccess&&e.onAuthSuccess(),g.setSuccess(),ae()):g.setSuccess()}).catch(function(H){g.setError(H)})}):e.updateToken(-1).then(function(){e.onAuthSuccess&&e.onAuthSuccess(),g.setSuccess()}).catch(function(H){e.onAuthError&&e.onAuthError(),t.onLoad?T():g.setError(H)})):t.onLoad?T():g.setSuccess():g.setSuccess()}return _.then(function(){(function S(){var I=N(),H=function(){("interactive"===document.readyState||"complete"===document.readyState)&&(document.removeEventListener("readystatechange",H),I.setSuccess())};return document.addEventListener("readystatechange",H),H(),I.promise})().then(ke).then(x).catch(function(I){E.setError(I)})}),_.catch(function(I){E.setError(I)}),E.promise},e.login=function(t){return A.login(t)},e.createLoginUrl=function(t){var T,a=de(),E=de(),g=A.redirectUri(t),_={state:a,nonce:E,redirectUri:encodeURIComponent(g)};t&&t.prompt&&(_.prompt=t.prompt),T=t&&"register"==t.action?e.endpoints.register():e.endpoints.authorize();var x=t&&t.scope||e.scope;x?-1===x.indexOf("openid")&&(x="openid "+x):x="openid";var S=T+"?client_id="+encodeURIComponent(e.clientId)+"&redirect_uri="+encodeURIComponent(g)+"&state="+encodeURIComponent(a)+"&response_mode="+encodeURIComponent(e.responseMode)+"&response_type="+encodeURIComponent(e.responseType)+"&scope="+encodeURIComponent(x);if(G&&(S=S+"&nonce="+encodeURIComponent(E)),t&&t.prompt&&(S+="&prompt="+encodeURIComponent(t.prompt)),t&&t.maxAge&&(S+="&max_age="+encodeURIComponent(t.maxAge)),t&&t.loginHint&&(S+="&login_hint="+encodeURIComponent(t.loginHint)),t&&t.idpHint&&(S+="&kc_idp_hint="+encodeURIComponent(t.idpHint)),t&&t.action&&"register"!=t.action&&(S+="&kc_action="+encodeURIComponent(t.action)),t&&t.locale&&(S+="&ui_locales="+encodeURIComponent(t.locale)),t&&t.acr){var I=function ye(t){return JSON.stringify({id_token:{acr:t}})}(t.acr);S+="&claims="+encodeURIComponent(I)}if(e.pkceMethod){var H=function _e(t){return he(t,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}(96);_.pkceCodeVerifier=H;var O=function me(t,a){if("S256"===t){var E=new Uint8Array(n.arrayBuffer(a));return m.fromByteArray(E).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}throw"Invalid value for pkceMethod"}(e.pkceMethod,H);S+="&code_challenge="+O,S+="&code_challenge_method="+e.pkceMethod}return D.add(_),S},e.logout=function(t){return A.logout(t)},e.createLogoutUrl=function(t){var a=e.endpoints.logout()+"?client_id="+encodeURIComponent(e.clientId)+"&post_logout_redirect_uri="+encodeURIComponent(A.redirectUri(t,!1));return e.idToken&&(a+="&id_token_hint="+encodeURIComponent(e.idToken)),a},e.register=function(t){return A.register(t)},e.createRegisterUrl=function(t){return t||(t={}),t.action="register",e.createLoginUrl(t)},e.createAccountUrl=function(t){var a=$(),E=void 0;return typeof a<"u"&&(E=a+"/account?referrer="+encodeURIComponent(e.clientId)+"&referrer_uri="+encodeURIComponent(A.redirectUri(t))),E},e.accountManagement=function(){return A.accountManagement()},e.hasRealmRole=function(t){var a=e.realmAccess;return!!a&&a.roles.indexOf(t)>=0},e.hasResourceRole=function(t,a){if(!e.resourceAccess)return!1;var E=e.resourceAccess[a||e.clientId];return!!E&&E.roles.indexOf(t)>=0},e.loadUserProfile=function(){var t=$()+"/account",a=new XMLHttpRequest;a.open("GET",t,!0),a.setRequestHeader("Accept","application/json"),a.setRequestHeader("Authorization","bearer "+e.token);var E=N();return a.onreadystatechange=function(){4==a.readyState&&(200==a.status?(e.profile=JSON.parse(a.responseText),E.setSuccess(e.profile)):E.setError())},a.send(),E.promise},e.loadUserInfo=function(){var t=e.endpoints.userinfo(),a=new XMLHttpRequest;a.open("GET",t,!0),a.setRequestHeader("Accept","application/json"),a.setRequestHeader("Authorization","bearer "+e.token);var E=N();return a.onreadystatechange=function(){4==a.readyState&&(200==a.status?(e.userInfo=JSON.parse(a.responseText),E.setSuccess(e.userInfo)):E.setError())},a.send(),E.promise},e.isTokenExpired=function(t){if(!e.tokenParsed||!e.refreshToken&&"implicit"!=e.flow)throw"Not authenticated";if(null==e.timeSkew)return J("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var a=e.tokenParsed.exp-Math.ceil((new Date).getTime()/1e3)+e.timeSkew;if(t){if(isNaN(t))throw"Invalid minValidity";a-=t}return a<0},e.updateToken=function(t){var a=N();if(!e.refreshToken)return a.setError(),a.promise;t=t||5;var E=function(){var _=!1;if(-1==t?(_=!0,J("[KEYCLOAK] Refreshing token: forced refresh")):(!e.tokenParsed||e.isTokenExpired(t))&&(_=!0,J("[KEYCLOAK] Refreshing token: token expired")),_){var T="grant_type=refresh_token&refresh_token="+e.refreshToken,x=e.endpoints.token();if(U.push(a),1==U.length){var S=new XMLHttpRequest;S.open("POST",x,!0),S.setRequestHeader("Content-type","application/x-www-form-urlencoded"),S.withCredentials=!0,T+="&client_id="+encodeURIComponent(e.clientId);var I=(new Date).getTime();S.onreadystatechange=function(){if(4==S.readyState)if(200==S.status){J("[KEYCLOAK] Token refreshed"),I=(I+(new Date).getTime())/2;var H=JSON.parse(S.responseText);ne(H.access_token,H.refresh_token,H.id_token,I),e.onAuthRefreshSuccess&&e.onAuthRefreshSuccess();for(var O=U.pop();null!=O;O=U.pop())O.setSuccess(!0)}else for(re("[KEYCLOAK] Failed to refresh token"),400==S.status&&e.clearToken(),e.onAuthRefreshError&&e.onAuthRefreshError(),O=U.pop();null!=O;O=U.pop())O.setError(!0)},S.send(T)}}else a.setSuccess(!1)};return P.enable?se().then(function(){E()}).catch(function(_){a.setError(_)}):E(),a.promise},e.clearToken=function(){e.token&&(ne(null,null,null),e.onAuthLogout&&e.onAuthLogout(),e.loginRequired&&e.login())};var ue=function(){if(!(this instanceof ue))return new ue;function a(){for(var E=(new Date).getTime(),g=0;g<localStorage.length;g++){var _=localStorage.key(g);if(_&&0==_.indexOf("kc-callback-")){var T=localStorage.getItem(_);if(T)try{var x=JSON.parse(T).expires;(!x||x<E)&&localStorage.removeItem(_)}catch{localStorage.removeItem(_)}}}}localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test"),this.get=function(E){if(E){var g="kc-callback-"+E,_=localStorage.getItem(g);return _&&(localStorage.removeItem(g),_=JSON.parse(_)),a(),_}},this.add=function(E){a();var g="kc-callback-"+E.state;E.expires=(new Date).getTime()+36e5,localStorage.setItem(g,JSON.stringify(E))}},le=function(){if(!(this instanceof le))return new le;var t=this;t.get=function(_){if(_){var T=E("kc-callback-"+_);if(g("kc-callback-"+_,"",a(-100)),T)return JSON.parse(T)}},t.add=function(_){g("kc-callback-"+_.state,JSON.stringify(_),a(60))},t.removeItem=function(_){g(_,"",a(-100))};var a=function(_){var T=new Date;return T.setTime(T.getTime()+60*_*1e3),T},E=function(_){for(var T=_+"=",x=document.cookie.split(";"),S=0;S<x.length;S++){for(var I=x[S];" "==I.charAt(0);)I=I.substring(1);if(0==I.indexOf(T))return I.substring(T.length,I.length)}return""},g=function(_,T,x){var S=_+"="+T+"; expires="+x.toUTCString()+"; ";document.cookie=S}};function be(t){return function(){e.enableLogging&&t.apply(console,Array.prototype.slice.call(arguments))}}}var w=r(9219),y=(()=>((y=y||{})[y.OnAuthError=0]="OnAuthError",y[y.OnAuthLogout=1]="OnAuthLogout",y[y.OnAuthRefreshError=2]="OnAuthRefreshError",y[y.OnAuthRefreshSuccess=3]="OnAuthRefreshSuccess",y[y.OnAuthSuccess=4]="OnAuthSuccess",y[y.OnReady=5]="OnReady",y[y.OnTokenExpired=6]="OnTokenExpired",y[y.OnActionUpdate=7]="OnActionUpdate",y))();class L{constructor(e,A){this.router=e,this.keycloakAngular=A}canActivate(e,A){var U=this;return(0,s.Z)(function*(){try{return U.authenticated=yield U.keycloakAngular.isLoggedIn(),U.roles=yield U.keycloakAngular.getUserRoles(!0),yield U.isAccessAllowed(e,A)}catch(D){throw new Error("An error happened during access validation. Details:"+D)}})()}}let M=(()=>{class F{constructor(){this._keycloakEvents$=new p.xQ}bindsKeycloakEvents(){this._instance.onAuthError=A=>{this._keycloakEvents$.next({args:A,type:y.OnAuthError})},this._instance.onAuthLogout=()=>{this._keycloakEvents$.next({type:y.OnAuthLogout})},this._instance.onAuthRefreshSuccess=()=>{this._keycloakEvents$.next({type:y.OnAuthRefreshSuccess})},this._instance.onAuthRefreshError=()=>{this._keycloakEvents$.next({type:y.OnAuthRefreshError})},this._instance.onAuthSuccess=()=>{this._keycloakEvents$.next({type:y.OnAuthSuccess})},this._instance.onTokenExpired=()=>{this._keycloakEvents$.next({type:y.OnTokenExpired})},this._instance.onActionUpdate=A=>{this._keycloakEvents$.next({args:A,type:y.OnActionUpdate})},this._instance.onReady=A=>{this._keycloakEvents$.next({args:A,type:y.OnReady})}}loadExcludedUrls(A){const U=[];for(const D of A){let P;P="string"==typeof D?{urlPattern:new RegExp(D,"i"),httpMethods:[]}:{urlPattern:new RegExp(D.url,"i"),httpMethods:D.httpMethods},U.push(P)}return U}initServiceValues({enableBearerInterceptor:A=!0,loadUserProfileAtStartUp:U=!1,bearerExcludedUrls:D=[],authorizationHeaderName:P="Authorization",bearerPrefix:W="Bearer",initOptions:V,updateMinValidity:G=20,shouldAddToken:J=(()=>!0),shouldUpdateToken:re=(()=>!0)}){this._enableBearerInterceptor=A,this._loadUserProfileAtStartUp=U,this._authorizationHeaderName=P,this._bearerPrefix=W.trim().concat(" "),this._excludedUrls=this.loadExcludedUrls(D),this._silentRefresh=!!V&&"implicit"===V.flow,this._updateMinValidity=G,this.shouldAddToken=J,this.shouldUpdateToken=re}init(A={}){var U=this;return(0,s.Z)(function*(){U.initServiceValues(A);const{config:D,initOptions:P}=A;U._instance=new C(D),U.bindsKeycloakEvents();const W=yield U._instance.init(P);return W&&U._loadUserProfileAtStartUp&&(yield U.loadUserProfile()),W})()}login(A={}){var U=this;return(0,s.Z)(function*(){yield U._instance.login(A),U._loadUserProfileAtStartUp&&(yield U.loadUserProfile())})()}logout(A){var U=this;return(0,s.Z)(function*(){const D={redirectUri:A};yield U._instance.logout(D),U._userProfile=void 0})()}register(A={action:"register"}){var U=this;return(0,s.Z)(function*(){yield U._instance.register(A)})()}isUserInRole(A,U){let D;return D=this._instance.hasResourceRole(A,U),D||(D=this._instance.hasRealmRole(A)),D}getUserRoles(A=!0){let U=[];if(this._instance.resourceAccess)for(const D in this._instance.resourceAccess)this._instance.resourceAccess.hasOwnProperty(D)&&(U=U.concat(this._instance.resourceAccess[D].roles||[]));return A&&this._instance.realmAccess&&U.push(...this._instance.realmAccess.roles||[]),U}isLoggedIn(){var A=this;return(0,s.Z)(function*(){return!!A._instance&&A._instance.authenticated})()}isTokenExpired(A=0){return this._instance.isTokenExpired(A)}updateToken(A=this._updateMinValidity){var U=this;return(0,s.Z)(function*(){if(U._silentRefresh){if(U.isTokenExpired())throw new Error("Failed to refresh the token, or the session is expired");return!0}if(!U._instance)throw new Error("Keycloak Angular library is not initialized.");try{return yield U._instance.updateToken(A)}catch{return!1}})()}loadUserProfile(A=!1){var U=this;return(0,s.Z)(function*(){if(U._userProfile&&!A)return U._userProfile;if(!U._instance.authenticated)throw new Error("The user profile was not loaded as the user is not logged in.");return U._userProfile=yield U._instance.loadUserProfile()})()}getToken(){var A=this;return(0,s.Z)(function*(){return A._instance.token})()}getUsername(){if(!this._userProfile)throw new Error("User not logged in or user profile was not loaded.");return this._userProfile.username}clearToken(){this._instance.clearToken()}addTokenToHeader(A=new u.HttpHeaders){return(0,h.D)(this.getToken()).pipe((0,k.U)(U=>U?A.set(this._authorizationHeaderName,this._bearerPrefix+U):A))}getKeycloakInstance(){return this._instance}get excludedUrls(){return this._excludedUrls}get enableBearerInterceptor(){return this._enableBearerInterceptor}get keycloakEvents$(){return this._keycloakEvents$}}return F.\u0275fac=function(A){return new(A||F)},F.\u0275prov=d.\u0275\u0275defineInjectable({token:F,factory:F.\u0275fac}),F})(),X=(()=>{class F{constructor(A){this.keycloak=A}conditionallyUpdateToken(A){var U=this;return(0,s.Z)(function*(){return!U.keycloak.shouldUpdateToken(A)||(yield U.keycloak.updateToken())})()}isUrlExcluded({method:A,url:U},{urlPattern:D,httpMethods:P}){const W=0===P.length||P.join().indexOf(A.toUpperCase())>-1,V=D.test(U);return W&&V}intercept(A,U){const{enableBearerInterceptor:D,excludedUrls:P}=this.keycloak;return!D||!this.keycloak.shouldAddToken(A)||P.findIndex(V=>this.isUrlExcluded(A,V))>-1?U.handle(A):(0,v.aj)([this.conditionallyUpdateToken(A),this.keycloak.isLoggedIn()]).pipe((0,R.zg)(([V,G])=>G?this.handleRequestWithTokenHeader(A,U):U.handle(A)))}handleRequestWithTokenHeader(A,U){return this.keycloak.addTokenToHeader(A.headers).pipe((0,R.zg)(D=>{const P=A.clone({headers:D});return U.handle(P)}))}}return F.\u0275fac=function(A){return new(A||F)(d.\u0275\u0275inject(M))},F.\u0275prov=d.\u0275\u0275defineInjectable({token:F,factory:F.\u0275fac}),F})(),j=(()=>{class F{}return F.\u0275fac=function(A){return new(A||F)},F.\u0275mod=d.\u0275\u0275defineNgModule({type:F}),F.\u0275inj=d.\u0275\u0275defineInjector({providers:[M,{provide:u.HTTP_INTERCEPTORS,useClass:X,multi:!0}],imports:[w.CommonModule]}),F})(),te=(()=>{class F{}return F.\u0275fac=function(A){return new(A||F)},F.\u0275mod=d.\u0275\u0275defineNgModule({type:F}),F.\u0275inj=d.\u0275\u0275defineInjector({imports:[j]}),F})()},5861:(i,c,r)=>{function s(u,p,h,v,k,R,m){try{var n=u[R](m),o=n.value}catch(f){return void h(f)}n.done?p(o):Promise.resolve(o).then(v,k)}function d(u){return function(){var p=this,h=arguments;return new Promise(function(v,k){var R=u.apply(p,h);function m(o){s(R,v,k,m,n,"next",o)}function n(o){s(R,v,k,m,n,"throw",o)}m(void 0)})}}r.d(c,{Z:()=>d})}}]);