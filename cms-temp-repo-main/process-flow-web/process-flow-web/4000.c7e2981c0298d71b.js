(self.webpackChunkprocessFlowWeb=self.webpackChunkprocessFlowWeb||[]).push([[4e3],{5761:(K,Z,r)=>{r.d(Z,{bK:()=>Na});var s=r(9547),y=r(902),c=r(8627),p=r(2935),h=r(7506),v=r(4550),g=r(9768),O=r(5346);class A{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,n=e._prev;if(n!==e)return C(n),n}enqueue(e){var n=this._sentinel;e._prev&&e._next&&C(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){for(var e=[],n=this._sentinel,a=n._prev;a!==n;)e.push(JSON.stringify(a,U)),a=a._prev;return"["+e.join(", ")+"]"}}function C(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function U(t,e){if("_next"!==t&&"_prev"!==t)return e}var I=p.Z(1);function Y(t,e,n,a,i){var o=i?[]:void 0;return s.Z(t.inEdges(a.v),function(d){var u=t.edge(d),l=t.node(d.v);i&&o.push({v:d.v,w:d.w}),l.out-=u,it(e,n,l)}),s.Z(t.outEdges(a.v),function(d){var u=t.edge(d),m=t.node(d.w);m.in-=u,it(e,n,m)}),t.removeNode(a.v),o}function it(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function Zt(t){var e="greedy"===t.graph().acyclicer?function L(t,e){if(t.nodeCount()<=1)return[];var n=function dt(t,e){var n=new O.k,a=0,i=0;s.Z(t.nodes(),function(u){n.setNode(u,{v:u,in:0,out:0})}),s.Z(t.edges(),function(u){var l=n.edge(u.v,u.w)||0,m=e(u);n.setEdge(u.v,u.w,l+m),i=Math.max(i,n.node(u.v).out+=m),a=Math.max(a,n.node(u.w).in+=m)});var o=g.Z(i+a+3).map(function(){return new A}),d=a+1;return s.Z(n.nodes(),function(u){it(o,d,n.node(u))}),{graph:n,buckets:o,zeroIdx:d}}(t,e||I),a=function S(t,e,n){for(var d,a=[],i=e[e.length-1],o=e[0];t.nodeCount();){for(;d=o.dequeue();)Y(t,e,n,d);for(;d=i.dequeue();)Y(t,e,n,d);if(t.nodeCount())for(var u=e.length-2;u>0;--u)if(d=e[u].dequeue()){a=a.concat(Y(t,e,n,d,!0));break}}return a}(n.graph,n.buckets,n.zeroIdx);return h.Z(v.Z(a,function(i){return t.outEdges(i.v,i.w)}))}(t,function n(a){return function(i){return a.edge(i).weight}}(t)):function bt(t){var e=[],n={},a={};return s.Z(t.nodes(),function i(o){c.Z(a,o)||(a[o]=!0,n[o]=!0,s.Z(t.outEdges(o),function(d){c.Z(n,d.w)?e.push(d):i(d.w)}),delete n[o])}),e}(t);s.Z(e,function(a){var i=t.edge(a);t.removeEdge(a),i.forwardName=a.name,i.reversed=!0,t.setEdge(a.w,a.v,i,y.Z("rev"))})}var et=r(8730),Rt=r(6041),ie=r(8418);const Kt=function kt(t,e,n){(void 0!==n&&!(0,ie.Z)(t[e],n)||void 0===n&&!(e in t))&&(0,Rt.Z)(t,e,n)};var Jt=r(4199),$t=r(4203),Lt=r(3734),Dt=r(2307),Ht=r(7324),Wt=r(5727),qt=r(9977),_e=r(9568),Ae=r(7717),Pe=r(4842),ve=r(5829),ye=r(5511),Ie=r(7227);const Ft=function me(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var ge=r(6299),se=r(516);const fe=function Ct(t,e,n,a,i,o,d){var u=Ft(t,n),l=Ft(e,n),m=d.get(l);if(m)Kt(t,n,m);else{var P=o?o(u,l,n+"",t,e,d):void 0,B=void 0===P;if(B){var at=(0,qt.Z)(l),_t=!at&&(0,Ae.Z)(l),mt=!at&&!_t&&(0,Ie.Z)(l);P=l,at||_t||mt?(0,qt.Z)(u)?P=u:(0,_e.Z)(u)?P=(0,Dt.Z)(u):_t?(B=!1,P=(0,$t.Z)(l,!0)):mt?(B=!1,P=(0,Lt.Z)(l,!0)):P=[]:(0,ye.Z)(l)||(0,Wt.Z)(l)?(P=u,(0,Wt.Z)(u)?P=function jt(t){return(0,ge.Z)(t,(0,se.Z)(t))}(u):(!(0,ve.Z)(u)||(0,Pe.Z)(u))&&(P=(0,Ht.Z)(l))):B=!1}B&&(d.set(l,P),i(P,l,a,o,d),d.delete(l)),Kt(t,n,P)}},nt=function Ot(t,e,n,a,i){t!==e&&(0,Jt.Z)(e,function(o,d){if(i||(i=new et.Z),(0,ve.Z)(o))fe(t,e,d,n,Ot,a,i);else{var u=a?a(Ft(t,d),o,d+"",t,e,i):void 0;void 0===u&&(u=o),Kt(t,d,u)}},se.Z)};var E=r(2447),x=r(1799);const ct=function G(t){return(0,E.Z)(function(e,n){var a=-1,i=n.length,o=i>1?n[i-1]:void 0,d=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,d&&(0,x.Z)(n[0],n[1],d)&&(o=i<3?void 0:o,i=1),e=Object(e);++a<i;){var u=n[a];u&&t(e,u,a,o)}return e})}(function(t,e,n){nt(t,e,n)});var Et=r(7050),wt=r(8123),le=r(7106);const Vt=function te(t,e,n){for(var a=-1,i=t.length;++a<i;){var o=t[a],d=e(o);if(null!=d&&(void 0===u?d==d&&!(0,le.Z)(d):n(d,u)))var u=d,l=o}return l},Se=function he(t,e){return t>e};var we=r(1974);const oe=function Be(t){return t&&t.length?Vt(t,we.Z,Se):void 0},R=function f(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var T=r(4023),k=r(2349);const vt=function J(t,e){var n={};return e=(0,k.Z)(e,3),(0,T.Z)(t,function(a,i,o){(0,Rt.Z)(n,i,e(a,i,o))}),n};var tt=r(7002);const V=function $(t,e){return t<e},yt=function pt(t){return t&&t.length?Vt(t,we.Z,V):void 0};var Tt=r(4131);const ut=function(){return Tt.Z.Date.now()};function At(t,e,n,a){var i;do{i=y.Z(a)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function ne(t){var e=new O.k({multigraph:t.isMultigraph()}).setGraph(t.graph());return s.Z(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),s.Z(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e}function It(t,e){var l,m,n=t.x,a=t.y,i=e.x-n,o=e.y-a,d=t.width/2,u=t.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(o)*d>Math.abs(i)*u?(o<0&&(u=-u),l=u*i/o,m=u):(i<0&&(d=-d),l=d,m=d*o/i),{x:n+l,y:a+m}}function xt(t){var e=v.Z(g.Z(q(t)+1),function(){return[]});return s.Z(t.nodes(),function(n){var a=t.node(n),i=a.rank;tt.Z(i)||(e[i][a.order]=n)}),e}function X(t,e,n,a){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=a),At(t,"border",i,e)}function q(t){return oe(v.Z(t.nodes(),function(e){var n=t.node(e).rank;if(!tt.Z(n))return n}))}function rt(t,e){var n=ut();try{return e()}finally{console.log(t+" time: "+(ut()-n)+"ms")}}function lt(t,e){return e()}function F(t,e,n,a,i,o){var u=i[e][o-1],l=At(t,"border",{width:0,height:0,rank:o,borderType:e},n);i[e][o]=l,t.setParent(l,a),u&&t.setEdge(u,l,{weight:1})}function st(t){s.Z(t.nodes(),function(e){w(t.node(e))}),s.Z(t.edges(),function(e){w(t.edge(e))})}function w(t){var e=t.width;t.width=t.height,t.height=e}function W(t){t.y=-t.y}function Xt(t){var e=t.x;t.x=t.y,t.y=e}const Gt=function Pt(t,e){return t&&t.length?Vt(t,(0,k.Z)(e,2),V):void 0};function Re(t){var e={};s.Z(t.sources(),function n(a){var i=t.node(a);if(c.Z(e,a))return i.rank;e[a]=!0;var o=yt(v.Z(t.outEdges(a),function(d){return n(d.w)-t.edge(d).minlen}));return(o===Number.POSITIVE_INFINITY||null==o)&&(o=0),i.rank=o})}function Ee(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function Fe(t){var i,o,e=new O.k({directed:!1}),n=t.nodes()[0],a=t.nodeCount();for(e.setNode(n,{});Ke(e,t)<a;)i=Yt(e,t),o=e.hasNode(i.v)?Ee(t,i):-Ee(t,i),pe(e,t,o);return e}function Ke(t,e){return s.Z(t.nodes(),function n(a){s.Z(e.nodeEdges(a),function(i){var o=i.v,d=a===o?i.w:o;!t.hasNode(d)&&!Ee(e,i)&&(t.setNode(d,{}),t.setEdge(a,d,{}),n(d))})}),t.nodeCount()}function Yt(t,e){return Gt(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return Ee(e,n)})}function pe(t,e,n){s.Z(t.nodes(),function(a){e.node(a).rank+=n})}var ft=r(6247),be=r(4181);var ht=r(8568),St=r(231);var Bt=Math.max;const je=function Oe(t){return function(e,n,a){var i=Object(e);if(!(0,ft.Z)(e)){var o=(0,k.Z)(n,3);e=(0,be.Z)(e),n=function(u){return o(i[u],u,i)}}var d=t(e,n,a);return d>-1?i[o?e[d]:d]:void 0}}(function Qt(t,e,n){var a=null==t?0:t.length;if(!a)return-1;var i=null==n?0:function ce(t){var e=(0,St.Z)(t),n=e%1;return e==e?n?e-n:e:0}(n);return i<0&&(i=Bt(a+i,0)),(0,ht.Z)(t,(0,k.Z)(e,3),i)});var Le=r(6232);p.Z(1),p.Z(1),r(8217),r(2211),r(3844),r(1196),(0,r(7740).Z)("length"),RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var sn="\\ud800-\\udfff",er="["+sn+"]",Je="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",$e="\\ud83c[\\udffb-\\udfff]",on="[^"+sn+"]",dn="(?:\\ud83c[\\udde6-\\uddff]){2}",un="[\\ud800-\\udbff][\\udc00-\\udfff]",cn="(?:"+Je+"|"+$e+")?",fn="[\\ufe0e\\ufe0f]?",ir=fn+cn+"(?:\\u200d(?:"+[on,dn,un].join("|")+")"+fn+cn+")*",sr="(?:"+[on+Je+"?",Je,dn,un,er].join("|")+")";function hn(t,e,n){qt.Z(e)||(e=[e]);var a=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],o={};return s.Z(e,function(d){if(!t.hasNode(d))throw new Error("Graph does not have node: "+d);_n(t,d,"post"===n,o,a,i)}),i}function _n(t,e,n,a,i,o){c.Z(a,e)||(a[e]=!0,n||o.push(e),s.Z(i(e),function(d){_n(t,d,n,a,i,o)}),n&&o.push(e))}function Ne(t){t=function ee(t){var e=(new O.k).setGraph(t.graph());return s.Z(t.nodes(),function(n){e.setNode(n,t.node(n))}),s.Z(t.edges(),function(n){var a=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:a.weight+i.weight,minlen:Math.max(a.minlen,i.minlen)})}),e}(t),Re(t);var n,e=Fe(t);for(tn(e),qe(e,t);n=En(e);)yn(e,t,n,pn(e,t,n))}function qe(t,e){var n=function gr(t,e){return hn(t,e,"post")}(t,t.nodes());n=n.slice(0,n.length-1),s.Z(n,function(a){!function pr(t,e,n){var a=t.node(n);t.edge(n,a.parent).cutvalue=vn(t,e,n)}(t,e,a)})}function vn(t,e,n){var i=t.node(n).parent,o=!0,d=e.edge(n,i),u=0;return d||(o=!1,d=e.edge(i,n)),u=d.weight,s.Z(e.nodeEdges(n),function(l){var m=l.v===n,P=m?l.w:l.v;if(P!==i){var B=m===o,at=e.edge(l).weight;if(u+=B?at:-at,function mr(t,e,n){return t.hasEdge(e,n)}(t,n,P)){var _t=t.edge(n,P).cutvalue;u+=B?-_t:_t}}}),u}function tn(t,e){arguments.length<2&&(e=t.nodes()[0]),gn(t,{},1,e)}function gn(t,e,n,a,i){var o=n,d=t.node(a);return e[a]=!0,s.Z(t.neighbors(a),function(u){c.Z(e,u)||(n=gn(t,e,n,u,a))}),d.low=o,d.lim=n++,i?d.parent=i:delete d.parent,n}function En(t){return je(t.edges(),function(e){return t.edge(e).cutvalue<0})}function pn(t,e,n){var a=n.v,i=n.w;e.hasEdge(a,i)||(a=n.w,i=n.v);var o=t.node(a),d=t.node(i),u=o,l=!1;o.lim>d.lim&&(u=d,l=!0);var m=Le.Z(e.edges(),function(P){return l===mn(0,t.node(P.v),u)&&l!==mn(0,t.node(P.w),u)});return Gt(m,function(P){return Ee(e,P)})}function yn(t,e,n,a){t.removeEdge(n.v,n.w),t.setEdge(a.v,a.w,{}),tn(t),qe(t,e),function yr(t,e){var n=je(t.nodes(),function(i){return!e.node(i).parent}),a=function Er(t,e){return hn(t,e,"pre")}(t,n);a=a.slice(1),s.Z(a,function(i){var o=t.node(i).parent,d=e.edge(i,o),u=!1;d||(d=e.edge(o,i),u=!0),e.node(i).rank=e.node(o).rank+(u?d.minlen:-d.minlen)})}(t,e)}function mn(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}function Zr(t){switch(t.graph().ranker){case"network-simplex":default:!function Zn(t){Ne(t)}(t);break;case"tight-tree":!function Or(t){Re(t),Fe(t)}(t);break;case"longest-path":br(t)}}RegExp($e+"(?="+$e+")|"+sr+ir,"g"),new Error,r(4790),Ne.initLowLimValues=tn,Ne.initCutValues=qe,Ne.calcCutValue=vn,Ne.leaveEdge=En,Ne.enterEdge=pn,Ne.exchangeEdges=yn;var br=Re;var ke=r(7402),Ve=r(2621);function Tr(t){var e=At(t,"root",{},"_root"),n=function Ar(t){var e={};function n(a,i){var o=t.children(a);o&&o.length&&s.Z(o,function(d){n(d,i+1)}),e[a]=i}return s.Z(t.children(),function(a){n(a,1)}),e}(t),a=oe(ke.Z(n))-1,i=2*a+1;t.graph().nestingRoot=e,s.Z(t.edges(),function(d){t.edge(d).minlen*=i});var o=function Pr(t){return Ve.Z(t.edges(),function(e,n){return e+t.edge(n).weight},0)}(t)+1;s.Z(t.children(),function(d){bn(t,e,i,o,a,n,d)}),t.graph().nodeRankFactor=i}function bn(t,e,n,a,i,o,d){var u=t.children(d);if(u.length){var l=X(t,"_bt"),m=X(t,"_bb"),P=t.node(d);t.setParent(l,d),P.borderTop=l,t.setParent(m,d),P.borderBottom=m,s.Z(u,function(B){bn(t,e,n,a,i,o,B);var at=t.node(B),_t=at.borderTop?at.borderTop:B,mt=at.borderBottom?at.borderBottom:B,zt=at.borderTop?a:2*a,Ye=_t!==mt?1:i-o[d]+1;t.setEdge(l,_t,{weight:zt,minlen:Ye,nestingEdge:!0}),t.setEdge(mt,m,{weight:zt,minlen:Ye,nestingEdge:!0})}),t.parent(d)||t.setEdge(e,l,{weight:0,minlen:i+o[d]})}else d!==e&&t.setEdge(e,d,{weight:0,minlen:n})}var xr=r(3143);const Cr=function wr(t){return(0,xr.Z)(t,5)};var Sr=r(4416);const kr=function Ur(t,e){return function Br(t,e,n){for(var a=-1,i=t.length,o=e.length,d={};++a<i;)n(d,t[a],a<o?e[a]:void 0);return d}(t||[],e||[],Sr.Z)};var Kr=r(4583),en=r(2720),Wr=r(4818),jr=r(2436);var Xr=r(8733);const Hr=function zr(t,e){if(t!==e){var n=void 0!==t,a=null===t,i=t==t,o=(0,le.Z)(t),d=void 0!==e,u=null===e,l=e==e,m=(0,le.Z)(e);if(!u&&!m&&!o&&t>e||o&&d&&l&&!u&&!m||a&&d&&l||!n&&l||!i)return 1;if(!a&&!o&&!m&&t<e||m&&n&&i&&!a&&!o||u&&n&&i||!d&&i||!l)return-1}return 0},$r=function Jr(t,e,n){e=e.length?(0,en.Z)(e,function(o){return(0,qt.Z)(o)?function(d){return(0,Wr.Z)(d,1===o.length?o[0]:o)}:o}):[we.Z];var a=-1;return e=(0,en.Z)(e,(0,Xr.Z)(k.Z)),function Gr(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}((0,jr.Z)(t,function(o,d,u){return{criteria:(0,en.Z)(e,function(m){return m(o)}),index:++a,value:o}}),function(o,d){return function Vr(t,e,n){for(var a=-1,i=t.criteria,o=e.criteria,d=i.length,u=n.length;++a<d;){var l=Hr(i[a],o[a]);if(l)return a>=u?l:l*("desc"==n[a]?-1:1)}return t.index-e.index}(o,d,n)})},Ge=(0,E.Z)(function(t,e){if(null==t)return[];var n=e.length;return n>1&&(0,x.Z)(t,e[0],e[1])?e=[]:n>2&&(0,x.Z)(e[0],e[1],e[2])&&(e=[e[0]]),$r(t,(0,Kr.Z)(e,1),[])});function ta(t,e){for(var n=0,a=1;a<e.length;++a)n+=ea(t,e[a-1],e[a]);return n}function ea(t,e,n){for(var a=kr(n,v.Z(n,function(m,P){return P})),i=h.Z(v.Z(e,function(m){return Ge(v.Z(t.outEdges(m),function(P){return{pos:a[P.w],weight:t.edge(P).weight}}),"pos")})),o=1;o<n.length;)o<<=1;var d=2*o-1;o-=1;var u=v.Z(new Array(d),function(){return 0}),l=0;return s.Z(i.forEach(function(m){var P=m.pos+o;u[P]+=m.weight;for(var B=0;P>0;)P%2&&(B+=u[P+1]),u[P=P-1>>1]+=m.weight;l+=m.weight*B})),l}function On(t,e,n){for(var a;e.length&&(a=R(e)).i<=n;)e.pop(),t.push(a.vs),n++;return n}function Tn(t,e,n,a){var i=t.children(e),o=t.node(e),d=o?o.borderLeft:void 0,u=o?o.borderRight:void 0,l={};d&&(i=Le.Z(i,function(mt){return mt!==d&&mt!==u}));var m=function ra(t,e){return v.Z(e,function(n){var a=t.inEdges(n);if(a.length){var i=Ve.Z(a,function(o,d){var u=t.edge(d),l=t.node(d.v);return{sum:o.sum+u.weight*l.order,weight:o.weight+u.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}return{v:n}})}(t,i);s.Z(m,function(mt){if(t.children(mt.v).length){var zt=Tn(t,mt.v,n,a);l[mt.v]=zt,c.Z(zt,"barycenter")&&function ca(t,e){tt.Z(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}(mt,zt)}});var P=function aa(t,e){var n={};return s.Z(t,function(i,o){var d=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};tt.Z(i.barycenter)||(d.barycenter=i.barycenter,d.weight=i.weight)}),s.Z(e.edges(),function(i){var o=n[i.v],d=n[i.w];!tt.Z(o)&&!tt.Z(d)&&(d.indegree++,o.out.push(n[i.w]))}),function ia(t){var e=[];function n(o){return function(d){d.merged||(tt.Z(d.barycenter)||tt.Z(o.barycenter)||d.barycenter>=o.barycenter)&&function sa(t,e){var n=0,a=0;t.weight&&(n+=t.barycenter*t.weight,a+=t.weight),e.weight&&(n+=e.barycenter*e.weight,a+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/a,t.weight=a,t.i=Math.min(e.i,t.i),e.merged=!0}(o,d)}}function a(o){return function(d){d.in.push(o),0==--d.indegree&&t.push(d)}}for(;t.length;){var i=t.pop();e.push(i),s.Z(i.in.reverse(),n(i)),s.Z(i.out,a(i))}return v.Z(Le.Z(e,function(o){return!o.merged}),function(o){return Et.Z(o,["vs","i","barycenter","weight"])})}(Le.Z(n,function(i){return!i.indegree}))}(m,n);!function ua(t,e){s.Z(t,function(n){n.vs=h.Z(n.vs.map(function(a){return e[a]?e[a].vs:a}))})}(P,l);var B=function oa(t,e){var n=function gt(t,e){var n={lhs:[],rhs:[]};return s.Z(t,function(a){e(a)?n.lhs.push(a):n.rhs.push(a)}),n}(t,function(P){return c.Z(P,"barycenter")}),a=n.lhs,i=Ge(n.rhs,function(P){return-P.i}),o=[],d=0,u=0,l=0;a.sort(function da(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}(!!e)),l=On(o,i,l),s.Z(a,function(P){l+=P.vs.length,o.push(P.vs),d+=P.barycenter*P.weight,u+=P.weight,l=On(o,i,l)});var m={vs:h.Z(o)};return u&&(m.barycenter=d/u,m.weight=u),m}(P,a);if(d&&(B.vs=h.Z([d,B.vs,u]),t.predecessors(d).length)){var at=t.node(t.predecessors(d)[0]),_t=t.node(t.predecessors(u)[0]);c.Z(B,"barycenter")||(B.barycenter=0,B.weight=0),B.barycenter=(B.barycenter*B.weight+at.order+_t.order)/(B.weight+2),B.weight+=2}return B}function An(t,e,n){return v.Z(e,function(a){return function Dr(t,e,n){var a=function Nr(t){for(var e;t.hasNode(e=y.Z("_root")););return e}(t),i=new O.k({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(o){return t.node(o)});return s.Z(t.nodes(),function(o){var d=t.node(o),u=t.parent(o);(d.rank===e||d.minRank<=e&&e<=d.maxRank)&&(i.setNode(o),i.setParent(o,u||a),s.Z(t[n](o),function(l){var m=l.v===o?l.w:l.v,P=i.edge(m,o),B=tt.Z(P)?0:P.weight;i.setEdge(m,o,{weight:t.edge(l).weight+B})}),c.Z(d,"minRank")&&i.setNode(o,{borderLeft:d.borderLeft[e],borderRight:d.borderRight[e]}))}),i}(t,a,n)})}function la(t,e){var n=new O.k;s.Z(t,function(a){var i=a.graph().root,o=Tn(a,i,n,e);s.Z(o.vs,function(d,u){a.node(d).order=u}),function Lr(t,e,n){var i,a={};s.Z(n,function(o){for(var u,l,d=t.parent(o);d;){if((u=t.parent(d))?(l=a[u],a[u]=d):(l=i,i=d),l&&l!==d)return void e.setEdge(l,d);d=u}})}(a,n,o.vs)})}function Pn(t,e){s.Z(e,function(n){s.Z(n,function(a,i){t.node(a).order=i})})}var Rn=r(8606);const Ea=function ga(t,e){return t&&(0,T.Z)(t,(0,Rn.Z)(e))},ya=function pa(t,e){return null==t?t:(0,Jt.Z)(t,(0,Rn.Z)(e),se.Z)};function xn(t,e,n){if(e>n){var a=e;e=n,n=a}var i=t[e];i||(t[e]=i={}),i[n]=!0}function Oa(t,e,n){if(e>n){var a=e;e=n,n=a}return c.Z(t[e],n)}function Ia(t){var i,e=xt(t),n=ct(function ma(t,e){var n={};return Ve.Z(e,function a(i,o){var d=0,u=0,l=i.length,m=R(o);return s.Z(o,function(P,B){var at=function ba(t,e){if(t.node(e).dummy)return je(t.predecessors(e),function(n){return t.node(n).dummy})}(t,P),_t=at?t.node(at).order:l;(at||P===m)&&(s.Z(o.slice(u,B+1),function(mt){s.Z(t.predecessors(mt),function(zt){var Ye=t.node(zt),Mn=Ye.order;(Mn<d||_t<Mn)&&(!Ye.dummy||!t.node(mt).dummy)&&xn(n,zt,mt)})}),u=B+1,d=_t)}),o}),n}(t,e),function Za(t,e){var n={};function a(o,d,u,l,m){var P;s.Z(g.Z(d,u),function(B){t.node(P=o[B]).dummy&&s.Z(t.predecessors(P),function(at){var _t=t.node(at);_t.dummy&&(_t.order<l||_t.order>m)&&xn(n,at,P)})})}return Ve.Z(e,function i(o,d){var l,u=-1,m=0;return s.Z(d,function(P,B){if("border"===t.node(P).dummy){var at=t.predecessors(P);at.length&&(l=t.node(at[0]).order,a(d,m,B,u,l),m=B,u=l)}a(d,m,d.length,l,o.length)}),d}),n}(t,e)),a={};s.Z(["u","d"],function(d){i="u"===d?e:ke.Z(e).reverse(),s.Z(["l","r"],function(u){"r"===u&&(i=v.Z(i,function(B){return ke.Z(B).reverse()}));var l=("u"===d?t.predecessors:t.successors).bind(t),m=function Ta(t,e,n,a){var i={},o={},d={};return s.Z(e,function(u){s.Z(u,function(l,m){i[l]=l,o[l]=l,d[l]=m})}),s.Z(e,function(u){var l=-1;s.Z(u,function(m){var P=a(m);if(P.length)for(var B=((P=Ge(P,function(zt){return d[zt]})).length-1)/2,at=Math.floor(B),_t=Math.ceil(B);at<=_t;++at){var mt=P[at];o[m]===m&&l<d[mt]&&!Oa(n,m,mt)&&(o[mt]=m,o[m]=i[m]=i[mt],l=d[mt])}})}),{root:i,align:o}}(0,i,n,l),P=function Aa(t,e,n,a,i){var o={},d=function Pa(t,e,n,a){var i=new O.k,o=t.graph(),d=function wa(t,e,n){return function(a,i,o){var m,d=a.node(i),u=a.node(o),l=0;if(l+=d.width/2,c.Z(d,"labelpos"))switch(d.labelpos.toLowerCase()){case"l":m=-d.width/2;break;case"r":m=d.width/2}if(m&&(l+=n?m:-m),m=0,l+=(d.dummy?e:t)/2,l+=(u.dummy?e:t)/2,l+=u.width/2,c.Z(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":m=u.width/2;break;case"r":m=-u.width/2}return m&&(l+=n?m:-m),m=0,l}}(o.nodesep,o.edgesep,a);return s.Z(e,function(u){var l;s.Z(u,function(m){var P=n[m];if(i.setNode(P),l){var B=n[l],at=i.edge(B,P);i.setEdge(B,P,Math.max(d(t,m,l),at||0))}l=m})}),i}(t,e,n,i),u=i?"borderLeft":"borderRight";function l(B,at){for(var _t=d.nodes(),mt=_t.pop(),zt={};mt;)zt[mt]?B(mt):(zt[mt]=!0,_t.push(mt),_t=_t.concat(at(mt))),mt=_t.pop()}return l(function m(B){o[B]=d.inEdges(B).reduce(function(at,_t){return Math.max(at,o[_t.v]+d.edge(_t))},0)},d.predecessors.bind(d)),l(function P(B){var at=d.outEdges(B).reduce(function(mt,zt){return Math.min(mt,o[zt.w]-d.edge(zt))},Number.POSITIVE_INFINITY),_t=t.node(B);at!==Number.POSITIVE_INFINITY&&_t.borderType!==u&&(o[B]=Math.max(o[B],at))},d.successors.bind(d)),s.Z(a,function(B){o[B]=o[n[B]]}),o}(t,i,m.root,m.align,"r"===u);"r"===u&&(P=vt(P,function(B){return-B})),a[d+u]=P})});var o=function Ra(t,e){return Gt(ke.Z(e),function(n){var a=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return ya(n,function(o,d){var u=function Ca(t,e){return t.node(e).width}(t,d)/2;a=Math.max(o+u,a),i=Math.min(o-u,i)}),a-i})}(t,a);return function xa(t,e){var n=ke.Z(e),a=yt(n),i=oe(n);s.Z(["u","d"],function(o){s.Z(["l","r"],function(d){var m,u=o+d,l=t[u];if(l!==e){var P=ke.Z(l);(m="l"===d?a-yt(P):i-oe(P))&&(t[u]=vt(l,function(B){return B+m}))}})})}(a,o),function Ma(t,e){return vt(t.ul,function(n,a){if(e)return t[e.toLowerCase()][a];var i=Ge(v.Z(t,a));return(i[1]+i[2])/2})}(a,t.graph().align)}function Na(t,e){var n=e&&e.debugTiming?rt:lt;n("layout",function(){var a=n("  buildLayoutGraph",function(){return function Xa(t){var e=new O.k({multigraph:!0,compound:!0}),n=rn(t.graph());return e.setGraph(ct({},Ua,nn(n,Fa),Et.Z(n,ka))),s.Z(t.nodes(),function(a){var i=rn(t.node(a));e.setNode(a,wt.Z(nn(i,Ka),Wa)),e.setParent(a,t.parent(a))}),s.Z(t.edges(),function(a){var i=rn(t.edge(a));e.setEdge(a,ct({},Ga,nn(i,ja),Et.Z(i,Ya)))}),e}(t)});n("  runLayout",function(){!function Sa(t,e){e("    makeSpaceForEdgeLabels",function(){!function za(t){var e=t.graph();e.ranksep/=2,s.Z(t.edges(),function(n){var a=t.edge(n);a.minlen*=2,"c"!==a.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?a.width+=a.labeloffset:a.height+=a.labeloffset)})}(t)}),e("    removeSelfEdges",function(){!function ni(t){s.Z(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}(t)}),e("    acyclic",function(){Zt(t)}),e("    nestingGraph.run",function(){Tr(t)}),e("    rank",function(){Zr(ne(t))}),e("    injectEdgeLabelProxies",function(){!function Ha(t){s.Z(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var a=t.node(e.v),i=t.node(e.w);At(t,"edge-proxy",{rank:(i.rank-a.rank)/2+a.rank,e},"_ep")}})}(t)}),e("    removeEmptyRanks",function(){!function M(t){var e=yt(v.Z(t.nodes(),function(o){return t.node(o).rank})),n=[];s.Z(t.nodes(),function(o){var d=t.node(o).rank-e;n[d]||(n[d]=[]),n[d].push(o)});var a=0,i=t.graph().nodeRankFactor;s.Z(n,function(o,d){tt.Z(o)&&d%i!=0?--a:a&&s.Z(o,function(u){t.node(u).rank+=a})})}(t)}),e("    nestingGraph.cleanup",function(){!function Rr(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,s.Z(t.edges(),function(n){t.edge(n).nestingEdge&&t.removeEdge(n)})}(t)}),e("    normalizeRanks",function(){!function b(t){var e=yt(v.Z(t.nodes(),function(n){return t.node(n).rank}));s.Z(t.nodes(),function(n){var a=t.node(n);c.Z(a,"rank")&&(a.rank-=e)})}(t)}),e("    assignRankMinMax",function(){!function Va(t){var e=0;s.Z(t.nodes(),function(n){var a=t.node(n);a.borderTop&&(a.minRank=t.node(a.borderTop).rank,a.maxRank=t.node(a.borderBottom).rank,e=oe(e,a.maxRank))}),t.graph().maxRank=e}(t)}),e("    removeEdgeLabelProxies",function(){!function Qa(t){s.Z(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}(t)}),e("    normalize.run",function(){!function ue(t){t.graph().dummyChains=[],s.Z(t.edges(),function(e){!function ae(t,e){var n=e.v,a=t.node(n).rank,i=e.w,o=t.node(i).rank,d=e.name,u=t.edge(e),l=u.labelRank;if(o!==a+1){var m,P,B;for(t.removeEdge(e),B=0,++a;a<o;++B,++a)u.points=[],m=At(t,"edge",P={width:0,height:0,edgeLabel:u,edgeObj:e,rank:a},"_d"),a===l&&(P.width=u.width,P.height=u.height,P.dummy="edge-label",P.labelpos=u.labelpos),t.setEdge(n,m,{weight:u.weight},d),0===B&&t.graph().dummyChains.push(m),n=m;t.setEdge(n,i,{weight:u.weight},d)}}(t,e)})}(t)}),e("    parentDummyChains",function(){!function ha(t){var e=function va(t){var e={},n=0;return s.Z(t.children(),function a(i){var o=n;s.Z(t.children(i),a),e[i]={low:o,lim:n++}}),e}(t);s.Z(t.graph().dummyChains,function(n){for(var a=t.node(n),i=a.edgeObj,o=function _a(t,e,n,a){var l,m,i=[],o=[],d=Math.min(e[n].low,e[a].low),u=Math.max(e[n].lim,e[a].lim);l=n;do{l=t.parent(l),i.push(l)}while(l&&(e[l].low>d||u>e[l].lim));for(m=l,l=a;(l=t.parent(l))!==m;)o.push(l);return{path:i.concat(o.reverse()),lca:m}}(t,e,i.v,i.w),d=o.path,u=o.lca,l=0,m=d[l],P=!0;n!==i.w;){if(a=t.node(n),P){for(;(m=d[l])!==u&&t.node(m).maxRank<a.rank;)l++;m===u&&(P=!1)}if(!P){for(;l<d.length-1&&t.node(m=d[l+1]).minRank<=a.rank;)l++;m=d[l]}t.setParent(n,m),n=t.successors(n)[0]}})}(t)}),e("    addBorderSegments",function(){!function D(t){s.Z(t.children(),function e(n){var a=t.children(n),i=t.node(n);if(a.length&&s.Z(a,e),c.Z(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,d=i.maxRank+1;o<d;++o)F(t,"borderLeft","_bl",n,i,o),F(t,"borderRight","_br",n,i,o)}})}(t)}),e("    order",function(){!function fa(t){var e=q(t),n=An(t,g.Z(1,e+1),"inEdges"),a=An(t,g.Z(e-1,-1,-1),"outEdges"),i=function na(t){var e={},n=Le.Z(t.nodes(),function(u){return!t.children(u).length}),a=oe(v.Z(n,function(u){return t.node(u).rank})),i=v.Z(g.Z(a+1),function(){return[]}),d=Ge(n,function(u){return t.node(u).rank});return s.Z(d,function o(u){if(!c.Z(e,u)){e[u]=!0;var l=t.node(u);i[l.rank].push(u),s.Z(t.successors(u),o)}}),i}(t);Pn(t,i);for(var d,o=Number.POSITIVE_INFINITY,u=0,l=0;l<4;++u,++l){la(u%2?n:a,u%4>=2);var m=ta(t,i=xt(t));m<o&&(l=0,d=Cr(i),o=m)}Pn(t,d)}(t)}),e("    insertSelfEdges",function(){!function ri(t){var e=xt(t);s.Z(e,function(n){var a=0;s.Z(n,function(i,o){var d=t.node(i);d.order=o+a,s.Z(d.selfEdges,function(u){At(t,"selfedge",{width:u.label.width,height:u.label.height,rank:d.rank,order:o+ ++a,e:u.e,label:u.label},"_se")}),delete d.selfEdges})})}(t)}),e("    adjustCoordinateSystem",function(){!function j(t){var e=t.graph().rankdir.toLowerCase();("lr"===e||"rl"===e)&&st(t)}(t)}),e("    position",function(){!function La(t){(function Da(t){var e=xt(t),n=t.graph().ranksep,a=0;s.Z(e,function(i){var o=oe(v.Z(i,function(d){return t.node(d).height}));s.Z(i,function(d){t.node(d).y=a+o/2}),a+=o+n})})(t=ne(t)),Ea(Ia(t),function(e,n){t.node(n).x=e})}(t)}),e("    positionSelfEdges",function(){!function ai(t){s.Z(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var a=t.node(n.e.v),i=a.x+a.width/2,o=a.y,d=n.x-i,u=a.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*d/3,y:o-u},{x:i+5*d/6,y:o-u},{x:i+d,y:o},{x:i+5*d/6,y:o+u},{x:i+2*d/3,y:o+u}],n.label.x=n.x,n.label.y=n.y}})}(t)}),e("    removeBorderNodes",function(){!function ei(t){s.Z(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),a=t.node(n.borderTop),i=t.node(n.borderBottom),o=t.node(R(n.borderLeft)),d=t.node(R(n.borderRight));n.width=Math.abs(d.x-o.x),n.height=Math.abs(i.y-a.y),n.x=o.x+n.width/2,n.y=a.y+n.height/2}}),s.Z(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}(t)}),e("    normalize.undo",function(){!function Ce(t){s.Z(t.graph().dummyChains,function(e){var i,n=t.node(e),a=n.edgeLabel;for(t.setEdge(n.edgeObj,a);n.dummy;)i=t.successors(e)[0],t.removeNode(e),a.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(a.x=n.x,a.y=n.y,a.width=n.width,a.height=n.height),n=t.node(e=i)})}(t)}),e("    fixupEdgeLabelCoords",function(){!function qa(t){s.Z(t.edges(),function(e){var n=t.edge(e);if(c.Z(n,"x"))switch(("l"===n.labelpos||"r"===n.labelpos)&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(t)}),e("    undoCoordinateSystem",function(){!function H(t){var e=t.graph().rankdir.toLowerCase();("bt"===e||"rl"===e)&&function Ut(t){s.Z(t.nodes(),function(e){W(t.node(e))}),s.Z(t.edges(),function(e){var n=t.edge(e);s.Z(n.points,W),c.Z(n,"y")&&W(n)})}(t),("lr"===e||"rl"===e)&&(function Nt(t){s.Z(t.nodes(),function(e){Xt(t.node(e))}),s.Z(t.edges(),function(e){var n=t.edge(e);s.Z(n.points,Xt),c.Z(n,"x")&&Xt(n)})}(t),st(t))}(t)}),e("    translateGraph",function(){!function Ja(t){var e=Number.POSITIVE_INFINITY,n=0,a=Number.POSITIVE_INFINITY,i=0,o=t.graph(),d=o.marginx||0,u=o.marginy||0;function l(m){var P=m.x,B=m.y,at=m.width,_t=m.height;e=Math.min(e,P-at/2),n=Math.max(n,P+at/2),a=Math.min(a,B-_t/2),i=Math.max(i,B+_t/2)}s.Z(t.nodes(),function(m){l(t.node(m))}),s.Z(t.edges(),function(m){var P=t.edge(m);c.Z(P,"x")&&l(P)}),e-=d,a-=u,s.Z(t.nodes(),function(m){var P=t.node(m);P.x-=e,P.y-=a}),s.Z(t.edges(),function(m){var P=t.edge(m);s.Z(P.points,function(B){B.x-=e,B.y-=a}),c.Z(P,"x")&&(P.x-=e),c.Z(P,"y")&&(P.y-=a)}),o.width=n-e+d,o.height=i-a+u}(t)}),e("    assignNodeIntersects",function(){!function $a(t){s.Z(t.edges(),function(e){var o,d,n=t.edge(e),a=t.node(e.v),i=t.node(e.w);n.points?(o=n.points[0],d=n.points[n.points.length-1]):(n.points=[],o=i,d=a),n.points.unshift(It(a,o)),n.points.push(It(i,d))})}(t)}),e("    reversePoints",function(){!function ti(t){s.Z(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}(t)}),e("    acyclic.undo",function(){!function Q(t){s.Z(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var a=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,a)}})}(t)})}(a,n)}),n("  updateInputGraph",function(){!function Ba(t,e){s.Z(t.nodes(),function(n){var a=t.node(n),i=e.node(n);a&&(a.x=i.x,a.y=i.y,e.children(n).length&&(a.width=i.width,a.height=i.height))}),s.Z(t.edges(),function(n){var a=t.edge(n),i=e.edge(n);a.points=i.points,c.Z(i,"x")&&(a.x=i.x,a.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,a)})})}var Fa=["nodesep","edgesep","ranksep","marginx","marginy"],Ua={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ka=["acyclicer","ranker","rankdir","align"],Ka=["width","height"],Wa={width:0,height:0},ja=["minlen","weight","width","height","labeloffset"],Ga={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Ya=["labelpos"];function nn(t,e){return vt(Et.Z(t,e),Number)}function rn(t){var e={};return s.Z(t,function(n,a){e[a.toLowerCase()]=n}),e}},4790:(K,Z,r)=>{r.d(Z,{k:()=>se});var s=r(8627),y=r(2935),c=r(4842),p=r(4181),h=r(6232),v=r(6390),g=r(9547),O=r(7002),A=r(4583),C=r(2447),U=r(342),I=r(8568);const S=function L(nt){return nt!=nt},Q=function bt(nt,E){return!(null==nt||!nt.length)&&function it(nt,E,x){return E==E?function Y(nt,E,x){for(var G=x-1,z=nt.length;++G<z;)if(nt[G]===E)return G;return-1}(nt,E,x):(0,I.Z)(nt,S,x)}(nt,E,0)>-1},Rt=function et(nt,E,x){for(var G=-1,z=null==nt?0:nt.length;++G<z;)if(x(E,nt[G]))return!0;return!1};var ie=r(6614),kt=r(4402);var $t=r(7799);const Ht=kt.Z&&1/(0,$t.Z)(new kt.Z([,-0]))[1]==1/0?function(nt){return new kt.Z(nt)}:function Kt(){};var Ae=r(9568);const ve=(0,C.Z)(function(nt){return function qt(nt,E,x){var G=-1,z=Q,ot=nt.length,ct=!0,Et=[],wt=Et;if(x)ct=!1,z=Rt;else if(ot>=200){var le=E?null:Ht(nt);if(le)return(0,$t.Z)(le);ct=!1,z=ie.Z,wt=new U.Z}else wt=E?[]:Et;t:for(;++G<ot;){var te=nt[G],Vt=E?E(te):te;if(te=x||0!==te?te:0,ct&&Vt==Vt){for(var he=wt.length;he--;)if(wt[he]===Vt)continue t;E&&wt.push(Vt),Et.push(te)}else z(wt,Vt,x)||(wt!==Et&&wt.push(Vt),Et.push(te))}return Et}((0,A.Z)(nt,1,Ae.Z,!0))});var ye=r(7402),Ie=r(2621),me="\0",ge="\x01";class se{constructor(E={}){this._isDirected=!s.Z(E,"directed")||E.directed,this._isMultigraph=!!s.Z(E,"multigraph")&&E.multigraph,this._isCompound=!!s.Z(E,"compound")&&E.compound,this._label=void 0,this._defaultNodeLabelFn=y.Z(void 0),this._defaultEdgeLabelFn=y.Z(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(E){return this._label=E,this}graph(){return this._label}setDefaultNodeLabel(E){return c.Z(E)||(E=y.Z(E)),this._defaultNodeLabelFn=E,this}nodeCount(){return this._nodeCount}nodes(){return p.Z(this._nodes)}sources(){var E=this;return h.Z(this.nodes(),function(x){return v.Z(E._in[x])})}sinks(){var E=this;return h.Z(this.nodes(),function(x){return v.Z(E._out[x])})}setNodes(E,x){var G=arguments,z=this;return g.Z(E,function(ot){G.length>1?z.setNode(ot,x):z.setNode(ot)}),this}setNode(E,x){return s.Z(this._nodes,E)?(arguments.length>1&&(this._nodes[E]=x),this):(this._nodes[E]=arguments.length>1?x:this._defaultNodeLabelFn(E),this._isCompound&&(this._parent[E]="\0",this._children[E]={},this._children["\0"][E]=!0),this._in[E]={},this._preds[E]={},this._out[E]={},this._sucs[E]={},++this._nodeCount,this)}node(E){return this._nodes[E]}hasNode(E){return s.Z(this._nodes,E)}removeNode(E){var x=this;if(s.Z(this._nodes,E)){var G=function(z){x.removeEdge(x._edgeObjs[z])};delete this._nodes[E],this._isCompound&&(this._removeFromParentsChildList(E),delete this._parent[E],g.Z(this.children(E),function(z){x.setParent(z)}),delete this._children[E]),g.Z(p.Z(this._in[E]),G),delete this._in[E],delete this._preds[E],g.Z(p.Z(this._out[E]),G),delete this._out[E],delete this._sucs[E],--this._nodeCount}return this}setParent(E,x){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(O.Z(x))x="\0";else{for(var G=x+="";!O.Z(G);G=this.parent(G))if(G===E)throw new Error("Setting "+x+" as parent of "+E+" would create a cycle");this.setNode(x)}return this.setNode(E),this._removeFromParentsChildList(E),this._parent[E]=x,this._children[x][E]=!0,this}_removeFromParentsChildList(E){delete this._children[this._parent[E]][E]}parent(E){if(this._isCompound){var x=this._parent[E];if("\0"!==x)return x}}children(E){if(O.Z(E)&&(E="\0"),this._isCompound){var x=this._children[E];if(x)return p.Z(x)}else{if("\0"===E)return this.nodes();if(this.hasNode(E))return[]}}predecessors(E){var x=this._preds[E];if(x)return p.Z(x)}successors(E){var x=this._sucs[E];if(x)return p.Z(x)}neighbors(E){var x=this.predecessors(E);if(x)return ve(x,this.successors(E))}isLeaf(E){return 0===(this.isDirected()?this.successors(E):this.neighbors(E)).length}filterNodes(E){var x=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});x.setGraph(this.graph());var G=this;g.Z(this._nodes,function(ct,Et){E(Et)&&x.setNode(Et,ct)}),g.Z(this._edgeObjs,function(ct){x.hasNode(ct.v)&&x.hasNode(ct.w)&&x.setEdge(ct,G.edge(ct))});var z={};function ot(ct){var Et=G.parent(ct);return void 0===Et||x.hasNode(Et)?(z[ct]=Et,Et):Et in z?z[Et]:ot(Et)}return this._isCompound&&g.Z(x.nodes(),function(ct){x.setParent(ct,ot(ct))}),x}setDefaultEdgeLabel(E){return c.Z(E)||(E=y.Z(E)),this._defaultEdgeLabelFn=E,this}edgeCount(){return this._edgeCount}edges(){return ye.Z(this._edgeObjs)}setPath(E,x){var G=this,z=arguments;return Ie.Z(E,function(ot,ct){return z.length>1?G.setEdge(ot,ct,x):G.setEdge(ot,ct),ct}),this}setEdge(){var E,x,G,z,ot=!1,ct=arguments[0];"object"==typeof ct&&null!==ct&&"v"in ct?(E=ct.v,x=ct.w,G=ct.name,2===arguments.length&&(z=arguments[1],ot=!0)):(E=ct,x=arguments[1],G=arguments[3],arguments.length>2&&(z=arguments[2],ot=!0)),E=""+E,x=""+x,O.Z(G)||(G=""+G);var Et=Ct(this._isDirected,E,x,G);if(s.Z(this._edgeLabels,Et))return ot&&(this._edgeLabels[Et]=z),this;if(!O.Z(G)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(E),this.setNode(x),this._edgeLabels[Et]=ot?z:this._defaultEdgeLabelFn(E,x,G);var wt=function fe(nt,E,x,G){var z=""+E,ot=""+x;if(!nt&&z>ot){var ct=z;z=ot,ot=ct}var Et={v:z,w:ot};return G&&(Et.name=G),Et}(this._isDirected,E,x,G);return E=wt.v,x=wt.w,Object.freeze(wt),this._edgeObjs[Et]=wt,jt(this._preds[x],E),jt(this._sucs[E],x),this._in[x][Et]=wt,this._out[E][Et]=wt,this._edgeCount++,this}edge(E,x,G){var z=1===arguments.length?Ot(this._isDirected,arguments[0]):Ct(this._isDirected,E,x,G);return this._edgeLabels[z]}hasEdge(E,x,G){var z=1===arguments.length?Ot(this._isDirected,arguments[0]):Ct(this._isDirected,E,x,G);return s.Z(this._edgeLabels,z)}removeEdge(E,x,G){var z=1===arguments.length?Ot(this._isDirected,arguments[0]):Ct(this._isDirected,E,x,G),ot=this._edgeObjs[z];return ot&&(E=ot.v,x=ot.w,delete this._edgeLabels[z],delete this._edgeObjs[z],Ze(this._preds[x],E),Ze(this._sucs[E],x),delete this._in[x][z],delete this._out[E][z],this._edgeCount--),this}inEdges(E,x){var G=this._in[E];if(G){var z=ye.Z(G);return x?h.Z(z,function(ot){return ot.v===x}):z}}outEdges(E,x){var G=this._out[E];if(G){var z=ye.Z(G);return x?h.Z(z,function(ot){return ot.w===x}):z}}nodeEdges(E,x){var G=this.inEdges(E,x);if(G)return G.concat(this.outEdges(E,x))}}function jt(nt,E){nt[E]?nt[E]++:nt[E]=1}function Ze(nt,E){--nt[E]||delete nt[E]}function Ct(nt,E,x,G){var z=""+E,ot=""+x;if(!nt&&z>ot){var ct=z;z=ot,ot=ct}return z+ge+ot+ge+(O.Z(G)?me:G)}function Ot(nt,E){return Ct(nt,E.v,E.w,E.name)}se.prototype._nodeCount=0,se.prototype._edgeCount=0},5346:(K,Z,r)=>{r.d(Z,{k:()=>s.k});var s=r(4790)},342:(K,Z,r)=>{r.d(Z,{Z:()=>O});var s=r(8410);function g(A){var C=-1,U=null==A?0:A.length;for(this.__data__=new s.Z;++C<U;)this.add(A[C])}g.prototype.add=g.prototype.push=function c(A){return this.__data__.set(A,"__lodash_hash_undefined__"),this},g.prototype.has=function h(A){return this.__data__.has(A)};const O=g},8730:(K,Z,r)=>{r.d(Z,{Z:()=>dt});var s=r(7066);var C=r(2847),U=r(8410);function Y(it){var Zt=this.__data__=new s.Z(it);this.size=Zt.size}Y.prototype.clear=function y(){this.__data__=new s.Z,this.size=0},Y.prototype.delete=function p(it){var Zt=this.__data__,bt=Zt.delete(it);return this.size=Zt.size,bt},Y.prototype.get=function v(it){return this.__data__.get(it)},Y.prototype.has=function O(it){return this.__data__.has(it)},Y.prototype.set=function L(it,Zt){var bt=this.__data__;if(bt instanceof s.Z){var Q=bt.__data__;if(!C.Z||Q.length<199)return Q.push([it,Zt]),this.size=++bt.size,this;bt=this.__data__=new U.Z(Q)}return bt.set(it,Zt),this.size=bt.size,this};const dt=Y},8475:(K,Z,r)=>{r.d(Z,{Z:()=>c});const c=r(4131).Z.Uint8Array},4899:(K,Z,r)=>{r.d(Z,{Z:()=>y});const y=function s(c,p){for(var h=-1,v=null==c?0:c.length;++h<v&&!1!==p(c[h],h,c););return c}},207:(K,Z,r)=>{r.d(Z,{Z:()=>y});const y=function s(c,p){for(var h=-1,v=null==c?0:c.length,g=0,O=[];++h<v;){var A=c[h];p(A,h,c)&&(O[g++]=A)}return O}},9416:(K,Z,r)=>{r.d(Z,{Z:()=>U});var c=r(5727),p=r(9977),h=r(7717),v=r(1885),g=r(7227),A=Object.prototype.hasOwnProperty;const U=function C(I,L){var S=(0,p.Z)(I),Y=!S&&(0,c.Z)(I),dt=!S&&!Y&&(0,h.Z)(I),it=!S&&!Y&&!dt&&(0,g.Z)(I),Zt=S||Y||dt||it,bt=Zt?function s(I,L){for(var S=-1,Y=Array(I);++S<I;)Y[S]=L(S);return Y}(I.length,String):[],Q=bt.length;for(var et in I)(L||A.call(I,et))&&(!Zt||!("length"==et||dt&&("offset"==et||"parent"==et)||it&&("buffer"==et||"byteLength"==et||"byteOffset"==et)||(0,v.Z)(et,Q)))&&bt.push(et);return bt}},2720:(K,Z,r)=>{r.d(Z,{Z:()=>y});const y=function s(c,p){for(var h=-1,v=null==c?0:c.length,g=Array(v);++h<v;)g[h]=p(c[h],h,c);return g}},4331:(K,Z,r)=>{r.d(Z,{Z:()=>y});const y=function s(c,p){for(var h=-1,v=p.length,g=c.length;++h<v;)c[g+h]=p[h];return c}},4416:(K,Z,r)=>{r.d(Z,{Z:()=>v});var s=r(6041),y=r(8418),p=Object.prototype.hasOwnProperty;const v=function h(g,O,A){var C=g[O];(!p.call(g,O)||!(0,y.Z)(C,A)||void 0===A&&!(O in g))&&(0,s.Z)(g,O,A)}},6041:(K,Z,r)=>{r.d(Z,{Z:()=>c});var s=r(5753);const c=function y(p,h,v){"__proto__"==h&&s.Z?(0,s.Z)(p,h,{configurable:!0,enumerable:!0,value:v,writable:!0}):p[h]=v}},3143:(K,Z,r)=>{r.d(Z,{Z:()=>Oe});var s=r(8730),y=r(4899),c=r(4416),p=r(6299),h=r(4181);var O=r(516);var U=r(4203),I=r(2307),L=r(9695);var dt=r(4331),it=r(5234),Zt=r(3534);const et=Object.getOwnPropertySymbols?function(N){for(var ht=[];N;)(0,dt.Z)(ht,(0,L.Z)(N)),N=(0,it.Z)(N);return ht}:Zt.Z;var kt=r(4552),Kt=r(6982);const $t=function Jt(N){return(0,Kt.Z)(N,O.Z,et)};var Lt=r(2211),Ht=Object.prototype.hasOwnProperty;var _e=r(3776);var ve=/\w*$/;var me=r(6875),Ft=me.Z?me.Z.prototype:void 0,ge=Ft?Ft.valueOf:void 0;var Ze=r(3734);const f=function oe(N,ht,St){var ce=N.constructor;switch(ht){case"[object ArrayBuffer]":return(0,_e.Z)(N);case"[object Boolean]":case"[object Date]":return new ce(+N);case"[object DataView]":return function Ae(N,ht){var St=ht?(0,_e.Z)(N.buffer):N.buffer;return new N.constructor(St,N.byteOffset,N.byteLength)}(N,St);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,Ze.Z)(N,St);case"[object Map]":case"[object Set]":return new ce;case"[object Number]":case"[object String]":return new ce(N);case"[object RegExp]":return function ye(N){var ht=new N.constructor(N.source,ve.exec(N));return ht.lastIndex=N.lastIndex,ht}(N);case"[object Symbol]":return function se(N){return ge?Object(ge.call(N)):{}}(N)}};var R=r(7324),T=r(9977),k=r(7717),J=r(1196);var V=r(8733),pt=r(5527),yt=pt.Z&&pt.Z.isMap;const Mt=yt?(0,V.Z)(yt):function tt(N){return(0,J.Z)(N)&&"[object Map]"==(0,Lt.Z)(N)};var ut=r(5829);var de=pt.Z&&pt.Z.isSet;const It=de?(0,V.Z)(de):function ee(N){return(0,J.Z)(N)&&"[object Set]"==(0,Lt.Z)(N)};var X="[object Arguments]",D="[object Function]",st="[object Object]",ft={};ft[X]=ft["[object Array]"]=ft["[object ArrayBuffer]"]=ft["[object DataView]"]=ft["[object Boolean]"]=ft["[object Date]"]=ft["[object Float32Array]"]=ft["[object Float64Array]"]=ft["[object Int8Array]"]=ft["[object Int16Array]"]=ft["[object Int32Array]"]=ft["[object Map]"]=ft["[object Number]"]=ft[st]=ft["[object RegExp]"]=ft["[object Set]"]=ft["[object String]"]=ft["[object Symbol]"]=ft["[object Uint8Array]"]=ft["[object Uint8ClampedArray]"]=ft["[object Uint16Array]"]=ft["[object Uint32Array]"]=!0,ft["[object Error]"]=ft[D]=ft["[object WeakMap]"]=!1;const Oe=function be(N,ht,St,ce,Te,Bt){var Qt,We=1&ht,Ue=2&ht,je=4&ht;if(St&&(Qt=Te?St(N,ce,Te,Bt):St(N)),void 0!==Qt)return Qt;if(!(0,ut.Z)(N))return N;var Le=(0,T.Z)(N);if(Le){if(Qt=function Wt(N){var ht=N.length,St=new N.constructor(ht);return ht&&"string"==typeof N[0]&&Ht.call(N,"index")&&(St.index=N.index,St.input=N.input),St}(N),!We)return(0,I.Z)(N,Qt)}else{var De=(0,Lt.Z)(N),Qe=De==D||"[object GeneratorFunction]"==De;if((0,k.Z)(N))return(0,U.Z)(N,We);if(De==st||De==X||Qe&&!Te){if(Qt=Ue||Qe?{}:(0,R.Z)(N),!We)return Ue?function Rt(N,ht){return(0,p.Z)(N,et(N),ht)}(N,function A(N,ht){return N&&(0,p.Z)(ht,(0,O.Z)(ht),N)}(Qt,N)):function S(N,ht){return(0,p.Z)(N,(0,L.Z)(N),ht)}(N,function v(N,ht){return N&&(0,p.Z)(ht,(0,h.Z)(ht),N)}(Qt,N))}else{if(!ft[De])return Te?N:{};Qt=f(N,De,We)}}Bt||(Bt=new s.Z);var Xe=Bt.get(N);if(Xe)return Xe;Bt.set(N,Qt),It(N)?N.forEach(function(xe){Qt.add(be(xe,ht,St,xe,N,Bt))}):Mt(N)&&N.forEach(function(xe,Me){Qt.set(Me,be(xe,ht,St,Me,N,Bt))});var ze=Le?void 0:(je?Ue?$t:kt.Z:Ue?O.Z:h.Z)(N);return(0,y.Z)(ze||N,function(xe,Me){ze&&(xe=N[Me=xe]),(0,c.Z)(Qt,Me,be(xe,ht,St,Me,N,Bt))}),Qt}},3789:(K,Z,r)=>{r.d(Z,{Z:()=>v});var s=r(4023),y=r(6247);const v=function c(g,O){return function(A,C){if(null==A)return A;if(!(0,y.Z)(A))return g(A,C);for(var U=A.length,I=O?U:-1,L=Object(A);(O?I--:++I<U)&&!1!==C(L[I],I,L););return A}}(s.Z)},8568:(K,Z,r)=>{r.d(Z,{Z:()=>y});const y=function s(c,p,h,v){for(var g=c.length,O=h+(v?1:-1);v?O--:++O<g;)if(p(c[O],O,c))return O;return-1}},4583:(K,Z,r)=>{r.d(Z,{Z:()=>A});var s=r(4331),y=r(6875),c=r(5727),p=r(9977),h=y.Z?y.Z.isConcatSpreadable:void 0;const g=function v(C){return(0,p.Z)(C)||(0,c.Z)(C)||!!(h&&C&&C[h])},A=function O(C,U,I,L,S){var Y=-1,dt=C.length;for(I||(I=g),S||(S=[]);++Y<dt;){var it=C[Y];U>0&&I(it)?U>1?O(it,U-1,I,L,S):(0,s.Z)(S,it):L||(S[S.length]=it)}return S}},4199:(K,Z,r)=>{r.d(Z,{Z:()=>p});const p=function s(h){return function(v,g,O){for(var A=-1,C=Object(v),U=O(v),I=U.length;I--;){var L=U[h?I:++A];if(!1===g(C[L],L,C))break}return v}}()},4023:(K,Z,r)=>{r.d(Z,{Z:()=>p});var s=r(4199),y=r(4181);const p=function c(h,v){return h&&(0,s.Z)(h,v,y.Z)}},4818:(K,Z,r)=>{r.d(Z,{Z:()=>p});var s=r(5078),y=r(7801);const p=function c(h,v){for(var g=0,O=(v=(0,s.Z)(v,h)).length;null!=h&&g<O;)h=h[(0,y.Z)(v[g++])];return g&&g==O?h:void 0}},6982:(K,Z,r)=>{r.d(Z,{Z:()=>p});var s=r(4331),y=r(9977);const p=function c(h,v,g){var O=v(h);return(0,y.Z)(h)?O:(0,s.Z)(O,g(h))}},2349:(K,Z,r)=>{r.d(Z,{Z:()=>xt});var s=r(8730),y=r(342);const p=function c(b,M){for(var X=-1,q=null==b?0:b.length;++X<q;)if(M(b[X],X,b))return!0;return!1};var h=r(6614);const A=function O(b,M,X,q,gt,rt){var lt=1&X,D=b.length,F=M.length;if(D!=F&&!(lt&&F>D))return!1;var j=rt.get(b),H=rt.get(M);if(j&&H)return j==M&&H==b;var st=-1,w=!0,Ut=2&X?new y.Z:void 0;for(rt.set(b,M),rt.set(M,b);++st<D;){var W=b[st],Nt=M[st];if(q)var Xt=lt?q(Nt,W,st,M,b,rt):q(W,Nt,st,b,M,rt);if(void 0!==Xt){if(Xt)continue;w=!1;break}if(Ut){if(!p(M,function(ue,ae){if(!(0,h.Z)(Ut,ae)&&(W===ue||gt(W,ue,X,q,rt)))return Ut.push(ae)})){w=!1;break}}else if(W!==Nt&&!gt(W,Nt,X,q,rt)){w=!1;break}}return rt.delete(b),rt.delete(M),w};var C=r(6875),U=r(8475),I=r(8418);const S=function L(b){var M=-1,X=Array(b.size);return b.forEach(function(q,gt){X[++M]=[gt,q]}),X};var Y=r(7799),Dt=C.Z?C.Z.prototype:void 0,Ht=Dt?Dt.valueOf:void 0;var _e=r(4552),ve=Object.prototype.hasOwnProperty;var me=r(2211),Ft=r(9977),ge=r(7717),se=r(7227),Ze="[object Arguments]",Ct="[object Array]",fe="[object Object]",nt=Object.prototype.hasOwnProperty;const x=function E(b,M,X,q,gt,rt){var lt=(0,Ft.Z)(b),D=(0,Ft.Z)(M),F=lt?Ct:(0,me.Z)(b),j=D?Ct:(0,me.Z)(M),H=(F=F==Ze?fe:F)==fe,st=(j=j==Ze?fe:j)==fe,w=F==j;if(w&&(0,ge.Z)(b)){if(!(0,ge.Z)(M))return!1;lt=!0,H=!1}if(w&&!H)return rt||(rt=new s.Z),lt||(0,se.Z)(b)?A(b,M,X,q,gt,rt):function Wt(b,M,X,q,gt,rt,lt){switch(X){case"[object DataView]":if(b.byteLength!=M.byteLength||b.byteOffset!=M.byteOffset)return!1;b=b.buffer,M=M.buffer;case"[object ArrayBuffer]":return!(b.byteLength!=M.byteLength||!rt(new U.Z(b),new U.Z(M)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,I.Z)(+b,+M);case"[object Error]":return b.name==M.name&&b.message==M.message;case"[object RegExp]":case"[object String]":return b==M+"";case"[object Map]":var D=S;case"[object Set]":if(D||(D=Y.Z),b.size!=M.size&&!(1&q))return!1;var j=lt.get(b);if(j)return j==M;q|=2,lt.set(b,M);var H=A(D(b),D(M),q,gt,rt,lt);return lt.delete(b),H;case"[object Symbol]":if(Ht)return Ht.call(b)==Ht.call(M)}return!1}(b,M,F,X,q,gt,rt);if(!(1&X)){var Ut=H&&nt.call(b,"__wrapped__"),W=st&&nt.call(M,"__wrapped__");if(Ut||W){var Nt=Ut?b.value():b,Xt=W?M.value():M;return rt||(rt=new s.Z),gt(Nt,Xt,X,q,rt)}}return!!w&&(rt||(rt=new s.Z),function ye(b,M,X,q,gt,rt){var lt=1&X,D=(0,_e.Z)(b),F=D.length;if(F!=(0,_e.Z)(M).length&&!lt)return!1;for(var st=F;st--;){var w=D[st];if(!(lt?w in M:ve.call(M,w)))return!1}var Ut=rt.get(b),W=rt.get(M);if(Ut&&W)return Ut==M&&W==b;var Nt=!0;rt.set(b,M),rt.set(M,b);for(var Xt=lt;++st<F;){var ue=b[w=D[st]],ae=M[w];if(q)var Ce=lt?q(ae,ue,w,M,b,rt):q(ue,ae,w,b,M,rt);if(!(void 0===Ce?ue===ae||gt(ue,ae,X,q,rt):Ce)){Nt=!1;break}Xt||(Xt="constructor"==w)}if(Nt&&!Xt){var Pt=b.constructor,Gt=M.constructor;Pt!=Gt&&"constructor"in b&&"constructor"in M&&!("function"==typeof Pt&&Pt instanceof Pt&&"function"==typeof Gt&&Gt instanceof Gt)&&(Nt=!1)}return rt.delete(b),rt.delete(M),Nt}(b,M,X,q,gt,rt))};var G=r(1196);const ot=function z(b,M,X,q,gt){return b===M||(null==b||null==M||!(0,G.Z)(b)&&!(0,G.Z)(M)?b!=b&&M!=M:x(b,M,X,q,z,gt))};var te=r(5829);const he=function Vt(b){return b==b&&!(0,te.Z)(b)};var Se=r(4181);const f=function oe(b,M){return function(X){return null!=X&&X[b]===M&&(void 0!==M||b in Object(X))}},T=function R(b){var M=function we(b){for(var M=(0,Se.Z)(b),X=M.length;X--;){var q=M[X],gt=b[q];M[X]=[q,gt,he(gt)]}return M}(b);return 1==M.length&&M[0][2]?f(M[0][0],M[0][1]):function(X){return X===b||function wt(b,M,X,q){var gt=X.length,rt=gt,lt=!q;if(null==b)return!rt;for(b=Object(b);gt--;){var D=X[gt];if(lt&&D[2]?D[1]!==b[D[0]]:!(D[0]in b))return!1}for(;++gt<rt;){var F=(D=X[gt])[0],j=b[F],H=D[1];if(lt&&D[2]){if(void 0===j&&!(F in b))return!1}else{var st=new s.Z;if(q)var w=q(j,H,F,b,M,st);if(!(void 0===w?ot(H,j,3,q,st):w))return!1}}return!0}(X,b,M)}};var k=r(4818);var tt=r(5094),$=r(6331),V=r(7801);const Mt=function Tt(b,M){return(0,$.Z)(b)&&he(M)?f((0,V.Z)(b),M):function(X){var q=function J(b,M,X){var q=null==b?void 0:(0,k.Z)(b,M);return void 0===q?X:q}(X,b);return void 0===q&&q===M?(0,tt.Z)(X,b):ot(M,q,3)}};var ut=r(1974),At=r(7740);const re=function de(b){return(0,$.Z)(b)?(0,At.Z)((0,V.Z)(b)):function ee(b){return function(M){return(0,k.Z)(M,b)}}(b)},xt=function It(b){return"function"==typeof b?b:null==b?ut.Z:"object"==typeof b?(0,Ft.Z)(b)?Mt(b[0],b[1]):T(b):re(b)}},2436:(K,Z,r)=>{r.d(Z,{Z:()=>p});var s=r(3789),y=r(6247);const p=function c(h,v){var g=-1,O=(0,y.Z)(h)?Array(h.length):[];return(0,s.Z)(h,function(A,C,U){O[++g]=v(A,C,U)}),O}},7740:(K,Z,r)=>{r.d(Z,{Z:()=>y});const y=function s(c){return function(p){return p?.[c]}}},2447:(K,Z,r)=>{r.d(Z,{Z:()=>h});var s=r(1974),y=r(9007),c=r(7304);const h=function p(v,g){return(0,c.Z)((0,y.Z)(v,g,s.Z),v+"")}},6614:(K,Z,r)=>{r.d(Z,{Z:()=>y});const y=function s(c,p){return c.has(p)}},8606:(K,Z,r)=>{r.d(Z,{Z:()=>c});var s=r(1974);const c=function y(p){return"function"==typeof p?p:s.Z}},5078:(K,Z,r)=>{r.d(Z,{Z:()=>L});var s=r(9977),y=r(6331),c=r(4961),g=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,O=/\\(\\)?/g;const C=function h(S){var Y=(0,c.Z)(S,function(it){return 500===dt.size&&dt.clear(),it}),dt=Y.cache;return Y}(function(S){var Y=[];return 46===S.charCodeAt(0)&&Y.push(""),S.replace(g,function(dt,it,Zt,bt){Y.push(Zt?bt.replace(O,"$1"):it||dt)}),Y});var U=r(4471);const L=function I(S,Y){return(0,s.Z)(S)?S:(0,y.Z)(S,Y)?[S]:C((0,U.Z)(S))}},3776:(K,Z,r)=>{r.d(Z,{Z:()=>c});var s=r(8475);const c=function y(p){var h=new p.constructor(p.byteLength);return new s.Z(h).set(new s.Z(p)),h}},4203:(K,Z,r)=>{r.d(Z,{Z:()=>O});var s=r(4131),y="object"==typeof exports&&exports&&!exports.nodeType&&exports,c=y&&"object"==typeof module&&module&&!module.nodeType&&module,h=c&&c.exports===y?s.Z.Buffer:void 0,v=h?h.allocUnsafe:void 0;const O=function g(A,C){if(C)return A.slice();var U=A.length,I=v?v(U):new A.constructor(U);return A.copy(I),I}},3734:(K,Z,r)=>{r.d(Z,{Z:()=>c});var s=r(3776);const c=function y(p,h){var v=h?(0,s.Z)(p.buffer):p.buffer;return new p.constructor(v,p.byteOffset,p.length)}},2307:(K,Z,r)=>{r.d(Z,{Z:()=>y});const y=function s(c,p){var h=-1,v=c.length;for(p||(p=Array(v));++h<v;)p[h]=c[h];return p}},6299:(K,Z,r)=>{r.d(Z,{Z:()=>p});var s=r(4416),y=r(6041);const p=function c(h,v,g,O){var A=!g;g||(g={});for(var C=-1,U=v.length;++C<U;){var I=v[C],L=O?O(g[I],h[I],I,g,h):void 0;void 0===L&&(L=h[I]),A?(0,y.Z)(g,I,L):(0,s.Z)(g,I,L)}return g}},5753:(K,Z,r)=>{r.d(Z,{Z:()=>c});var s=r(2656);const c=function(){try{var p=(0,s.Z)(Object,"defineProperty");return p({},"",{}),p}catch{}}()},4552:(K,Z,r)=>{r.d(Z,{Z:()=>h});var s=r(6982),y=r(9695),c=r(4181);const h=function p(v){return(0,s.Z)(v,c.Z,y.Z)}},5234:(K,Z,r)=>{r.d(Z,{Z:()=>c});const c=(0,r(2667).Z)(Object.getPrototypeOf,Object)},9695:(K,Z,r)=>{r.d(Z,{Z:()=>g});var s=r(207),y=r(3534),p=Object.prototype.propertyIsEnumerable,h=Object.getOwnPropertySymbols;const g=h?function(O){return null==O?[]:(O=Object(O),(0,s.Z)(h(O),function(A){return p.call(O,A)}))}:y.Z},857:(K,Z,r)=>{r.d(Z,{Z:()=>O});var s=r(5078),y=r(5727),c=r(9977),p=r(1885),h=r(4018),v=r(7801);const O=function g(A,C,U){for(var I=-1,L=(C=(0,s.Z)(C,A)).length,S=!1;++I<L;){var Y=(0,v.Z)(C[I]);if(!(S=null!=A&&U(A,Y)))break;A=A[Y]}return S||++I!=L?S:!!(L=null==A?0:A.length)&&(0,h.Z)(L)&&(0,p.Z)(Y,L)&&((0,c.Z)(A)||(0,y.Z)(A))}},7324:(K,Z,r)=>{r.d(Z,{Z:()=>O});var s=r(5829),y=Object.create;const p=function(){function A(){}return function(C){if(!(0,s.Z)(C))return{};if(y)return y(C);A.prototype=C;var U=new A;return A.prototype=void 0,U}}();var h=r(5234),v=r(801);const O=function g(A){return"function"!=typeof A.constructor||(0,v.Z)(A)?{}:p((0,h.Z)(A))}},1885:(K,Z,r)=>{r.d(Z,{Z:()=>p});var y=/^(?:0|[1-9]\d*)$/;const p=function c(h,v){var g=typeof h;return!!(v=v??9007199254740991)&&("number"==g||"symbol"!=g&&y.test(h))&&h>-1&&h%1==0&&h<v}},1799:(K,Z,r)=>{r.d(Z,{Z:()=>v});var s=r(8418),y=r(6247),c=r(1885),p=r(5829);const v=function h(g,O,A){if(!(0,p.Z)(A))return!1;var C=typeof O;return!!("number"==C?(0,y.Z)(A)&&(0,c.Z)(O,A.length):"string"==C&&O in A)&&(0,s.Z)(A[O],g)}},6331:(K,Z,r)=>{r.d(Z,{Z:()=>v});var s=r(9977),y=r(7106),c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/;const v=function h(g,O){if((0,s.Z)(g))return!1;var A=typeof g;return!("number"!=A&&"symbol"!=A&&"boolean"!=A&&null!=g&&!(0,y.Z)(g))||p.test(g)||!c.test(g)||null!=O&&g in Object(O)}},9007:(K,Z,r)=>{r.d(Z,{Z:()=>h});var c=Math.max;const h=function p(v,g,O){return g=c(void 0===g?v.length-1:g,0),function(){for(var A=arguments,C=-1,U=c(A.length-g,0),I=Array(U);++C<U;)I[C]=A[g+C];C=-1;for(var L=Array(g+1);++C<g;)L[C]=A[C];return L[g]=O(I),function s(v,g,O){switch(O.length){case 0:return v.call(g);case 1:return v.call(g,O[0]);case 2:return v.call(g,O[0],O[1]);case 3:return v.call(g,O[0],O[1],O[2])}return v.apply(g,O)}(v,this,L)}}},7799:(K,Z,r)=>{r.d(Z,{Z:()=>y});const y=function s(c){var p=-1,h=Array(c.size);return c.forEach(function(v){h[++p]=v}),h}},7304:(K,Z,r)=>{r.d(Z,{Z:()=>I});var s=r(2935),y=r(5753),c=r(1974),O=Date.now;const I=function A(L){var S=0,Y=0;return function(){var dt=O(),it=16-(dt-Y);if(Y=dt,it>0){if(++S>=800)return arguments[0]}else S=0;return L.apply(void 0,arguments)}}(y.Z?function(L,S){return(0,y.Z)(L,"toString",{configurable:!0,enumerable:!1,value:(0,s.Z)(S),writable:!0})}:c.Z)},7801:(K,Z,r)=>{r.d(Z,{Z:()=>p});var s=r(7106);const p=function c(h){if("string"==typeof h||(0,s.Z)(h))return h;var v=h+"";return"0"==v&&1/h==-1/0?"-0":v}},2935:(K,Z,r)=>{r.d(Z,{Z:()=>y});const y=function s(c){return function(){return c}}},8123:(K,Z,r)=>{r.d(Z,{Z:()=>O});var s=r(2447),y=r(8418),c=r(1799),p=r(516),h=Object.prototype,v=h.hasOwnProperty;const O=(0,s.Z)(function(A,C){A=Object(A);var U=-1,I=C.length,L=I>2?C[2]:void 0;for(L&&(0,c.Z)(C[0],C[1],L)&&(I=1);++U<I;)for(var S=C[U],Y=(0,p.Z)(S),dt=-1,it=Y.length;++dt<it;){var Zt=Y[dt],bt=A[Zt];(void 0===bt||(0,y.Z)(bt,h[Zt])&&!v.call(A,Zt))&&(A[Zt]=S[Zt])}return A})},6232:(K,Z,r)=>{r.d(Z,{Z:()=>O});var s=r(207),y=r(3789);const p=function c(A,C){var U=[];return(0,y.Z)(A,function(I,L,S){C(I,L,S)&&U.push(I)}),U};var h=r(2349),v=r(9977);const O=function g(A,C){return((0,v.Z)(A)?s.Z:p)(A,(0,h.Z)(C,3))}},7506:(K,Z,r)=>{r.d(Z,{Z:()=>c});var s=r(4583);const c=function y(p){return null!=p&&p.length?(0,s.Z)(p,1):[]}},9547:(K,Z,r)=>{r.d(Z,{Z:()=>v});var s=r(4899),y=r(3789),c=r(8606),p=r(9977);const v=function h(g,O){return((0,p.Z)(g)?s.Z:y.Z)(g,(0,c.Z)(O))}},8627:(K,Z,r)=>{r.d(Z,{Z:()=>g});var y=Object.prototype.hasOwnProperty;const p=function c(O,A){return null!=O&&y.call(O,A)};var h=r(857);const g=function v(O,A){return null!=O&&(0,h.Z)(O,A,p)}},5094:(K,Z,r)=>{r.d(Z,{Z:()=>h});const y=function s(v,g){return null!=v&&g in Object(v)};var c=r(857);const h=function p(v,g){return null!=v&&(0,c.Z)(v,g,y)}},1974:(K,Z,r)=>{r.d(Z,{Z:()=>y});const y=function s(c){return c}},9568:(K,Z,r)=>{r.d(Z,{Z:()=>p});var s=r(6247),y=r(1196);const p=function c(h){return(0,y.Z)(h)&&(0,s.Z)(h)}},5511:(K,Z,r)=>{r.d(Z,{Z:()=>U});var s=r(3844),y=r(5234),c=r(1196),g=Function.prototype.toString,O=Object.prototype.hasOwnProperty,A=g.call(Object);const U=function C(I){if(!(0,c.Z)(I)||"[object Object]"!=(0,s.Z)(I))return!1;var L=(0,y.Z)(I);if(null===L)return!0;var S=O.call(L,"constructor")&&L.constructor;return"function"==typeof S&&S instanceof S&&g.call(S)==A}},7106:(K,Z,r)=>{r.d(Z,{Z:()=>h});var s=r(3844),y=r(1196);const h=function p(v){return"symbol"==typeof v||(0,y.Z)(v)&&"[object Symbol]"==(0,s.Z)(v)}},7002:(K,Z,r)=>{r.d(Z,{Z:()=>y});const y=function s(c){return void 0===c}},4181:(K,Z,r)=>{r.d(Z,{Z:()=>h});var s=r(9416),y=r(8217),c=r(6247);const h=function p(v){return(0,c.Z)(v)?(0,s.Z)(v):(0,y.Z)(v)}},516:(K,Z,r)=>{r.d(Z,{Z:()=>I});var s=r(9416),y=r(5829),c=r(801);var g=Object.prototype.hasOwnProperty;const A=function O(L){if(!(0,y.Z)(L))return function p(L){var S=[];if(null!=L)for(var Y in Object(L))S.push(Y);return S}(L);var S=(0,c.Z)(L),Y=[];for(var dt in L)"constructor"==dt&&(S||!g.call(L,dt))||Y.push(dt);return Y};var C=r(6247);const I=function U(L){return(0,C.Z)(L)?(0,s.Z)(L,!0):A(L)}},4550:(K,Z,r)=>{r.d(Z,{Z:()=>v});var s=r(2720),y=r(2349),c=r(2436),p=r(9977);const v=function h(g,O){return((0,p.Z)(g)?s.Z:c.Z)(g,(0,y.Z)(O,3))}},7050:(K,Z,r)=>{r.d(Z,{Z:()=>Q});var s=r(4818),y=r(4416),c=r(5078),p=r(1885),h=r(5829),v=r(7801);const O=function g(et,Rt,ie,kt){if(!(0,h.Z)(et))return et;for(var Kt=-1,Jt=(Rt=(0,c.Z)(Rt,et)).length,$t=Jt-1,Lt=et;null!=Lt&&++Kt<Jt;){var Dt=(0,v.Z)(Rt[Kt]),Ht=ie;if("__proto__"===Dt||"constructor"===Dt||"prototype"===Dt)return et;if(Kt!=$t){var Wt=Lt[Dt];void 0===(Ht=kt?kt(Wt,Dt,Lt):void 0)&&(Ht=(0,h.Z)(Wt)?Wt:(0,p.Z)(Rt[Kt+1])?[]:{})}(0,y.Z)(Lt,Dt,Ht),Lt=Lt[Dt]}return et};var U=r(5094);const L=function I(et,Rt){return function A(et,Rt,ie){for(var kt=-1,Kt=Rt.length,Jt={};++kt<Kt;){var $t=Rt[kt],Lt=(0,s.Z)(et,$t);ie(Lt,$t)&&O(Jt,(0,c.Z)($t,et),Lt)}return Jt}(et,Rt,function(ie,kt){return(0,U.Z)(et,kt)})};var S=r(7506),Y=r(9007),dt=r(7304);const Q=function it(et){return(0,dt.Z)((0,Y.Z)(et,void 0,S.Z),et+"")}(function(et,Rt){return null==et?{}:L(et,Rt)})},9768:(K,Z,r)=>{r.d(Z,{Z:()=>C});var s=Math.ceil,y=Math.max;var h=r(1799),v=r(231);const C=function g(U){return function(I,L,S){return S&&"number"!=typeof S&&(0,h.Z)(I,L,S)&&(L=S=void 0),I=(0,v.Z)(I),void 0===L?(L=I,I=0):L=(0,v.Z)(L),function c(U,I,L,S){for(var Y=-1,dt=y(s((I-U)/(L||1)),0),it=Array(dt);dt--;)it[S?dt:++Y]=U,U+=L;return it}(I,L,S=void 0===S?I<L?1:-1:(0,v.Z)(S),U)}}()},2621:(K,Z,r)=>{r.d(Z,{Z:()=>A});const y=function s(C,U,I,L){var S=-1,Y=null==C?0:C.length;for(L&&Y&&(I=C[++S]);++S<Y;)I=U(I,C[S],S,C);return I};var c=r(3789),p=r(2349);const v=function h(C,U,I,L,S){return S(C,function(Y,dt,it){I=L?(L=!1,Y):U(I,Y,dt,it)}),I};var g=r(9977);const A=function O(C,U,I){var L=(0,g.Z)(C)?y:v,S=arguments.length<3;return L(C,(0,p.Z)(U,4),I,S,c.Z)}},3534:(K,Z,r)=>{r.d(Z,{Z:()=>y});const y=function s(){return[]}},231:(K,Z,r)=>{r.d(Z,{Z:()=>bt});var s=/\s/;var p=/^\s+/;const v=function h(Q){return Q&&Q.slice(0,function y(Q){for(var et=Q.length;et--&&s.test(Q.charAt(et)););return et}(Q)+1).replace(p,"")};var g=r(5829),O=r(7106),C=/^[-+]0x[0-9a-f]+$/i,U=/^0b[01]+$/i,I=/^0o[0-7]+$/i,L=parseInt;const bt=function Zt(Q){return Q?1/0===(Q=function S(Q){if("number"==typeof Q)return Q;if((0,O.Z)(Q))return NaN;if((0,g.Z)(Q)){var et="function"==typeof Q.valueOf?Q.valueOf():Q;Q=(0,g.Z)(et)?et+"":et}if("string"!=typeof Q)return 0===Q?Q:+Q;Q=v(Q);var Rt=U.test(Q);return Rt||I.test(Q)?L(Q.slice(2),Rt?2:8):C.test(Q)?NaN:+Q}(Q))||-1/0===Q?17976931348623157e292*(Q<0?-1:1):Q==Q?Q:0:0===Q?Q:0}},4471:(K,Z,r)=>{r.d(Z,{Z:()=>U});var s=r(6875),y=r(2720),c=r(9977),p=r(7106),v=s.Z?s.Z.prototype:void 0,g=v?v.toString:void 0;const A=function O(I){if("string"==typeof I)return I;if((0,c.Z)(I))return(0,y.Z)(I,O)+"";if((0,p.Z)(I))return g?g.call(I):"";var L=I+"";return"0"==L&&1/I==-1/0?"-0":L},U=function C(I){return null==I?"":A(I)}},902:(K,Z,r)=>{r.d(Z,{Z:()=>p});var s=r(4471),y=0;const p=function c(h){var v=++y;return(0,s.Z)(h)+v}},7402:(K,Z,r)=>{r.d(Z,{Z:()=>v});var s=r(2720);var p=r(4181);const v=function h(g){return null==g?[]:function y(g,O){return(0,s.Z)(O,function(A){return g[A]})}(g,(0,p.Z)(g))}},4e3:(K,Z,r)=>{r.r(Z),r.d(Z,{diagram:()=>oe});var s=r(1599),y=r(8096),c=r(5346),p=r(7528),h=r(5761),v=r(2083);const g=[];for(let f=0;f<256;++f)g.push((f+256).toString(16).slice(1));const U=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Y=function S(f){if(!function I(f){return"string"==typeof f&&U.test(f)}(f))throw TypeError("Invalid UUID");let R;const T=new Uint8Array(16);return T[0]=(R=parseInt(f.slice(0,8),16))>>>24,T[1]=R>>>16&255,T[2]=R>>>8&255,T[3]=255&R,T[4]=(R=parseInt(f.slice(9,13),16))>>>8,T[5]=255&R,T[6]=(R=parseInt(f.slice(14,18),16))>>>8,T[7]=255&R,T[8]=(R=parseInt(f.slice(19,23),16))>>>8,T[9]=255&R,T[10]=(R=parseInt(f.slice(24,36),16))/1099511627776&255,T[11]=R/4294967296&255,T[12]=R>>>24&255,T[13]=R>>>16&255,T[14]=R>>>8&255,T[15]=255&R,T};function Q(f,R,T,k){switch(f){case 0:return R&T^~R&k;case 1:case 3:return R^T^k;case 2:return R&T^R&k^T&k}}function et(f,R){return f<<R|f>>>32-R}const Kt=function bt(f,R,T){function k(J,vt,tt,$){var V;if("string"==typeof J&&(J=function dt(f){f=unescape(encodeURIComponent(f));const R=[];for(let T=0;T<f.length;++T)R.push(f.charCodeAt(T));return R}(J)),"string"==typeof vt&&(vt=Y(vt)),16!==(null===(V=vt)||void 0===V?void 0:V.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let pt=new Uint8Array(16+J.length);if(pt.set(vt),pt.set(J,vt.length),pt=T(pt),pt[6]=15&pt[6]|R,pt[8]=63&pt[8]|128,tt){$=$||0;for(let yt=0;yt<16;++yt)tt[$+yt]=pt[yt];return tt}return function O(f,R=0){return(g[f[R+0]]+g[f[R+1]]+g[f[R+2]]+g[f[R+3]]+"-"+g[f[R+4]]+g[f[R+5]]+"-"+g[f[R+6]]+g[f[R+7]]+"-"+g[f[R+8]]+g[f[R+9]]+"-"+g[f[R+10]]+g[f[R+11]]+g[f[R+12]]+g[f[R+13]]+g[f[R+14]]+g[f[R+15]]).toLowerCase()}(pt)}try{k.name=f}catch{}return k.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",k.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",k}("v5",80,function Rt(f){const R=[1518500249,1859775393,2400959708,3395469782],T=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof f){const tt=unescape(encodeURIComponent(f));f=[];for(let $=0;$<tt.length;++$)f.push(tt.charCodeAt($))}else Array.isArray(f)||(f=Array.prototype.slice.call(f));f.push(128);const J=Math.ceil((f.length/4+2)/16),vt=new Array(J);for(let tt=0;tt<J;++tt){const $=new Uint32Array(16);for(let V=0;V<16;++V)$[V]=f[64*tt+4*V]<<24|f[64*tt+4*V+1]<<16|f[64*tt+4*V+2]<<8|f[64*tt+4*V+3];vt[tt]=$}vt[J-1][14]=8*(f.length-1)/Math.pow(2,32),vt[J-1][14]=Math.floor(vt[J-1][14]),vt[J-1][15]=8*(f.length-1)&4294967295;for(let tt=0;tt<J;++tt){const $=new Uint32Array(80);for(let ut=0;ut<16;++ut)$[ut]=vt[tt][ut];for(let ut=16;ut<80;++ut)$[ut]=et($[ut-3]^$[ut-8]^$[ut-14]^$[ut-16],1);let V=T[0],pt=T[1],yt=T[2],Tt=T[3],Mt=T[4];for(let ut=0;ut<80;++ut){const At=Math.floor(ut/20),ee=et(V,5)+Q(At,pt,yt,Tt)+Mt+R[At]+$[ut]>>>0;Mt=Tt,Tt=yt,yt=et(pt,30)>>>0,pt=V,V=ee}T[0]=T[0]+V>>>0,T[1]=T[1]+pt>>>0,T[2]=T[2]+yt>>>0,T[3]=T[3]+Tt>>>0,T[4]=T[4]+Mt>>>0}return[T[0]>>24&255,T[0]>>16&255,T[0]>>8&255,255&T[0],T[1]>>24&255,T[1]>>16&255,T[1]>>8&255,255&T[1],T[2]>>24&255,T[2]>>16&255,T[2]>>8&255,255&T[2],T[3]>>24&255,T[3]>>16&255,T[3]>>8&255,255&T[3],T[4]>>24&255,T[4]>>16&255,T[4]>>8&255,255&T[4]]});r(896),r(3304),r(398);var Dt=function(){var f=function(lt,D,F,j){for(F=F||{},j=lt.length;j--;F[lt[j]]=D);return F},R=[1,2],T=[1,5],k=[6,9,11,23,25,27,29,30,31,51],J=[1,17],vt=[1,18],tt=[1,19],$=[1,20],V=[1,21],pt=[1,22],yt=[1,25],Tt=[1,30],Mt=[1,31],ut=[1,32],At=[1,33],ee=[6,9,11,15,20,23,25,27,29,30,31,44,45,46,47,51],ne=[1,45],de=[30,31,48,49],re=[4,6,9,11,23,25,27,29,30,31,51],It=[44,45,46,47],xt=[22,37],b=[1,65],M=[1,64],X=[22,37,39,41],q={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyTypeList:35,attributeComment:36,ATTRIBUTE_WORD:37,attributeKeyType:38,COMMA:39,ATTRIBUTE_KEY:40,COMMENT:41,cardinality:42,relType:43,ZERO_OR_ONE:44,ZERO_OR_MORE:45,ONE_OR_MORE:46,ONLY_ONE:47,NON_IDENTIFYING:48,IDENTIFYING:49,WORD:50,open_directive:51,type_directive:52,arg_directive:53,close_directive:54,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",39:"COMMA",40:"ATTRIBUTE_KEY",41:"COMMENT",44:"ZERO_OR_ONE",45:"ZERO_OR_MORE",46:"ONE_OR_MORE",47:"ONLY_ONE",48:"NON_IDENTIFYING",49:"IDENTIFYING",50:"WORD",51:"open_directive",52:"type_directive",53:"arg_directive",54:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[35,3],[38,1],[36,1],[18,3],[42,1],[42,1],[42,1],[42,1],[43,1],[43,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(D,F,j,H,st,w,Ut){var W=w.length-1;switch(st){case 1:break;case 3:case 7:case 8:this.$=[];break;case 4:w[W-1].push(w[W]),this.$=w[W-1];break;case 5:case 6:case 20:case 43:case 28:case 29:case 32:this.$=w[W];break;case 12:H.addEntity(w[W-4]),H.addEntity(w[W-2]),H.addRelationship(w[W-4],w[W],w[W-2],w[W-3]);break;case 13:H.addEntity(w[W-3]),H.addAttributes(w[W-3],w[W-1]);break;case 14:H.addEntity(w[W-2]);break;case 15:H.addEntity(w[W]);break;case 16:case 17:this.$=w[W].trim(),H.setAccTitle(this.$);break;case 18:case 19:this.$=w[W].trim(),H.setAccDescription(this.$);break;case 21:case 41:case 42:case 33:this.$=w[W].replace(/"/g,"");break;case 22:case 30:this.$=[w[W]];break;case 23:w[W].push(w[W-1]),this.$=w[W];break;case 24:this.$={attributeType:w[W-1],attributeName:w[W]};break;case 25:this.$={attributeType:w[W-2],attributeName:w[W-1],attributeKeyTypeList:w[W]};break;case 26:this.$={attributeType:w[W-2],attributeName:w[W-1],attributeComment:w[W]};break;case 27:this.$={attributeType:w[W-3],attributeName:w[W-2],attributeKeyTypeList:w[W-1],attributeComment:w[W]};break;case 31:w[W-2].push(w[W]),this.$=w[W-2];break;case 34:this.$={cardA:w[W],relType:w[W-1],cardB:w[W-2]};break;case 35:this.$=H.Cardinality.ZERO_OR_ONE;break;case 36:this.$=H.Cardinality.ZERO_OR_MORE;break;case 37:this.$=H.Cardinality.ONE_OR_MORE;break;case 38:this.$=H.Cardinality.ONLY_ONE;break;case 39:this.$=H.Identification.NON_IDENTIFYING;break;case 40:this.$=H.Identification.IDENTIFYING;break;case 44:H.parseDirective("%%{","open_directive");break;case 45:H.parseDirective(w[W],"type_directive");break;case 46:w[W]=w[W].trim().replace(/'/g,'"'),H.parseDirective(w[W],"arg_directive");break;case 47:H.parseDirective("}%%","close_directive","er")}},table:[{3:1,4:R,7:3,12:4,51:T},{1:[3]},f(k,[2,3],{5:6}),{3:7,4:R,7:3,12:4,51:T},{13:8,52:[1,9]},{52:[2,44]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:J,25:vt,27:tt,29:$,30:V,31:pt,51:T},{1:[2,2]},{14:23,15:[1,24],54:yt},f([15,54],[2,45]),f(k,[2,8],{1:[2,1]}),f(k,[2,4]),{7:15,10:26,12:4,17:16,23:J,25:vt,27:tt,29:$,30:V,31:pt,51:T},f(k,[2,6]),f(k,[2,7]),f(k,[2,11]),f(k,[2,15],{18:27,42:29,20:[1,28],44:Tt,45:Mt,46:ut,47:At}),{24:[1,34]},{26:[1,35]},{28:[1,36]},f(k,[2,19]),f(ee,[2,20]),f(ee,[2,21]),{11:[1,37]},{16:38,53:[1,39]},{11:[2,47]},f(k,[2,5]),{17:40,30:V,31:pt},{21:41,22:[1,42],32:43,33:44,37:ne},{43:46,48:[1,47],49:[1,48]},f(de,[2,35]),f(de,[2,36]),f(de,[2,37]),f(de,[2,38]),f(k,[2,16]),f(k,[2,17]),f(k,[2,18]),f(re,[2,9]),{14:49,54:yt},{54:[2,46]},{15:[1,50]},{22:[1,51]},f(k,[2,14]),{21:52,22:[2,22],32:43,33:44,37:ne},{34:53,37:[1,54]},{37:[2,28]},{42:55,44:Tt,45:Mt,46:ut,47:At},f(It,[2,39]),f(It,[2,40]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],50:[1,58]},f(k,[2,13]),{22:[2,23]},f(xt,[2,24],{35:61,36:62,38:63,40:b,41:M}),f([22,37,40,41],[2,29]),f([30,31],[2,34]),f(re,[2,10]),f(k,[2,12]),f(k,[2,41]),f(k,[2,42]),f(k,[2,43]),f(xt,[2,25],{36:66,39:[1,67],41:M}),f(xt,[2,26]),f(X,[2,30]),f(xt,[2,33]),f(X,[2,32]),f(xt,[2,27]),{38:68,40:b},f(X,[2,31])],defaultActions:{5:[2,44],7:[2,2],25:[2,47],39:[2,46],45:[2,28],52:[2,23]},parseError:function(D,F){if(!F.recoverable){var j=new Error(D);throw j.hash=F,j}this.trace(D)},parse:function(D){var j=[0],H=[],st=[null],w=[],Ut=this.table,W="",Nt=0,Xt=0,Ce=w.slice.call(arguments,1),Pt=Object.create(this.lexer),Gt={yy:{}};for(var Re in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Re)&&(Gt.yy[Re]=this.yy[Re]);Pt.setInput(D,Gt.yy),Gt.yy.lexer=Pt,Gt.yy.parser=this,typeof Pt.yylloc>"u"&&(Pt.yylloc={});var Ee=Pt.yylloc;w.push(Ee);var Bt,Fe=Pt.options&&Pt.options.ranges;this.parseError="function"==typeof Gt.yy.parseError?Gt.yy.parseError:Object.getPrototypeOf(this).parseError;for(var Yt,pe,ft,be,N,ht,ce,Oe={};;){if(this.defaultActions[pe=j[j.length-1]]?ft=this.defaultActions[pe]:((null===Yt||typeof Yt>"u")&&(Bt=void 0,"number"!=typeof(Bt=H.pop()||Pt.lex()||1)&&(Bt instanceof Array&&(Bt=(H=Bt).pop()),Bt=this.symbols_[Bt]||Bt),Yt=Bt),ft=Ut[pe]&&Ut[pe][Yt]),typeof ft>"u"||!ft.length||!ft[0]){var Te;for(N in ce=[],Ut[pe])this.terminals_[N]&&N>2&&ce.push("'"+this.terminals_[N]+"'");Te=Pt.showPosition?"Parse error on line "+(Nt+1)+":\n"+Pt.showPosition()+"\nExpecting "+ce.join(", ")+", got '"+(this.terminals_[Yt]||Yt)+"'":"Parse error on line "+(Nt+1)+": Unexpected "+(1==Yt?"end of input":"'"+(this.terminals_[Yt]||Yt)+"'"),this.parseError(Te,{text:Pt.match,token:this.terminals_[Yt]||Yt,line:Pt.yylineno,loc:Ee,expected:ce})}if(ft[0]instanceof Array&&ft.length>1)throw new Error("Parse Error: multiple actions possible at state: "+pe+", token: "+Yt);switch(ft[0]){case 1:j.push(Yt),st.push(Pt.yytext),w.push(Pt.yylloc),j.push(ft[1]),Yt=null,Xt=Pt.yyleng,W=Pt.yytext,Nt=Pt.yylineno,Ee=Pt.yylloc;break;case 2:if(Oe.$=st[st.length-(ht=this.productions_[ft[1]][1])],Oe._$={first_line:w[w.length-(ht||1)].first_line,last_line:w[w.length-1].last_line,first_column:w[w.length-(ht||1)].first_column,last_column:w[w.length-1].last_column},Fe&&(Oe._$.range=[w[w.length-(ht||1)].range[0],w[w.length-1].range[1]]),typeof(be=this.performAction.apply(Oe,[W,Xt,Nt,Gt.yy,ft[1],st,w].concat(Ce)))<"u")return be;ht&&(j=j.slice(0,-1*ht*2),st=st.slice(0,-1*ht),w=w.slice(0,-1*ht)),j.push(this.productions_[ft[1]][0]),st.push(Oe.$),w.push(Oe._$),j.push(Ut[j[j.length-2]][j[j.length-1]]);break;case 3:return!0}}return!0}};function rt(){this.yy={}}return q.lexer={EOF:1,parseError:function(F,j){if(!this.yy.parser)throw new Error(F);this.yy.parser.parseError(F,j)},setInput:function(D,F){return this.yy=F||this.yy||{},this._input=D,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var D=this._input[0];return this.yytext+=D,this.yyleng++,this.offset++,this.match+=D,this.matched+=D,D.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),D},unput:function(D){var F=D.length,j=D.split(/(?:\r\n?|\n)/g);this._input=D+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-F),this.offset-=F;var H=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),j.length-1&&(this.yylineno-=j.length-1);var st=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:j?(j.length===H.length?this.yylloc.first_column:0)+H[H.length-j.length].length-j[0].length:this.yylloc.first_column-F},this.options.ranges&&(this.yylloc.range=[st[0],st[0]+this.yyleng-F]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(D){this.unput(this.match.slice(D))},pastInput:function(){var D=this.matched.substr(0,this.matched.length-this.match.length);return(D.length>20?"...":"")+D.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var D=this.match;return D.length<20&&(D+=this._input.substr(0,20-D.length)),(D.substr(0,20)+(D.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var D=this.pastInput(),F=new Array(D.length+1).join("-");return D+this.upcomingInput()+"\n"+F+"^"},test_match:function(D,F){var j,H,st;if(this.options.backtrack_lexer&&(st={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(st.yylloc.range=this.yylloc.range.slice(0))),(H=D[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=H.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:H?H[H.length-1].length-H[H.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+D[0].length},this.yytext+=D[0],this.match+=D[0],this.matches=D,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(D[0].length),this.matched+=D[0],j=this.performAction.call(this,this.yy,this,F,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),j)return j;if(this._backtrack){for(var w in st)this[w]=st[w];return!1}return!1},next:function(){if(this.done)return this.EOF;var D,F,j,H;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var st=this._currentRules(),w=0;w<st.length;w++)if((j=this._input.match(this.rules[st[w]]))&&(!F||j[0].length>F[0].length)){if(F=j,H=w,this.options.backtrack_lexer){if(!1!==(D=this.test_match(j,st[w])))return D;if(this._backtrack){F=!1;continue}return!1}if(!this.options.flex)break}return F?!1!==(D=this.test_match(F,st[H]))&&D:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(F){this.conditionStack.push(F)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(F){return(F=this.conditionStack.length-1-Math.abs(F||0))>=0?this.conditionStack[F]:"INITIAL"},pushState:function(F){this.begin(F)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(F,j,H,st){switch(H){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),51;case 8:return this.begin("type_directive"),52;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),54;case 11:return 53;case 12:return 11;case 13:case 20:case 25:break;case 14:return 9;case 15:return 31;case 16:return 50;case 17:return 4;case 18:return this.begin("block"),20;case 19:return 39;case 21:return 40;case 22:case 23:return 37;case 24:return 41;case 26:return this.popState(),22;case 27:case 56:return j.yytext[0];case 28:case 32:case 33:case 46:return 44;case 29:case 30:case 31:case 39:case 41:case 48:return 46;case 34:case 35:case 36:case 37:case 38:case 40:case 47:return 45;case 42:case 43:case 44:case 45:return 47;case 49:case 52:case 53:case 54:return 48;case 50:case 51:return 49;case 55:return 30;case 57:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[19,20,21,22,23,24,25,26,27],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57],inclusive:!0}}},rt.prototype=q,q.Parser=rt,new rt}();Dt.parser=Dt;const Ht=Dt;let Wt={},qt=[];const ve=function(f){return void 0===Wt[f]&&(Wt[f]={attributes:[]},s.l.info("Added new entity :",f)),Wt[f]},se={Cardinality:{ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Identification:{NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},parseDirective:function(f,R,T){y.m.parseDirective(this,f,R,T)},getConfig:()=>(0,s.g)().er,addEntity:ve,addAttributes:function(f,R){let k,T=ve(f);for(k=R.length-1;k>=0;k--)T.attributes.push(R[k]),s.l.debug("Added attribute ",R[k].attributeName)},getEntities:()=>Wt,addRelationship:function(f,R,T,k){let J={entityA:f,roleA:R,entityB:T,relSpec:k};qt.push(J),s.l.debug("Added new relationship :",J)},getRelationships:()=>qt,clear:function(){Wt={},qt=[],(0,s.y)()},setAccTitle:s.o,getAccTitle:s.p,setAccDescription:s.v,getAccDescription:s.q,setDiagramTitle:s.w,getDiagramTitle:s.x},jt={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},Ct_ERMarkers=jt,fe=/[^\dA-Za-z](\W)*/g;let Ot={},nt=new Map;const ot=function(f){return(f.entityA+f.roleA+f.entityB).replace(/\s/g,"")};let Et=0;const te="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";function he(f=""){return f.length>0?`${f}-`:""}const oe={parser:Ht,db:se,renderer:{setConf:function(f){const R=Object.keys(f);for(const T of R)Ot[T]=f[T]},draw:function(f,R,T,k){Ot=(0,s.g)().er,s.l.info("Drawing ER diagram");const J=(0,s.g)().securityLevel;let vt;"sandbox"===J&&(vt=(0,p.Ys)("#i"+R));const $=(0,p.Ys)("sandbox"===J?vt.nodes()[0].contentDocument.body:"body").select(`[id='${R}']`);let V;(function(f,R){let T;f.append("defs").append("marker").attr("id",jt.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",R.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),f.append("defs").append("marker").attr("id",jt.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",R.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),T=f.append("defs").append("marker").attr("id",jt.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),T.append("circle").attr("stroke",R.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),T.append("path").attr("stroke",R.stroke).attr("fill","none").attr("d","M9,0 L9,18"),T=f.append("defs").append("marker").attr("id",jt.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),T.append("circle").attr("stroke",R.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),T.append("path").attr("stroke",R.stroke).attr("fill","none").attr("d","M21,0 L21,18"),f.append("defs").append("marker").attr("id",jt.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",R.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),f.append("defs").append("marker").attr("id",jt.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",R.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),T=f.append("defs").append("marker").attr("id",jt.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),T.append("circle").attr("stroke",R.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),T.append("path").attr("stroke",R.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),T=f.append("defs").append("marker").attr("id",jt.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),T.append("circle").attr("stroke",R.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),T.append("path").attr("stroke",R.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")})($,Ot),V=new c.k({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:Ot.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const pt=function(f,R,T){let J;return Object.keys(R).forEach(function(vt){const tt=function Vt(f="",R=""){const T=f.replace(fe,"");return`${he(R)}${he(T)}${Kt(f,te)}`}(vt,"entity");nt.set(vt,tt);const $=f.append("g").attr("id",tt);J=void 0===J?tt:J;const V="text-"+tt,pt=$.append("text").classed("er entityLabel",!0).attr("id",V).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",(0,s.g)().fontFamily).style("font-size",Ot.fontSize+"px").text(vt),{width:yt,height:Tt}=((f,R,T)=>{const k=Ot.entityPadding/3,J=Ot.entityPadding/3,vt=.85*Ot.fontSize,tt=R.node().getBBox(),$=[];let V=!1,pt=!1,yt=0,Tt=0,Mt=0,ut=0,At=tt.height+2*k,ee=1;T.forEach(It=>{void 0!==It.attributeKeyTypeList&&It.attributeKeyTypeList.length>0&&(V=!0),void 0!==It.attributeComment&&(pt=!0)}),T.forEach(It=>{const xt=`${R.node().id}-attr-${ee}`;let b=0;const M=(0,s.z)(It.attributeType),X=f.append("text").classed("er entityLabel",!0).attr("id",`${xt}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",(0,s.g)().fontFamily).style("font-size",vt+"px").text(M),q=f.append("text").classed("er entityLabel",!0).attr("id",`${xt}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",(0,s.g)().fontFamily).style("font-size",vt+"px").text(It.attributeName),gt={};gt.tn=X,gt.nn=q;const rt=X.node().getBBox(),lt=q.node().getBBox();if(yt=Math.max(yt,rt.width),Tt=Math.max(Tt,lt.width),b=Math.max(rt.height,lt.height),V){const D=void 0!==It.attributeKeyTypeList?It.attributeKeyTypeList.join(","):"",F=f.append("text").classed("er entityLabel",!0).attr("id",`${xt}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",(0,s.g)().fontFamily).style("font-size",vt+"px").text(D);gt.kn=F;const j=F.node().getBBox();Mt=Math.max(Mt,j.width),b=Math.max(b,j.height)}if(pt){const D=f.append("text").classed("er entityLabel",!0).attr("id",`${xt}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",(0,s.g)().fontFamily).style("font-size",vt+"px").text(It.attributeComment||"");gt.cn=D;const F=D.node().getBBox();ut=Math.max(ut,F.width),b=Math.max(b,F.height)}gt.height=b,$.push(gt),At+=b+2*k,ee+=1});let ne=4;V&&(ne+=2),pt&&(ne+=2);const de=yt+Tt+Mt+ut,re={width:Math.max(Ot.minEntityWidth,Math.max(tt.width+2*Ot.entityPadding,de+J*ne)),height:T.length>0?At:Math.max(Ot.minEntityHeight,tt.height+2*Ot.entityPadding)};if(T.length>0){const It=Math.max(0,(re.width-de-J*ne)/(ne/2));R.attr("transform","translate("+re.width/2+","+(k+tt.height/2)+")");let xt=tt.height+2*k,b="attributeBoxOdd";$.forEach(M=>{const X=xt+k+M.height/2;M.tn.attr("transform","translate("+J+","+X+")");const q=f.insert("rect","#"+M.tn.node().id).classed(`er ${b}`,!0).attr("x",0).attr("y",xt).attr("width",yt+2*J+It).attr("height",M.height+2*k),gt=parseFloat(q.attr("x"))+parseFloat(q.attr("width"));M.nn.attr("transform","translate("+(gt+J)+","+X+")");const rt=f.insert("rect","#"+M.nn.node().id).classed(`er ${b}`,!0).attr("x",gt).attr("y",xt).attr("width",Tt+2*J+It).attr("height",M.height+2*k);let lt=parseFloat(rt.attr("x"))+parseFloat(rt.attr("width"));if(V){M.kn.attr("transform","translate("+(lt+J)+","+X+")");const D=f.insert("rect","#"+M.kn.node().id).classed(`er ${b}`,!0).attr("x",lt).attr("y",xt).attr("width",Mt+2*J+It).attr("height",M.height+2*k);lt=parseFloat(D.attr("x"))+parseFloat(D.attr("width"))}pt&&(M.cn.attr("transform","translate("+(lt+J)+","+X+")"),f.insert("rect","#"+M.cn.node().id).classed(`er ${b}`,"true").attr("x",lt).attr("y",xt).attr("width",ut+2*J+It).attr("height",M.height+2*k)),xt+=M.height+2*k,b="attributeBoxOdd"===b?"attributeBoxEven":"attributeBoxOdd"})}else re.height=Math.max(Ot.minEntityHeight,At),R.attr("transform","translate("+re.width/2+","+re.height/2+")");return re})($,pt,R[vt].attributes),ut=$.insert("rect","#"+V).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",yt).attr("height",Tt).node().getBBox();T.setNode(tt,{width:ut.width,height:ut.height,shape:"rect",id:tt})}),J}($,k.db.getEntities(),V),yt=function(f,R){return f.forEach(function(T){R.setEdge(nt.get(T.entityA),nt.get(T.entityB),{relationship:T},ot(T))}),f}(k.db.getRelationships(),V);(0,h.bK)(V),function(f,R){R.nodes().forEach(function(T){void 0!==T&&void 0!==R.node(T)&&f.select("#"+T).attr("transform","translate("+(R.node(T).x-R.node(T).width/2)+","+(R.node(T).y-R.node(T).height/2)+" )")})}($,V),yt.forEach(function(ee){!function(f,R,T,k,J){Et++;const vt=T.edge(nt.get(R.entityA),nt.get(R.entityB),ot(R)),tt=(0,p.jvg)().x(function(At){return At.x}).y(function(At){return At.y}).curve(p.$0Z),$=f.insert("path","#"+k).classed("er relationshipLine",!0).attr("d",tt(vt.points)).style("stroke",Ot.stroke).style("fill","none");R.relSpec.relType===J.db.Identification.NON_IDENTIFYING&&$.attr("stroke-dasharray","8,8");let V="";switch(Ot.arrowMarkerAbsolute&&(V=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,V=V.replace(/\(/g,"\\("),V=V.replace(/\)/g,"\\)")),R.relSpec.cardA){case J.db.Cardinality.ZERO_OR_ONE:$.attr("marker-end","url("+V+"#"+Ct_ERMarkers.ZERO_OR_ONE_END+")");break;case J.db.Cardinality.ZERO_OR_MORE:$.attr("marker-end","url("+V+"#"+Ct_ERMarkers.ZERO_OR_MORE_END+")");break;case J.db.Cardinality.ONE_OR_MORE:$.attr("marker-end","url("+V+"#"+Ct_ERMarkers.ONE_OR_MORE_END+")");break;case J.db.Cardinality.ONLY_ONE:$.attr("marker-end","url("+V+"#"+Ct_ERMarkers.ONLY_ONE_END+")")}switch(R.relSpec.cardB){case J.db.Cardinality.ZERO_OR_ONE:$.attr("marker-start","url("+V+"#"+Ct_ERMarkers.ZERO_OR_ONE_START+")");break;case J.db.Cardinality.ZERO_OR_MORE:$.attr("marker-start","url("+V+"#"+Ct_ERMarkers.ZERO_OR_MORE_START+")");break;case J.db.Cardinality.ONE_OR_MORE:$.attr("marker-start","url("+V+"#"+Ct_ERMarkers.ONE_OR_MORE_START+")");break;case J.db.Cardinality.ONLY_ONE:$.attr("marker-start","url("+V+"#"+Ct_ERMarkers.ONLY_ONE_START+")")}const pt=$.node().getTotalLength(),yt=$.node().getPointAtLength(.5*pt),Tt="rel"+Et,ut=f.append("text").classed("er relationshipLabel",!0).attr("id",Tt).attr("x",yt.x).attr("y",yt.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",(0,s.g)().fontFamily).style("font-size",Ot.fontSize+"px").text(R.roleA).node().getBBox();f.insert("rect","#"+Tt).classed("er relationshipLabelBox",!0).attr("x",yt.x-ut.width/2).attr("y",yt.y-ut.height/2).attr("width",ut.width).attr("height",ut.height)}($,ee,V,pt,k)});const Tt=Ot.diagramPadding;v.u.insertTitle($,"entityTitleText",Ot.titleTopMargin,k.db.getDiagramTitle());const Mt=$.node().getBBox(),ut=Mt.width+2*Tt,At=Mt.height+2*Tt;(0,v.k)($,At,ut,Ot.useMaxWidth),$.attr("viewBox",`${Mt.x-Tt} ${Mt.y-Tt} ${ut} ${At}`)}},styles:f=>`\n  .entityBox {\n    fill: ${f.mainBkg};\n    stroke: ${f.nodeBorder};\n  }\n\n  .attributeBoxOdd {\n    fill: ${f.attributeBackgroundColorOdd};\n    stroke: ${f.nodeBorder};\n  }\n\n  .attributeBoxEven {\n    fill:  ${f.attributeBackgroundColorEven};\n    stroke: ${f.nodeBorder};\n  }\n\n  .relationshipLabelBox {\n    fill: ${f.tertiaryColor};\n    opacity: 0.7;\n    background-color: ${f.tertiaryColor};\n      rect {\n        opacity: 0.5;\n      }\n  }\n\n    .relationshipLine {\n      stroke: ${f.lineColor};\n    }\n\n  .entityTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${f.textColor};\n  }    \n`}}}]);