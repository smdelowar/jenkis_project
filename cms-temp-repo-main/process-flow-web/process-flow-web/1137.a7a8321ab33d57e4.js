(self.webpackChunkprocessFlowWeb=self.webpackChunkprocessFlowWeb||[]).push([[1137],{1569:(wt,B,a)=>{a.d(B,{Z:()=>zt});var y,l,f,v,N,it,dt,Nt,s=/\r\n?/g,Z=/\t/g,m=/\f/g,u=function(l){return l.replace(s,"\n").replace(m,"").replace(Z,"    ")},A=function(l,f){var v=l||{};if(null!=f)for(var N in f)Object.prototype.hasOwnProperty.call(f,N)&&(v[N]=f[N]);return v},O=function(l,f){var v=Object.keys(l).filter(function(dt){var Mt=l[dt];if(null==Mt||null==Mt.match)return!1;var Nt=Mt.order;return("number"!=typeof Nt||!isFinite(Nt))&&typeof console<"u"&&console.warn("simple-markdown: Invalid order for rule `"+dt+"`: "+String(Nt)),!0});v.sort(function(dt,Mt){var Nt=l[dt],bt=l[Mt],h=Nt.order,z=bt.order;if(h!==z)return h-z;var ut=Nt.quality?0:1,xt=bt.quality?0:1;return ut!==xt?ut-xt:dt<Mt?-1:dt>Mt?1:0});var N,it=function dt(Mt,Nt){var bt=[];for(N=Nt=Nt||N;Mt;){var h=null,z=null,ut=null,xt=NaN,Ut=0,kt=v[0],Kt=l[kt];do{var de=Kt.order,Xt=null==Nt.prevCapture?"":Nt.prevCapture[0],g=Kt.match(Mt,Nt,Xt);if(g){var r=Kt.quality?Kt.quality(g,Nt,Xt):0;r<=xt||(h=kt,z=Kt,ut=g,xt=r)}Ut++,Kt=l[kt=v[Ut]]}while(Kt&&(!ut||Kt.order===de&&Kt.quality));if(null==z||null==ut)throw new Error("Could not find a matching rule for the below content. The rule with highest `order` should always match content provided to it. Check the definition of `match` for '"+v[v.length-1]+"'. It seems to not match the following source:\n"+Mt);if(ut.index)throw new Error("`match` must return a capture starting at index 0 (the current parse index). Did you forget a ^ at the start of the RegExp?");var E=z.parse(ut,dt,Nt);if(Array.isArray(E))Array.prototype.push.apply(bt,E);else{if(null==E||"object"!=typeof E)throw new Error("parse() function returned invalid parse result: '".concat(E,"'"));null==E.type&&(E.type=h),bt.push(E)}Nt.prevCapture=ut,Mt=Mt.substring(Nt.prevCapture[0].length)}return bt};return function(Mt,Nt){return!(N=A(Nt,f)).inline&&!N.disableAutoBlockNewlines&&(Mt+="\n\n"),N.prevCapture=null,it(u(Mt),N)}},P=function(l){var f=function(N,it,It){return it.inline?l.exec(N):null};return f.regex=l,f},T=function(l){var f=function(N,it){return it.inline?null:l.exec(N)};return f.regex=l,f},F=function(l){var f=function(N,it){return l.exec(N)};return f.regex=l,f},J="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Q=function(l,f,v){return{$$typeof:J,type:l,key:f??void 0,ref:null,props:v,_owner:null}},I=function(l,f,v,N){v=v||{},N=!(typeof N<"u")||N;var it="";for(var It in v){var dt=v[It];Object.prototype.hasOwnProperty.call(v,It)&&dt&&(it+=" "+U(It)+'="'+U(dt)+'"')}var Mt="<"+l+it+">";return N?Mt+f+"</"+l+">":Mt},X={},W=function(l){if(null==l)return null;try{var f=new URL(l,"https://localhost").protocol;if(0===f.indexOf("javascript:")||0===f.indexOf("vbscript:")||0===f.indexOf("data:"))return null}catch{return null}return l},k=/[<>&"']/g,Y={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#96;"},U=function(l){return String(l).replace(k,function(f){return Y[f]})},ct=/\\([^0-9A-Za-z\s])/g,ot=function(l){return l.replace(ct,"$1")},q=function(l,f,v){var N=v.inline||!1;v.inline=!0;var it=l(f,v);return v.inline=N,it},ft=function(l,f,v){return{content:q(f,l[1],v)}},Tt=function(){return{}},ht="(?:[*+-]|\\d+\\.)",Wt="( *)("+ht+") +",Yt=new RegExp("^"+Wt),Gt=new RegExp(Wt+"[^\\n]*(?:\\n(?!\\1"+ht+" )[^\\n]*)*(\n|$)","gm"),Ft=/\n{2,}$/,ae=/^ (?= *`)|(` *) $/g,_e=Ft,me=/ *\n+$/,j=new RegExp("^( *)("+ht+") [\\s\\S]+?(?:\n{2,}(?! )(?!\\1"+ht+" )\\n*|\\s*\n*$)"),p=/(?:^|\n)( *)$/,D=(y=/^ *\| *| *\| *$/g,l=/ *$/,f=/^ *-+: *$/,v=/^ *:-+: *$/,N=/^ *:-+ *$/,it=function(h){return f.test(h)?"right":v.test(h)?"center":N.test(h)?"left":null},dt=function(h,z,ut,xt){var Ut=ut.inTable;ut.inTable=!0;var kt=z(h.trim(),ut);ut.inTable=Ut;var Kt=[[]];return kt.forEach(function(de,Xt){"tableSeparator"===de.type?(!xt||0!==Xt&&Xt!==kt.length-1)&&Kt.push([]):("text"===de.type&&(null==kt[Xt+1]||"tableSeparator"===kt[Xt+1].type)&&(de.content=de.content.replace(l,"")),Kt[Kt.length-1].push(de))}),Kt},{parseTable:(Nt=function(h){return function(z,ut,xt){xt.inline=!0;var Ut=dt(z[1],ut,xt,h),kt=function(h,z,ut,xt){return xt&&(h=h.replace(y,"")),h.trim().split("|").map(it)}(z[2],0,0,h),Kt=function(h,z,ut,xt){return h.trim().split("\n").map(function(kt){return dt(kt,z,ut,xt)})}(z[3],ut,xt,h);return xt.inline=!1,{type:"table",header:Ut,align:kt,cells:Kt}}})(!0),parseNpTable:Nt(!1),TABLE_REGEX:/^ *(\|.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/,NPTABLE_REGEX:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/}),pt="(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*",at="\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*",yt=/mailto:/i,Ht=function(l,f,v){var N=(l[2]||l[1]).replace(/\s+/g," ").toLowerCase();if(f._defs&&f._defs[N]){var it=f._defs[N];v.target=it.target,v.title=it.title}return f._refs=f._refs||{},f._refs[N]=f._refs[N]||[],f._refs[N].push(v),v},_t=0,Dt={Array:{react:function(l,f,v){for(var N=v.key,it=[],It=0,dt=0;It<l.length;It++,dt++){v.key=""+It;var Mt=l[It];if("text"===Mt.type)for(Mt={type:"text",content:Mt.content};It+1<l.length&&"text"===l[It+1].type;It++)Mt.content+=l[It+1].content;it.push(f(Mt,v))}return v.key=N,it},html:function(l,f,v){for(var N="",it=0;it<l.length;it++){var It=l[it];if("text"===It.type)for(It={type:"text",content:It.content};it+1<l.length&&"text"===l[it+1].type;it++)It.content+=l[it+1].content;N+=f(It,v)}return N}},heading:{order:_t++,match:T(/^ *(#{1,6})([^\n]+?)#* *(?:\n *)+\n/),parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){return{level:y[1].length,content:q(l,y[2].trim(),f)}}),react:function(l,f,v){return Q("h"+l.level,v.key,{children:f(l.content,v)})},html:function(l,f,v){return I("h"+l.level,f(l.content,v))}},nptable:{order:_t++,match:T(D.NPTABLE_REGEX),parse:D.parseNpTable,react:null,html:null},lheading:{order:_t++,match:T(/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/),parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){return{type:"heading",level:"="===y[2]?1:2,content:q(l,y[1],f)}}),react:null,html:null},hr:{order:_t++,match:T(/^( *[-*_]){3,} *(?:\n *)+\n/),parse:Tt,react:function(l,f,v){return Q("hr",v.key,X)},html:function(l,f,v){return"<hr>"}},codeBlock:{order:_t++,match:T(/^(?:    [^\n]+\n*)+(?:\n *)+\n/),parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){return{lang:void 0,content:y[0].replace(/^    /gm,"").replace(/\n+$/,"")}}),react:function(l,f,v){return Q("pre",v.key,{children:Q("code",null,{className:l.lang?"markdown-code-"+l.lang:void 0,children:l.content})})},html:function(l,f,v){var N=l.lang?"markdown-code-"+l.lang:void 0,it=I("code",U(l.content),{class:N});return I("pre",it)}},fence:{order:_t++,match:T(/^ *(`{3,}|~{3,}) *(?:(\S+) *)?\n([\s\S]+?)\n?\1 *(?:\n *)+\n/),parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){return{type:"codeBlock",lang:y[2]||void 0,content:y[3]}}),react:null,html:null},blockQuote:{order:_t++,match:T(/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/),parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){return{content:l(y[0].replace(/^ *> ?/gm,""),f)}}),react:function(l,f,v){return Q("blockquote",v.key,{children:f(l.content,v)})},html:function(l,f,v){return I("blockquote",f(l.content,v))}},list:{order:_t++,match:function(l,f){var N=p.exec(null==f.prevCapture?"":f.prevCapture[0]);return!N||!f._list&&f.inline?null:j.exec(l=N[1]+l)},parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){var v=y[2],N=v.length>1,it=N?+v:void 0,It=y[0].replace(_e,"\n").match(Gt),dt=!1,Mt=It.map(function(Nt,bt){var h=Yt.exec(Nt),ut=new RegExp("^ {1,"+(h?h[0].length:0)+"}","gm"),xt=Nt.replace(ut,"").replace(Yt,""),Ut=bt===It.length-1,Kt=-1!==xt.indexOf("\n\n")||Ut&&dt;dt=Kt;var g,de=f.inline,Xt=f._list;f._list=!0,Kt?(f.inline=!1,g=xt.replace(me,"\n\n")):(f.inline=!0,g=xt.replace(me,""));var r=l(g,f);return f.inline=de,f._list=Xt,r});return{ordered:N,start:it,items:Mt}}),react:function(l,f,v){return Q(l.ordered?"ol":"ul",v.key,{start:l.start,children:l.items.map(function(it,It){return Q("li",""+It,{children:f(it,v)})})})},html:function(l,f,v){var N=l.items.map(function(dt){return I("li",f(dt,v))}).join("");return I(l.ordered?"ol":"ul",N,{start:l.start})}},def:{order:_t++,match:T(/^ *\[([^\]]+)\]: *<?([^\s>]*)>?(?: +["(]([^\n]+)[")])? *\n(?: *\n)*/),parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){var v=y[1].replace(/\s+/g," ").toLowerCase(),N=y[2],it=y[3];return f._refs&&f._refs[v]&&f._refs[v].forEach(function(It){It.target=N,It.title=it}),f._defs=f._defs||{},f._defs[v]={target:N,title:it},{def:v,target:N,title:it}}),react:function(){return null},html:function(){return""}},table:{order:_t++,match:T(D.TABLE_REGEX),parse:D.parseTable,react:function(l,f,v){var N=function(Mt){return null==l.align[Mt]?{}:{textAlign:l.align[Mt]}},it=l.header.map(function(dt,Mt){return Q("th",""+Mt,{style:N(Mt),scope:"col",children:f(dt,v)})}),It=l.cells.map(function(dt,Mt){return Q("tr",""+Mt,{children:dt.map(function(Nt,bt){return Q("td",""+bt,{style:N(bt),children:f(Nt,v)})})})});return Q("table",v.key,{children:[Q("thead","thead",{children:Q("tr",null,{children:it})}),Q("tbody","tbody",{children:It})]})},html:function(l,f,v){var N=function(bt){return null==l.align[bt]?"":"text-align:"+l.align[bt]+";"},it=l.header.map(function(Nt,bt){return I("th",f(Nt,v),{style:N(bt),scope:"col"})}).join(""),It=l.cells.map(function(Nt){var bt=Nt.map(function(h,z){return I("td",f(h,v),{style:N(z)})}).join("");return I("tr",bt)}).join(""),dt=I("thead",I("tr",it)),Mt=I("tbody",It);return I("table",dt+Mt)}},newline:{order:_t++,match:T(/^(?:\n *)*\n/),parse:Tt,react:function(l,f,v){return"\n"},html:function(l,f,v){return"\n"}},paragraph:{order:_t++,match:T(/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/),parse:ft,react:function(l,f,v){return Q("div",v.key,{className:"paragraph",children:f(l.content,v)})},html:function(l,f,v){return I("div",f(l.content,v),{class:"paragraph"})}},escape:{order:_t++,match:P(/^\\([^0-9A-Za-z\s])/),parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){return{type:"text",content:y[1]}}),react:null,html:null},tableSeparator:{order:_t++,match:function(l,f){return f.inTable?/^ *\| */.exec(l):null},parse:function(){return{type:"tableSeparator"}},react:function(){return" | "},html:function(){return" &vert; "}},autolink:{order:_t++,match:P(/^<([^: >]+:\/[^ >]+)>/),parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){return{type:"link",content:[{type:"text",content:y[1]}],target:y[1]}}),react:null,html:null},mailto:{order:_t++,match:P(/^<([^ >]+@[^ >]+)>/),parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){var v=y[1],N=y[1];return yt.test(N)||(N="mailto:"+N),{type:"link",content:[{type:"text",content:v}],target:N}}),react:null,html:null},url:{order:_t++,match:P(/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/),parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){return{type:"link",content:[{type:"text",content:y[1]}],target:y[1],title:void 0}}),react:null,html:null},link:{order:_t++,match:P(new RegExp("^\\[("+pt+")\\]\\("+at+"\\)")),parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){return{content:l(y[1],f),target:ot(y[2]),title:y[3]}}),react:function(l,f,v){return Q("a",v.key,{href:W(l.target),title:l.title,children:f(l.content,v)})},html:function(l,f,v){var N={href:W(l.target),title:l.title};return I("a",f(l.content,v),N)}},image:{order:_t++,match:P(new RegExp("^!\\[("+pt+")\\]\\("+at+"\\)")),parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){return{alt:y[1],target:ot(y[2]),title:y[3]}}),react:function(l,f,v){return Q("img",v.key,{src:W(l.target),alt:l.alt,title:l.title})},html:function(l,f,v){var N={src:W(l.target),alt:l.alt,title:l.title};return I("img","",N,!1)}},reflink:{order:_t++,match:P(new RegExp("^\\[("+pt+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){return Ht(y,f,{type:"link",content:l(y[1],f)})}),react:null,html:null},refimage:{order:_t++,match:P(new RegExp("^!\\[("+pt+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){return Ht(y,f,{type:"image",alt:y[1]})}),react:null,html:null},em:{order:_t,match:P(new RegExp("^\\b_((?:__|\\\\[\\s\\S]|[^\\\\_])+?)_\\b|^\\*(?=\\S)((?:\\*\\*|\\\\[\\s\\S]|\\s+(?:\\\\[\\s\\S]|[^\\s\\*\\\\]|\\*\\*)|[^\\s\\*\\\\])+?)\\*(?!\\*)")),quality:function(l){return l[0].length+.2},parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){return{content:l(y[2]||y[1],f)}}),react:function(l,f,v){return Q("em",v.key,{children:f(l.content,v)})},html:function(l,f,v){return I("em",f(l.content,v))}},strong:{order:_t,match:P(/^\*\*((?:\\[\s\S]|[^\\])+?)\*\*(?!\*)/),quality:function(l){return l[0].length+.1},parse:ft,react:function(l,f,v){return Q("strong",v.key,{children:f(l.content,v)})},html:function(l,f,v){return I("strong",f(l.content,v))}},u:{order:_t++,match:P(/^__((?:\\[\s\S]|[^\\])+?)__(?!_)/),quality:function(l){return l[0].length},parse:ft,react:function(l,f,v){return Q("u",v.key,{children:f(l.content,v)})},html:function(l,f,v){return I("u",f(l.content,v))}},del:{order:_t++,match:P(/^~~(?=\S)((?:\\[\s\S]|~(?!~)|[^\s~\\]|\s(?!~~))+?)~~/),parse:ft,react:function(l,f,v){return Q("del",v.key,{children:f(l.content,v)})},html:function(l,f,v){return I("del",f(l.content,v))}},inlineCode:{order:_t++,match:P(/^(`+)([\s\S]*?[^`])\1(?!`)/),parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){return{content:y[2].replace(ae,"$1")}}),react:function(l,f,v){return Q("code",v.key,{children:l.content})},html:function(l,f,v){return I("code",U(l.content))}},br:{order:_t++,match:F(/^ {2,}\n/),parse:Tt,react:function(l,f,v){return Q("br",v.key,X)},html:function(l,f,v){return"<br>"}},text:{order:_t++,match:F(/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff]|\n\n| {2,}\n|\w+:\S|$)/),parse:function(y){function l(f,v,N){return y.apply(this,arguments)}return l.toString=function(){return y.toString()},l}(function(y,l,f){return{content:y[0]}}),react:function(l,f,v){return l.content},html:function(l,f,v){return U(l.content)}}},St=function(l,f){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!f)throw new Error("simple-markdown: outputFor: `property` must be defined. if you just upgraded, you probably need to replace `outputFor` with `reactFor`");var N,It=(l.Array||Dt.Array)[f];if(!It)throw new Error("simple-markdown: outputFor: to join nodes of type `"+f+"` you must provide an `Array:` joiner rule with that type, Please see the docs for details on specifying an Array rule.");var dt=It,Mt=function bt(h,z){return N=z=z||N,Array.isArray(h)?dt(h,bt,z):l[h.type][f](h,bt,z)};return function(h,z){return N=A(z,v),Mt(h,N)}},qt=O(Dt),be=function(l,f){return(f=f||{}).inline=!1,qt(l,f)},jt=function(l,f){var v=Ft.test(l);return(f=f||{}).inline=!v,qt(l,f)},M=St(Dt,"react"),V=St(Dt,"html"),Lt=function(l,f){return M(be(l,f),f)},zt={defaultRules:Dt,parserFor:O,outputFor:St,inlineRegex:P,blockRegex:T,anyScopeRegex:F,parseInline:q,parseBlock:function(l,f,v){var N=v.inline||!1;v.inline=!1;var it=l(f+"\n\n",v);return v.inline=N,it},markdownToReact:Lt,markdownToHtml:function(l,f){return V(be(l,f),f)},ReactMarkdown:function(l){var f={};for(var v in l)"source"!==v&&Object.prototype.hasOwnProperty.call(l,v)&&(f[v]=l[v]);return f.children=Lt(l.source),Q("div",null,f)},defaultBlockParse:be,defaultInlineParse:function(l,f){return(f=f||{}).inline=!0,qt(l,f)},defaultImplicitParse:jt,defaultReactOutput:M,defaultHtmlOutput:V,preprocess:u,sanitizeText:U,sanitizeUrl:W,unescapeUrl:ot,htmlTag:I,reactElement:Q,defaultRawParse:qt,ruleOutput:function(l,f){return!f&&typeof console<"u"&&console.warn("simple-markdown ruleOutput should take 'react' or 'html' as the second argument."),function(it,It,dt){return l[it.type][f](it,It,dt)}},reactFor:function(l){return function v(N,it){if(it=it||{},Array.isArray(N)){for(var It=it.key,dt=[],Mt=null,Nt=0;Nt<N.length;Nt++){it.key=""+Nt;var bt=v(N[Nt],it);"string"==typeof bt&&"string"==typeof Mt?dt[dt.length-1]=Mt+=bt:(dt.push(bt),Mt=bt)}return it.key=It,dt}return l(N,v,it)}},htmlFor:function(l){return function v(N,it){return it=it||{},Array.isArray(N)?N.map(function(It){return v(It,it)}).join(""):l(N,v,it)}},defaultParse:function(){return typeof console<"u"&&console.warn("defaultParse is deprecated, please use `defaultImplicitParse`"),jt.apply(null,arguments)},defaultOutput:function(){return typeof console<"u"&&console.warn("defaultOutput is deprecated, please use `defaultReactOutput`"),M.apply(null,arguments)}}},5761:(wt,B,a)=>{a.d(B,{bK:()=>Ma});var s=a(9547),Z=a(902),m=a(8627),u=a(2935),A=a(7506),O=a(4550),P=a(9768),T=a(5346);class F{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,n=e._prev;if(n!==e)return J(n),n}enqueue(e){var n=this._sentinel;e._prev&&e._next&&J(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){for(var e=[],n=this._sentinel,i=n._prev;i!==n;)e.push(JSON.stringify(i,Q)),i=i._prev;return"["+e.join(", ")+"]"}}function J(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function Q(t,e){if("_next"!==t&&"_prev"!==t)return e}var I=u.Z(1);function k(t,e,n,i,o){var c=o?[]:void 0;return s.Z(t.inEdges(i.v),function(d){var w=t.edge(d),R=t.node(d.v);o&&c.push({v:d.v,w:d.w}),R.out-=w,U(e,n,R)}),s.Z(t.outEdges(i.v),function(d){var w=t.edge(d),K=t.node(d.w);K.in-=w,U(e,n,K)}),t.removeNode(i.v),c}function U(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function ct(t){var e="greedy"===t.graph().acyclicer?function X(t,e){if(t.nodeCount()<=1)return[];var n=function Y(t,e){var n=new T.k,i=0,o=0;s.Z(t.nodes(),function(w){n.setNode(w,{v:w,in:0,out:0})}),s.Z(t.edges(),function(w){var R=n.edge(w.v,w.w)||0,K=e(w);n.setEdge(w.v,w.w,R+K),o=Math.max(o,n.node(w.v).out+=K),i=Math.max(i,n.node(w.w).in+=K)});var c=P.Z(o+i+3).map(function(){return new F}),d=i+1;return s.Z(n.nodes(),function(w){U(c,d,n.node(w))}),{graph:n,buckets:c,zeroIdx:d}}(t,e||I),i=function W(t,e,n){for(var d,i=[],o=e[e.length-1],c=e[0];t.nodeCount();){for(;d=c.dequeue();)k(t,e,n,d);for(;d=o.dequeue();)k(t,e,n,d);if(t.nodeCount())for(var w=e.length-2;w>0;--w)if(d=e[w].dequeue()){i=i.concat(k(t,e,n,d,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return A.Z(O.Z(i,function(o){return t.outEdges(o.v,o.w)}))}(t,function n(i){return function(o){return i.edge(o).weight}}(t)):function ot(t){var e=[],n={},i={};return s.Z(t.nodes(),function o(c){m.Z(i,c)||(i[c]=!0,n[c]=!0,s.Z(t.outEdges(c),function(d){m.Z(n,d.w)?e.push(d):o(d.w)}),delete n[c])}),e}(t);s.Z(e,function(i){var o=t.edge(i);t.removeEdge(i),o.forwardName=i.name,o.reversed=!0,t.setEdge(i.w,i.v,o,Z.Z("rev"))})}var rt=a(8730),ft=a(6041),Tt=a(8418);const Wt=function ht(t,e,n){(void 0!==n&&!(0,Tt.Z)(t[e],n)||void 0===n&&!(e in t))&&(0,ft.Z)(t,e,n)};var Yt=a(4199),Gt=a(4203),Ft=a(3734),ae=a(2307),_e=a(7324),me=a(5727),j=a(9977),p=a(9568),D=a(7717),pt=a(4842),at=a(5829),yt=a(5511),Ht=a(7227);const Dt=function _t(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var le=a(6299),re=a(516);const be=function qt(t,e,n,i,o,c,d){var w=Dt(t,n),R=Dt(e,n),K=d.get(R);if(K)Wt(t,n,K);else{var H=c?c(w,R,n+"",t,e,d):void 0,vt=void 0===H;if(vt){var Qt=(0,j.Z)(R),ne=!Qt&&(0,D.Z)(R),pe=!Qt&&!ne&&(0,Ht.Z)(R);H=R,Qt||ne||pe?(0,j.Z)(w)?H=w:(0,p.Z)(w)?H=(0,ae.Z)(w):ne?(vt=!1,H=(0,Gt.Z)(R,!0)):pe?(vt=!1,H=(0,Ft.Z)(R,!0)):H=[]:(0,yt.Z)(R)||(0,me.Z)(R)?(H=w,(0,me.Z)(w)?H=function At(t){return(0,le.Z)(t,(0,re.Z)(t))}(w):(!(0,at.Z)(w)||(0,pt.Z)(w))&&(H=(0,_e.Z)(R))):vt=!1}vt&&(d.set(R,H),o(H,R,i,c,d),d.delete(R)),Wt(t,n,H)}},jt=function Ze(t,e,n,i,o){t!==e&&(0,Yt.Z)(e,function(c,d){if(o||(o=new rt.Z),(0,at.Z)(c))be(t,e,d,n,Ze,i,o);else{var w=i?i(Dt(t,d),c,d+"",t,e,o):void 0;void 0===w&&(w=c),Wt(t,d,w)}},re.Z)};var M=a(2447),V=a(1799);const zt=function Lt(t){return(0,M.Z)(function(e,n){var i=-1,o=n.length,c=o>1?n[o-1]:void 0,d=o>2?n[2]:void 0;for(c=t.length>3&&"function"==typeof c?(o--,c):void 0,d&&(0,V.Z)(n[0],n[1],d)&&(c=o<3?void 0:c,o=1),e=Object(e);++i<o;){var w=n[i];w&&t(e,w,i,c)}return e})}(function(t,e,n){jt(t,e,n)});var y=a(7050),l=a(8123),f=a(7106);const N=function v(t,e,n){for(var i=-1,o=t.length;++i<o;){var c=t[i],d=e(c);if(null!=d&&(void 0===w?d==d&&!(0,f.Z)(d):n(d,w)))var w=d,R=c}return R},It=function it(t,e){return t>e};var dt=a(1974);const Nt=function Mt(t){return t&&t.length?N(t,dt.Z,It):void 0},h=function bt(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var z=a(4023),ut=a(2349);const Ut=function xt(t,e){var n={};return e=(0,ut.Z)(e,3),(0,z.Z)(t,function(i,o,c){(0,ft.Z)(n,o,e(i,o,c))}),n};var kt=a(7002);const de=function Kt(t,e){return t<e},g=function Xt(t){return t&&t.length?N(t,dt.Z,de):void 0};var r=a(4131);const C=function(){return r.Z.Date.now()};function b(t,e,n,i){var o;do{o=Z.Z(i)}while(t.hasNode(o));return n.dummy=e,t.setNode(o,n),o}function S(t){var e=new T.k({multigraph:t.isMultigraph()}).setGraph(t.graph());return s.Z(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),s.Z(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e}function mt(t,e){var R,K,n=t.x,i=t.y,o=e.x-n,c=e.y-i,d=t.width/2,w=t.height/2;if(!o&&!c)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(c)*d>Math.abs(o)*w?(c<0&&(w=-w),R=w*o/c,K=w):(o<0&&(d=-d),R=d,K=d*c/o),{x:n+R,y:i+K}}function nt(t){var e=O.Z(P.Z(st(t)+1),function(){return[]});return s.Z(t.nodes(),function(n){var i=t.node(n),o=i.rank;kt.Z(o)||(e[o][i.order]=n)}),e}function tt(t,e,n,i){var o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=i),b(t,"border",o,e)}function st(t){return Nt(O.Z(t.nodes(),function(e){var n=t.node(e).rank;if(!kt.Z(n))return n}))}function Ot(t,e){var n=C();try{return e()}finally{console.log(t+" time: "+(C()-n)+"ms")}}function Jt(t,e){return e()}function se(t,e,n,i,o,c){var w=o[e][c-1],R=b(t,"border",{width:0,height:0,rank:c,borderType:e},n);o[e][c]=R,t.setParent(R,i),w&&t.setEdge(w,R,{weight:1})}function ye(t){s.Z(t.nodes(),function(e){ge(t.node(e))}),s.Z(t.edges(),function(e){ge(t.edge(e))})}function ge(t){var e=t.width;t.width=t.height,t.height=e}function ce(t){t.y=-t.y}function he(t){var e=t.x;t.x=t.y,t.y=e}const ue=function te(t,e){return t&&t.length?N(t,(0,ut.Z)(e,2),de):void 0};function Et(t){var e={};s.Z(t.sources(),function n(i){var o=t.node(i);if(m.Z(e,i))return o.rank;e[i]=!0;var c=g(O.Z(t.outEdges(i),function(d){return n(d.w)-t.edge(d).minlen}));return(c===Number.POSITIVE_INFINITY||null==c)&&(c=0),o.rank=c})}function Pe(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function $t(t){var o,c,e=new T.k({directed:!1}),n=t.nodes()[0],i=t.nodeCount();for(e.setNode(n,{});Ie(e,t)<i;)o=Me(e,t),c=e.hasNode(o.v)?Pe(t,o):-Pe(t,o),Ke(e,t,c);return e}function Ie(t,e){return s.Z(t.nodes(),function n(i){s.Z(e.nodeEdges(i),function(o){var c=o.v,d=i===c?o.w:c;!t.hasNode(d)&&!Pe(e,o)&&(t.setNode(d,{}),t.setEdge(i,d,{}),n(d))})}),t.nodeCount()}function Me(t,e){return ue(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return Pe(e,n)})}function Ke(t,e,n){s.Z(t.nodes(),function(i){e.node(i).rank+=n})}var ie=a(6247),ke=a(4181);var oe=a(8568),Se=a(231);var xe=Math.max;const Re=function Te(t){return function(e,n,i){var o=Object(e);if(!(0,ie.Z)(e)){var c=(0,ut.Z)(n,3);e=(0,ke.Z)(e),n=function(w){return c(o[w],w,o)}}var d=t(e,n,i);return d>-1?o[c?e[d]:d]:void 0}}(function we(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=null==n?0:function Be(t){var e=(0,Se.Z)(t),n=e%1;return e==e?n?e-n:e:0}(n);return o<0&&(o=xe(i+o,0)),(0,oe.Z)(t,(0,ut.Z)(e,3),o)});var De=a(6232);u.Z(1),u.Z(1),a(8217),a(2211),a(3844),a(1196),(0,a(7740).Z)("length"),RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var sn="\\ud800-\\udfff",er="["+sn+"]",Qe="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",qe="\\ud83c[\\udffb-\\udfff]",on="[^"+sn+"]",ln="(?:\\ud83c[\\udde6-\\uddff]){2}",cn="[\\ud800-\\udbff][\\udc00-\\udfff]",un="(?:"+Qe+"|"+qe+")?",dn="[\\ufe0e\\ufe0f]?",sr=dn+un+"(?:\\u200d(?:"+[on,ln,cn].join("|")+")"+dn+un+")*",ir="(?:"+[on+Qe+"?",Qe,ln,cn,er].join("|")+")";function hn(t,e,n){j.Z(e)||(e=[e]);var i=(t.isDirected()?t.successors:t.neighbors).bind(t),o=[],c={};return s.Z(e,function(d){if(!t.hasNode(d))throw new Error("Graph does not have node: "+d);pn(t,d,"post"===n,c,i,o)}),o}function pn(t,e,n,i,o,c){m.Z(i,e)||(i[e]=!0,n||c.push(e),s.Z(o(e),function(d){pn(t,d,n,i,o,c)}),n&&c.push(e))}function $e(t){t=function x(t){var e=(new T.k).setGraph(t.graph());return s.Z(t.nodes(),function(n){e.setNode(n,t.node(n))}),s.Z(t.edges(),function(n){var i=e.edge(n.v,n.w)||{weight:0,minlen:1},o=t.edge(n);e.setEdge(n.v,n.w,{weight:i.weight+o.weight,minlen:Math.max(i.minlen,o.minlen)})}),e}(t),Et(t);var n,e=$t(t);for(en(e),tn(e,t);n=vn(e);)mn(e,t,n,yn(e,t,n))}function tn(t,e){var n=function gr(t,e){return hn(t,e,"post")}(t,t.nodes());n=n.slice(0,n.length-1),s.Z(n,function(i){!function yr(t,e,n){var i=t.node(n);t.edge(n,i.parent).cutvalue=_n(t,e,n)}(t,e,i)})}function _n(t,e,n){var o=t.node(n).parent,c=!0,d=e.edge(n,o),w=0;return d||(c=!1,d=e.edge(o,n)),w=d.weight,s.Z(e.nodeEdges(n),function(R){var K=R.v===n,H=K?R.w:R.v;if(H!==o){var vt=K===c,Qt=e.edge(R).weight;if(w+=vt?Qt:-Qt,function Er(t,e,n){return t.hasEdge(e,n)}(t,n,H)){var ne=t.edge(n,H).cutvalue;w+=vt?-ne:ne}}}),w}function en(t,e){arguments.length<2&&(e=t.nodes()[0]),gn(t,{},1,e)}function gn(t,e,n,i,o){var c=n,d=t.node(i);return e[i]=!0,s.Z(t.neighbors(i),function(w){m.Z(e,w)||(n=gn(t,e,n,w,i))}),d.low=c,d.lim=n++,o?d.parent=o:delete d.parent,n}function vn(t){return Re(t.edges(),function(e){return t.edge(e).cutvalue<0})}function yn(t,e,n){var i=n.v,o=n.w;e.hasEdge(i,o)||(i=n.w,o=n.v);var c=t.node(i),d=t.node(o),w=c,R=!1;c.lim>d.lim&&(w=d,R=!0);var K=De.Z(e.edges(),function(H){return R===En(0,t.node(H.v),w)&&R!==En(0,t.node(H.w),w)});return ue(K,function(H){return Pe(e,H)})}function mn(t,e,n,i){t.removeEdge(n.v,n.w),t.setEdge(i.v,i.w,{}),en(t),tn(t,e),function mr(t,e){var n=Re(t.nodes(),function(o){return!e.node(o).parent}),i=function vr(t,e){return hn(t,e,"pre")}(t,n);i=i.slice(1),s.Z(i,function(o){var c=t.node(o).parent,d=e.edge(o,c),w=!1;d||(d=e.edge(c,o),w=!0),e.node(o).rank=e.node(c).rank+(w?d.minlen:-d.minlen)})}(t,e)}function En(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}function br(t){switch(t.graph().ranker){case"network-simplex":default:!function bn(t){$e(t)}(t);break;case"tight-tree":!function wr(t){Et(t),$t(t)}(t);break;case"longest-path":xr(t)}}RegExp(qe+"(?="+qe+")|"+ir+sr,"g"),new Error,a(4790),$e.initLowLimValues=en,$e.initCutValues=tn,$e.calcCutValue=_n,$e.leaveEdge=vn,$e.enterEdge=yn,$e.exchangeEdges=mn;var xr=Et;var Ye=a(7402),Je=a(2621);function Tr(t){var e=b(t,"root",{},"_root"),n=function Sr(t){var e={};function n(i,o){var c=t.children(i);c&&c.length&&s.Z(c,function(d){n(d,o+1)}),e[i]=o}return s.Z(t.children(),function(i){n(i,1)}),e}(t),i=Nt(Ye.Z(n))-1,o=2*i+1;t.graph().nestingRoot=e,s.Z(t.edges(),function(d){t.edge(d).minlen*=o});var c=function Zr(t){return Je.Z(t.edges(),function(e,n){return e+t.edge(n).weight},0)}(t)+1;s.Z(t.children(),function(d){xn(t,e,o,c,i,n,d)}),t.graph().nodeRankFactor=o}function xn(t,e,n,i,o,c,d){var w=t.children(d);if(w.length){var R=tt(t,"_bt"),K=tt(t,"_bb"),H=t.node(d);t.setParent(R,d),H.borderTop=R,t.setParent(K,d),H.borderBottom=K,s.Z(w,function(vt){xn(t,e,n,i,o,c,vt);var Qt=t.node(vt),ne=Qt.borderTop?Qt.borderTop:vt,pe=Qt.borderBottom?Qt.borderBottom:vt,Ae=Qt.borderTop?i:2*i,Ve=ne!==pe?1:o-c[d]+1;t.setEdge(R,ne,{weight:Ae,minlen:Ve,nestingEdge:!0}),t.setEdge(pe,K,{weight:Ae,minlen:Ve,nestingEdge:!0})}),t.parent(d)||t.setEdge(e,R,{weight:0,minlen:o+c[d]})}else d!==e&&t.setEdge(e,d,{weight:0,minlen:n})}var Or=a(3143);const Dr=function Pr(t){return(0,Or.Z)(t,5)};var kr=a(4416);const Fr=function Ur(t,e){return function Br(t,e,n){for(var i=-1,o=t.length,c=e.length,d={};++i<o;)n(d,t[i],i<c?e[i]:void 0);return d}(t||[],e||[],kr.Z)};var Wr=a(4583),nn=a(2720),Kr=a(4818),jr=a(2436);var Xr=a(8733);const Hr=function Yr(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t==t,c=(0,f.Z)(t),d=void 0!==e,w=null===e,R=e==e,K=(0,f.Z)(e);if(!w&&!K&&!c&&t>e||c&&d&&R&&!w&&!K||i&&d&&R||!n&&R||!o)return 1;if(!i&&!c&&!K&&t<e||K&&n&&o&&!i&&!c||w&&n&&o||!d&&o||!R)return-1}return 0},Qr=function Jr(t,e,n){e=e.length?(0,nn.Z)(e,function(c){return(0,j.Z)(c)?function(d){return(0,Kr.Z)(d,1===c.length?c[0]:c)}:c}):[dt.Z];var i=-1;return e=(0,nn.Z)(e,(0,Xr.Z)(ut.Z)),function $r(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}((0,jr.Z)(t,function(c,d,w){return{criteria:(0,nn.Z)(e,function(K){return K(c)}),index:++i,value:c}}),function(c,d){return function Vr(t,e,n){for(var i=-1,o=t.criteria,c=e.criteria,d=o.length,w=n.length;++i<d;){var R=Hr(o[i],c[i]);if(R)return i>=w?R:R*("desc"==n[i]?-1:1)}return t.index-e.index}(c,d,n)})},He=(0,M.Z)(function(t,e){if(null==t)return[];var n=e.length;return n>1&&(0,V.Z)(t,e[0],e[1])?e=[]:n>2&&(0,V.Z)(e[0],e[1],e[2])&&(e=[e[0]]),Qr(t,(0,Wr.Z)(e,1),[])});function ta(t,e){for(var n=0,i=1;i<e.length;++i)n+=ea(t,e[i-1],e[i]);return n}function ea(t,e,n){for(var i=Fr(n,O.Z(n,function(K,H){return H})),o=A.Z(O.Z(e,function(K){return He(O.Z(t.outEdges(K),function(H){return{pos:i[H.w],weight:t.edge(H).weight}}),"pos")})),c=1;c<n.length;)c<<=1;var d=2*c-1;c-=1;var w=O.Z(new Array(d),function(){return 0}),R=0;return s.Z(o.forEach(function(K){var H=K.pos+c;w[H]+=K.weight;for(var vt=0;H>0;)H%2&&(vt+=w[H+1]),w[H=H-1>>1]+=K.weight;R+=K.weight*vt})),R}function wn(t,e,n){for(var i;e.length&&(i=h(e)).i<=n;)e.pop(),t.push(i.vs),n++;return n}function Tn(t,e,n,i){var o=t.children(e),c=t.node(e),d=c?c.borderLeft:void 0,w=c?c.borderRight:void 0,R={};d&&(o=De.Z(o,function(pe){return pe!==d&&pe!==w}));var K=function ra(t,e){return O.Z(e,function(n){var i=t.inEdges(n);if(i.length){var o=Je.Z(i,function(c,d){var w=t.edge(d),R=t.node(d.v);return{sum:c.sum+w.weight*R.order,weight:c.weight+w.weight}},{sum:0,weight:0});return{v:n,barycenter:o.sum/o.weight,weight:o.weight}}return{v:n}})}(t,o);s.Z(K,function(pe){if(t.children(pe.v).length){var Ae=Tn(t,pe.v,n,i);R[pe.v]=Ae,m.Z(Ae,"barycenter")&&function ua(t,e){kt.Z(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}(pe,Ae)}});var H=function aa(t,e){var n={};return s.Z(t,function(o,c){var d=n[o.v]={indegree:0,in:[],out:[],vs:[o.v],i:c};kt.Z(o.barycenter)||(d.barycenter=o.barycenter,d.weight=o.weight)}),s.Z(e.edges(),function(o){var c=n[o.v],d=n[o.w];!kt.Z(c)&&!kt.Z(d)&&(d.indegree++,c.out.push(n[o.w]))}),function sa(t){var e=[];function n(c){return function(d){d.merged||(kt.Z(d.barycenter)||kt.Z(c.barycenter)||d.barycenter>=c.barycenter)&&function ia(t,e){var n=0,i=0;t.weight&&(n+=t.barycenter*t.weight,i+=t.weight),e.weight&&(n+=e.barycenter*e.weight,i+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/i,t.weight=i,t.i=Math.min(e.i,t.i),e.merged=!0}(c,d)}}function i(c){return function(d){d.in.push(c),0==--d.indegree&&t.push(d)}}for(;t.length;){var o=t.pop();e.push(o),s.Z(o.in.reverse(),n(o)),s.Z(o.out,i(o))}return O.Z(De.Z(e,function(c){return!c.merged}),function(c){return y.Z(c,["vs","i","barycenter","weight"])})}(De.Z(n,function(o){return!o.indegree}))}(K,n);!function ca(t,e){s.Z(t,function(n){n.vs=A.Z(n.vs.map(function(i){return e[i]?e[i].vs:i}))})}(H,R);var vt=function oa(t,e){var n=function Zt(t,e){var n={lhs:[],rhs:[]};return s.Z(t,function(i){e(i)?n.lhs.push(i):n.rhs.push(i)}),n}(t,function(H){return m.Z(H,"barycenter")}),i=n.lhs,o=He(n.rhs,function(H){return-H.i}),c=[],d=0,w=0,R=0;i.sort(function la(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}(!!e)),R=wn(c,o,R),s.Z(i,function(H){R+=H.vs.length,c.push(H.vs),d+=H.barycenter*H.weight,w+=H.weight,R=wn(c,o,R)});var K={vs:A.Z(c)};return w&&(K.barycenter=d/w,K.weight=w),K}(H,i);if(d&&(vt.vs=A.Z([d,vt.vs,w]),t.predecessors(d).length)){var Qt=t.node(t.predecessors(d)[0]),ne=t.node(t.predecessors(w)[0]);m.Z(vt,"barycenter")||(vt.barycenter=0,vt.weight=0),vt.barycenter=(vt.barycenter*vt.weight+Qt.order+ne.order)/(vt.weight+2),vt.weight+=2}return vt}function Sn(t,e,n){return O.Z(e,function(i){return function Ir(t,e,n){var i=function Mr(t){for(var e;t.hasNode(e=Z.Z("_root")););return e}(t),o=new T.k({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(c){return t.node(c)});return s.Z(t.nodes(),function(c){var d=t.node(c),w=t.parent(c);(d.rank===e||d.minRank<=e&&e<=d.maxRank)&&(o.setNode(c),o.setParent(c,w||i),s.Z(t[n](c),function(R){var K=R.v===c?R.w:R.v,H=o.edge(K,c),vt=kt.Z(H)?0:H.weight;o.setEdge(K,c,{weight:t.edge(R).weight+vt})}),m.Z(d,"minRank")&&o.setNode(c,{borderLeft:d.borderLeft[e],borderRight:d.borderRight[e]}))}),o}(t,i,n)})}function fa(t,e){var n=new T.k;s.Z(t,function(i){var o=i.graph().root,c=Tn(i,o,n,e);s.Z(c.vs,function(d,w){i.node(d).order=w}),function Rr(t,e,n){var o,i={};s.Z(n,function(c){for(var w,R,d=t.parent(c);d;){if((w=t.parent(d))?(R=i[w],i[w]=d):(R=o,o=d),R&&R!==d)return void e.setEdge(R,d);d=w}})}(i,n,c.vs)})}function Zn(t,e){s.Z(e,function(n){s.Z(n,function(i,o){t.node(i).order=o})})}var Ln=a(8606);const va=function ga(t,e){return t&&(0,z.Z)(t,(0,Ln.Z)(e))},ma=function ya(t,e){return null==t?t:(0,Yt.Z)(t,(0,Ln.Z)(e),re.Z)};function On(t,e,n){if(e>n){var i=e;e=n,n=i}var o=t[e];o||(t[e]=o={}),o[n]=!0}function wa(t,e,n){if(e>n){var i=e;e=n,n=i}return m.Z(t[e],n)}function Ca(t){var o,e=nt(t),n=zt(function Ea(t,e){var n={};return Je.Z(e,function i(o,c){var d=0,w=0,R=o.length,K=h(c);return s.Z(c,function(H,vt){var Qt=function xa(t,e){if(t.node(e).dummy)return Re(t.predecessors(e),function(n){return t.node(n).dummy})}(t,H),ne=Qt?t.node(Qt).order:R;(Qt||H===K)&&(s.Z(c.slice(w,vt+1),function(pe){s.Z(t.predecessors(pe),function(Ae){var Ve=t.node(Ae),An=Ve.order;(An<d||ne<An)&&(!Ve.dummy||!t.node(pe).dummy)&&On(n,Ae,pe)})}),w=vt+1,d=ne)}),c}),n}(t,e),function ba(t,e){var n={};function i(c,d,w,R,K){var H;s.Z(P.Z(d,w),function(vt){t.node(H=c[vt]).dummy&&s.Z(t.predecessors(H),function(Qt){var ne=t.node(Qt);ne.dummy&&(ne.order<R||ne.order>K)&&On(n,Qt,H)})})}return Je.Z(e,function o(c,d){var R,w=-1,K=0;return s.Z(d,function(H,vt){if("border"===t.node(H).dummy){var Qt=t.predecessors(H);Qt.length&&(R=t.node(Qt[0]).order,i(d,K,vt,w,R),K=vt,w=R)}i(d,K,d.length,R,c.length)}),d}),n}(t,e)),i={};s.Z(["u","d"],function(d){o="u"===d?e:Ye.Z(e).reverse(),s.Z(["l","r"],function(w){"r"===w&&(o=O.Z(o,function(vt){return Ye.Z(vt).reverse()}));var R=("u"===d?t.predecessors:t.successors).bind(t),K=function Ta(t,e,n,i){var o={},c={},d={};return s.Z(e,function(w){s.Z(w,function(R,K){o[R]=R,c[R]=R,d[R]=K})}),s.Z(e,function(w){var R=-1;s.Z(w,function(K){var H=i(K);if(H.length)for(var vt=((H=He(H,function(Ae){return d[Ae]})).length-1)/2,Qt=Math.floor(vt),ne=Math.ceil(vt);Qt<=ne;++Qt){var pe=H[Qt];c[K]===K&&R<d[pe]&&!wa(n,K,pe)&&(c[pe]=K,c[K]=o[K]=o[pe],R=d[pe])}})}),{root:o,align:c}}(0,o,n,R),H=function Sa(t,e,n,i,o){var c={},d=function Za(t,e,n,i){var o=new T.k,c=t.graph(),d=function Pa(t,e,n){return function(i,o,c){var K,d=i.node(o),w=i.node(c),R=0;if(R+=d.width/2,m.Z(d,"labelpos"))switch(d.labelpos.toLowerCase()){case"l":K=-d.width/2;break;case"r":K=d.width/2}if(K&&(R+=n?K:-K),K=0,R+=(d.dummy?e:t)/2,R+=(w.dummy?e:t)/2,R+=w.width/2,m.Z(w,"labelpos"))switch(w.labelpos.toLowerCase()){case"l":K=w.width/2;break;case"r":K=-w.width/2}return K&&(R+=n?K:-K),K=0,R}}(c.nodesep,c.edgesep,i);return s.Z(e,function(w){var R;s.Z(w,function(K){var H=n[K];if(o.setNode(H),R){var vt=n[R],Qt=o.edge(vt,H);o.setEdge(vt,H,Math.max(d(t,K,R),Qt||0))}R=K})}),o}(t,e,n,o),w=o?"borderLeft":"borderRight";function R(vt,Qt){for(var ne=d.nodes(),pe=ne.pop(),Ae={};pe;)Ae[pe]?vt(pe):(Ae[pe]=!0,ne.push(pe),ne=ne.concat(Qt(pe))),pe=ne.pop()}return R(function K(vt){c[vt]=d.inEdges(vt).reduce(function(Qt,ne){return Math.max(Qt,c[ne.v]+d.edge(ne))},0)},d.predecessors.bind(d)),R(function H(vt){var Qt=d.outEdges(vt).reduce(function(pe,Ae){return Math.min(pe,c[Ae.w]-d.edge(Ae))},Number.POSITIVE_INFINITY),ne=t.node(vt);Qt!==Number.POSITIVE_INFINITY&&ne.borderType!==w&&(c[vt]=Math.max(c[vt],Qt))},d.successors.bind(d)),s.Z(i,function(vt){c[vt]=c[n[vt]]}),c}(t,o,K.root,K.align,"r"===w);"r"===w&&(H=Ut(H,function(vt){return-vt})),i[d+w]=H})});var c=function La(t,e){return ue(Ye.Z(e),function(n){var i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return ma(n,function(c,d){var w=function Da(t,e){return t.node(e).width}(t,d)/2;i=Math.max(c+w,i),o=Math.min(c-w,o)}),i-o})}(t,i);return function Oa(t,e){var n=Ye.Z(e),i=g(n),o=Nt(n);s.Z(["u","d"],function(c){s.Z(["l","r"],function(d){var K,w=c+d,R=t[w];if(R!==e){var H=Ye.Z(R);(K="l"===d?i-g(H):o-Nt(H))&&(t[w]=Ut(R,function(vt){return vt+K}))}})})}(i,c),function Aa(t,e){return Ut(t.ul,function(n,i){if(e)return t[e.toLowerCase()][i];var o=He(O.Z(t,i));return(o[1]+o[2])/2})}(i,t.graph().align)}function Ma(t,e){var n=e&&e.debugTiming?Ot:Jt;n("layout",function(){var i=n("  buildLayoutGraph",function(){return function Xa(t){var e=new T.k({multigraph:!0,compound:!0}),n=an(t.graph());return e.setGraph(zt({},Ua,rn(n,Na),y.Z(n,Fa))),s.Z(t.nodes(),function(i){var o=an(t.node(i));e.setNode(i,l.Z(rn(o,Wa),Ka)),e.setParent(i,t.parent(i))}),s.Z(t.edges(),function(i){var o=an(t.edge(i));e.setEdge(i,zt({},$a,rn(o,ja),y.Z(o,Ga)))}),e}(t)});n("  runLayout",function(){!function ka(t,e){e("    makeSpaceForEdgeLabels",function(){!function Ya(t){var e=t.graph();e.ranksep/=2,s.Z(t.edges(),function(n){var i=t.edge(n);i.minlen*=2,"c"!==i.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)})}(t)}),e("    removeSelfEdges",function(){!function ns(t){s.Z(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}(t)}),e("    acyclic",function(){ct(t)}),e("    nestingGraph.run",function(){Tr(t)}),e("    rank",function(){br(S(t))}),e("    injectEdgeLabelProxies",function(){!function Ha(t){s.Z(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var i=t.node(e.v),o=t.node(e.w);b(t,"edge-proxy",{rank:(o.rank-i.rank)/2+i.rank,e},"_ep")}})}(t)}),e("    removeEmptyRanks",function(){!function G(t){var e=g(O.Z(t.nodes(),function(c){return t.node(c).rank})),n=[];s.Z(t.nodes(),function(c){var d=t.node(c).rank-e;n[d]||(n[d]=[]),n[d].push(c)});var i=0,o=t.graph().nodeRankFactor;s.Z(n,function(c,d){kt.Z(c)&&d%o!=0?--i:i&&s.Z(c,function(w){t.node(w).rank+=i})})}(t)}),e("    nestingGraph.cleanup",function(){!function Lr(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,s.Z(t.edges(),function(n){t.edge(n).nestingEdge&&t.removeEdge(n)})}(t)}),e("    normalizeRanks",function(){!function L(t){var e=g(O.Z(t.nodes(),function(n){return t.node(n).rank}));s.Z(t.nodes(),function(n){var i=t.node(n);m.Z(i,"rank")&&(i.rank-=e)})}(t)}),e("    assignRankMinMax",function(){!function Va(t){var e=0;s.Z(t.nodes(),function(n){var i=t.node(n);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=Nt(e,i.maxRank))}),t.graph().maxRank=e}(t)}),e("    removeEdgeLabelProxies",function(){!function za(t){s.Z(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}(t)}),e("    normalize.run",function(){!function gt(t){t.graph().dummyChains=[],s.Z(t.edges(),function(e){!function Bt(t,e){var n=e.v,i=t.node(n).rank,o=e.w,c=t.node(o).rank,d=e.name,w=t.edge(e),R=w.labelRank;if(c!==i+1){var K,H,vt;for(t.removeEdge(e),vt=0,++i;i<c;++vt,++i)w.points=[],K=b(t,"edge",H={width:0,height:0,edgeLabel:w,edgeObj:e,rank:i},"_d"),i===R&&(H.width=w.width,H.height=w.height,H.dummy="edge-label",H.labelpos=w.labelpos),t.setEdge(n,K,{weight:w.weight},d),0===vt&&t.graph().dummyChains.push(K),n=K;t.setEdge(n,o,{weight:w.weight},d)}}(t,e)})}(t)}),e("    parentDummyChains",function(){!function ha(t){var e=function _a(t){var e={},n=0;return s.Z(t.children(),function i(o){var c=n;s.Z(t.children(o),i),e[o]={low:c,lim:n++}}),e}(t);s.Z(t.graph().dummyChains,function(n){for(var i=t.node(n),o=i.edgeObj,c=function pa(t,e,n,i){var R,K,o=[],c=[],d=Math.min(e[n].low,e[i].low),w=Math.max(e[n].lim,e[i].lim);R=n;do{R=t.parent(R),o.push(R)}while(R&&(e[R].low>d||w>e[R].lim));for(K=R,R=i;(R=t.parent(R))!==K;)c.push(R);return{path:o.concat(c.reverse()),lca:K}}(t,e,o.v,o.w),d=c.path,w=c.lca,R=0,K=d[R],H=!0;n!==o.w;){if(i=t.node(n),H){for(;(K=d[R])!==w&&t.node(K).maxRank<i.rank;)R++;K===w&&(H=!1)}if(!H){for(;R<d.length-1&&t.node(K=d[R+1]).minRank<=i.rank;)R++;K=d[R]}t.setParent(n,K),n=t.successors(n)[0]}})}(t)}),e("    addBorderSegments",function(){!function ee(t){s.Z(t.children(),function e(n){var i=t.children(n),o=t.node(n);if(i.length&&s.Z(i,e),m.Z(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var c=o.minRank,d=o.maxRank+1;c<d;++c)se(t,"borderLeft","_bl",n,o,c),se(t,"borderRight","_br",n,o,c)}})}(t)}),e("    order",function(){!function da(t){var e=st(t),n=Sn(t,P.Z(1,e+1),"inEdges"),i=Sn(t,P.Z(e-1,-1,-1),"outEdges"),o=function na(t){var e={},n=De.Z(t.nodes(),function(w){return!t.children(w).length}),i=Nt(O.Z(n,function(w){return t.node(w).rank})),o=O.Z(P.Z(i+1),function(){return[]}),d=He(n,function(w){return t.node(w).rank});return s.Z(d,function c(w){if(!m.Z(e,w)){e[w]=!0;var R=t.node(w);o[R.rank].push(w),s.Z(t.successors(w),c)}}),o}(t);Zn(t,o);for(var d,c=Number.POSITIVE_INFINITY,w=0,R=0;R<4;++w,++R){fa(w%2?n:i,w%4>=2);var K=ta(t,o=nt(t));K<c&&(R=0,d=Dr(o),c=K)}Zn(t,d)}(t)}),e("    insertSelfEdges",function(){!function rs(t){var e=nt(t);s.Z(e,function(n){var i=0;s.Z(n,function(o,c){var d=t.node(o);d.order=c+i,s.Z(d.selfEdges,function(w){b(t,"selfedge",{width:w.label.width,height:w.label.height,rank:d.rank,order:c+ ++i,e:w.e,label:w.label},"_se")}),delete d.selfEdges})})}(t)}),e("    adjustCoordinateSystem",function(){!function Pt(t){var e=t.graph().rankdir.toLowerCase();("lr"===e||"rl"===e)&&ye(t)}(t)}),e("    position",function(){!function Ra(t){(function Ia(t){var e=nt(t),n=t.graph().ranksep,i=0;s.Z(e,function(o){var c=Nt(O.Z(o,function(d){return t.node(d).height}));s.Z(o,function(d){t.node(d).y=i+c/2}),i+=c+n})})(t=S(t)),va(Ca(t),function(e,n){t.node(n).x=e})}(t)}),e("    positionSelfEdges",function(){!function as(t){s.Z(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var i=t.node(n.e.v),o=i.x+i.width/2,c=i.y,d=n.x-o,w=i.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:o+2*d/3,y:c-w},{x:o+5*d/6,y:c-w},{x:o+d,y:c},{x:o+5*d/6,y:c+w},{x:o+2*d/3,y:c+w}],n.label.x=n.x,n.label.y=n.y}})}(t)}),e("    removeBorderNodes",function(){!function es(t){s.Z(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),i=t.node(n.borderTop),o=t.node(n.borderBottom),c=t.node(h(n.borderLeft)),d=t.node(h(n.borderRight));n.width=Math.abs(d.x-c.x),n.height=Math.abs(o.y-i.y),n.x=c.x+n.width/2,n.y=i.y+n.height/2}}),s.Z(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}(t)}),e("    normalize.undo",function(){!function Ct(t){s.Z(t.graph().dummyChains,function(e){var o,n=t.node(e),i=n.edgeLabel;for(t.setEdge(n.edgeObj,i);n.dummy;)o=t.successors(e)[0],t.removeNode(e),i.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(i.x=n.x,i.y=n.y,i.width=n.width,i.height=n.height),n=t.node(e=o)})}(t)}),e("    fixupEdgeLabelCoords",function(){!function qa(t){s.Z(t.edges(),function(e){var n=t.edge(e);if(m.Z(n,"x"))switch(("l"===n.labelpos||"r"===n.labelpos)&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(t)}),e("    undoCoordinateSystem",function(){!function ve(t){var e=t.graph().rankdir.toLowerCase();("bt"===e||"rl"===e)&&function fe(t){s.Z(t.nodes(),function(e){ce(t.node(e))}),s.Z(t.edges(),function(e){var n=t.edge(e);s.Z(n.points,ce),m.Z(n,"y")&&ce(n)})}(t),("lr"===e||"rl"===e)&&(function Ee(t){s.Z(t.nodes(),function(e){he(t.node(e))}),s.Z(t.edges(),function(e){var n=t.edge(e);s.Z(n.points,he),m.Z(n,"x")&&he(n)})}(t),ye(t))}(t)}),e("    translateGraph",function(){!function Ja(t){var e=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,o=0,c=t.graph(),d=c.marginx||0,w=c.marginy||0;function R(K){var H=K.x,vt=K.y,Qt=K.width,ne=K.height;e=Math.min(e,H-Qt/2),n=Math.max(n,H+Qt/2),i=Math.min(i,vt-ne/2),o=Math.max(o,vt+ne/2)}s.Z(t.nodes(),function(K){R(t.node(K))}),s.Z(t.edges(),function(K){var H=t.edge(K);m.Z(H,"x")&&R(H)}),e-=d,i-=w,s.Z(t.nodes(),function(K){var H=t.node(K);H.x-=e,H.y-=i}),s.Z(t.edges(),function(K){var H=t.edge(K);s.Z(H.points,function(vt){vt.x-=e,vt.y-=i}),m.Z(H,"x")&&(H.x-=e),m.Z(H,"y")&&(H.y-=i)}),c.width=n-e+d,c.height=o-i+w}(t)}),e("    assignNodeIntersects",function(){!function Qa(t){s.Z(t.edges(),function(e){var c,d,n=t.edge(e),i=t.node(e.v),o=t.node(e.w);n.points?(c=n.points[0],d=n.points[n.points.length-1]):(n.points=[],c=o,d=i),n.points.unshift(mt(i,c)),n.points.push(mt(o,d))})}(t)}),e("    reversePoints",function(){!function ts(t){s.Z(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}(t)}),e("    acyclic.undo",function(){!function q(t){s.Z(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var i=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,i)}})}(t)})}(i,n)}),n("  updateInputGraph",function(){!function Ba(t,e){s.Z(t.nodes(),function(n){var i=t.node(n),o=e.node(n);i&&(i.x=o.x,i.y=o.y,e.children(n).length&&(i.width=o.width,i.height=o.height))}),s.Z(t.edges(),function(n){var i=t.edge(n),o=e.edge(n);i.points=o.points,m.Z(o,"x")&&(i.x=o.x,i.y=o.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,i)})})}var Na=["nodesep","edgesep","ranksep","marginx","marginy"],Ua={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Fa=["acyclicer","ranker","rankdir","align"],Wa=["width","height"],Ka={width:0,height:0},ja=["minlen","weight","width","height","labeloffset"],$a={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Ga=["labelpos"];function rn(t,e){return Ut(y.Z(t,e),Number)}function an(t){var e={};return s.Z(t,function(n,i){e[i.toLowerCase()]=n}),e}},4790:(wt,B,a)=>{a.d(B,{k:()=>re});var s=a(8627),Z=a(2935),m=a(4842),u=a(4181),A=a(6232),O=a(6390),P=a(9547),T=a(7002),F=a(4583),J=a(2447),Q=a(342),I=a(8568);const W=function X(jt){return jt!=jt},q=function ot(jt,M){return!(null==jt||!jt.length)&&function U(jt,M,V){return M==M?function k(jt,M,V){for(var Lt=V-1,Rt=jt.length;++Lt<Rt;)if(jt[Lt]===M)return Lt;return-1}(jt,M,V):(0,I.Z)(jt,W,V)}(jt,M,0)>-1},ft=function rt(jt,M,V){for(var Lt=-1,Rt=null==jt?0:jt.length;++Lt<Rt;)if(V(M,jt[Lt]))return!0;return!1};var Tt=a(6614),ht=a(4402);var Gt=a(7799);const _e=ht.Z&&1/(0,Gt.Z)(new ht.Z([,-0]))[1]==1/0?function(jt){return new ht.Z(jt)}:function Wt(){};var D=a(9568);const at=(0,J.Z)(function(jt){return function j(jt,M,V){var Lt=-1,Rt=q,Vt=jt.length,zt=!0,y=[],l=y;if(V)zt=!1,Rt=ft;else if(Vt>=200){var f=M?null:_e(jt);if(f)return(0,Gt.Z)(f);zt=!1,Rt=Tt.Z,l=new Q.Z}else l=M?[]:y;t:for(;++Lt<Vt;){var v=jt[Lt],N=M?M(v):v;if(v=V||0!==v?v:0,zt&&N==N){for(var it=l.length;it--;)if(l[it]===N)continue t;M&&l.push(N),y.push(v)}else Rt(l,N,V)||(l!==y&&l.push(N),y.push(v))}return y}((0,F.Z)(jt,1,D.Z,!0))});var yt=a(7402),Ht=a(2621),_t="\0",le="\x01";class re{constructor(M={}){this._isDirected=!s.Z(M,"directed")||M.directed,this._isMultigraph=!!s.Z(M,"multigraph")&&M.multigraph,this._isCompound=!!s.Z(M,"compound")&&M.compound,this._label=void 0,this._defaultNodeLabelFn=Z.Z(void 0),this._defaultEdgeLabelFn=Z.Z(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(M){return this._label=M,this}graph(){return this._label}setDefaultNodeLabel(M){return m.Z(M)||(M=Z.Z(M)),this._defaultNodeLabelFn=M,this}nodeCount(){return this._nodeCount}nodes(){return u.Z(this._nodes)}sources(){var M=this;return A.Z(this.nodes(),function(V){return O.Z(M._in[V])})}sinks(){var M=this;return A.Z(this.nodes(),function(V){return O.Z(M._out[V])})}setNodes(M,V){var Lt=arguments,Rt=this;return P.Z(M,function(Vt){Lt.length>1?Rt.setNode(Vt,V):Rt.setNode(Vt)}),this}setNode(M,V){return s.Z(this._nodes,M)?(arguments.length>1&&(this._nodes[M]=V),this):(this._nodes[M]=arguments.length>1?V:this._defaultNodeLabelFn(M),this._isCompound&&(this._parent[M]="\0",this._children[M]={},this._children["\0"][M]=!0),this._in[M]={},this._preds[M]={},this._out[M]={},this._sucs[M]={},++this._nodeCount,this)}node(M){return this._nodes[M]}hasNode(M){return s.Z(this._nodes,M)}removeNode(M){var V=this;if(s.Z(this._nodes,M)){var Lt=function(Rt){V.removeEdge(V._edgeObjs[Rt])};delete this._nodes[M],this._isCompound&&(this._removeFromParentsChildList(M),delete this._parent[M],P.Z(this.children(M),function(Rt){V.setParent(Rt)}),delete this._children[M]),P.Z(u.Z(this._in[M]),Lt),delete this._in[M],delete this._preds[M],P.Z(u.Z(this._out[M]),Lt),delete this._out[M],delete this._sucs[M],--this._nodeCount}return this}setParent(M,V){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(T.Z(V))V="\0";else{for(var Lt=V+="";!T.Z(Lt);Lt=this.parent(Lt))if(Lt===M)throw new Error("Setting "+V+" as parent of "+M+" would create a cycle");this.setNode(V)}return this.setNode(M),this._removeFromParentsChildList(M),this._parent[M]=V,this._children[V][M]=!0,this}_removeFromParentsChildList(M){delete this._children[this._parent[M]][M]}parent(M){if(this._isCompound){var V=this._parent[M];if("\0"!==V)return V}}children(M){if(T.Z(M)&&(M="\0"),this._isCompound){var V=this._children[M];if(V)return u.Z(V)}else{if("\0"===M)return this.nodes();if(this.hasNode(M))return[]}}predecessors(M){var V=this._preds[M];if(V)return u.Z(V)}successors(M){var V=this._sucs[M];if(V)return u.Z(V)}neighbors(M){var V=this.predecessors(M);if(V)return at(V,this.successors(M))}isLeaf(M){return 0===(this.isDirected()?this.successors(M):this.neighbors(M)).length}filterNodes(M){var V=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});V.setGraph(this.graph());var Lt=this;P.Z(this._nodes,function(zt,y){M(y)&&V.setNode(y,zt)}),P.Z(this._edgeObjs,function(zt){V.hasNode(zt.v)&&V.hasNode(zt.w)&&V.setEdge(zt,Lt.edge(zt))});var Rt={};function Vt(zt){var y=Lt.parent(zt);return void 0===y||V.hasNode(y)?(Rt[zt]=y,y):y in Rt?Rt[y]:Vt(y)}return this._isCompound&&P.Z(V.nodes(),function(zt){V.setParent(zt,Vt(zt))}),V}setDefaultEdgeLabel(M){return m.Z(M)||(M=Z.Z(M)),this._defaultEdgeLabelFn=M,this}edgeCount(){return this._edgeCount}edges(){return yt.Z(this._edgeObjs)}setPath(M,V){var Lt=this,Rt=arguments;return Ht.Z(M,function(Vt,zt){return Rt.length>1?Lt.setEdge(Vt,zt,V):Lt.setEdge(Vt,zt),zt}),this}setEdge(){var M,V,Lt,Rt,Vt=!1,zt=arguments[0];"object"==typeof zt&&null!==zt&&"v"in zt?(M=zt.v,V=zt.w,Lt=zt.name,2===arguments.length&&(Rt=arguments[1],Vt=!0)):(M=zt,V=arguments[1],Lt=arguments[3],arguments.length>2&&(Rt=arguments[2],Vt=!0)),M=""+M,V=""+V,T.Z(Lt)||(Lt=""+Lt);var y=qt(this._isDirected,M,V,Lt);if(s.Z(this._edgeLabels,y))return Vt&&(this._edgeLabels[y]=Rt),this;if(!T.Z(Lt)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(M),this.setNode(V),this._edgeLabels[y]=Vt?Rt:this._defaultEdgeLabelFn(M,V,Lt);var l=function be(jt,M,V,Lt){var Rt=""+M,Vt=""+V;if(!jt&&Rt>Vt){var zt=Rt;Rt=Vt,Vt=zt}var y={v:Rt,w:Vt};return Lt&&(y.name=Lt),y}(this._isDirected,M,V,Lt);return M=l.v,V=l.w,Object.freeze(l),this._edgeObjs[y]=l,At(this._preds[V],M),At(this._sucs[M],V),this._in[V][y]=l,this._out[M][y]=l,this._edgeCount++,this}edge(M,V,Lt){var Rt=1===arguments.length?Ze(this._isDirected,arguments[0]):qt(this._isDirected,M,V,Lt);return this._edgeLabels[Rt]}hasEdge(M,V,Lt){var Rt=1===arguments.length?Ze(this._isDirected,arguments[0]):qt(this._isDirected,M,V,Lt);return s.Z(this._edgeLabels,Rt)}removeEdge(M,V,Lt){var Rt=1===arguments.length?Ze(this._isDirected,arguments[0]):qt(this._isDirected,M,V,Lt),Vt=this._edgeObjs[Rt];return Vt&&(M=Vt.v,V=Vt.w,delete this._edgeLabels[Rt],delete this._edgeObjs[Rt],St(this._preds[V],M),St(this._sucs[M],V),delete this._in[V][Rt],delete this._out[M][Rt],this._edgeCount--),this}inEdges(M,V){var Lt=this._in[M];if(Lt){var Rt=yt.Z(Lt);return V?A.Z(Rt,function(Vt){return Vt.v===V}):Rt}}outEdges(M,V){var Lt=this._out[M];if(Lt){var Rt=yt.Z(Lt);return V?A.Z(Rt,function(Vt){return Vt.w===V}):Rt}}nodeEdges(M,V){var Lt=this.inEdges(M,V);if(Lt)return Lt.concat(this.outEdges(M,V))}}function At(jt,M){jt[M]?jt[M]++:jt[M]=1}function St(jt,M){--jt[M]||delete jt[M]}function qt(jt,M,V,Lt){var Rt=""+M,Vt=""+V;if(!jt&&Rt>Vt){var zt=Rt;Rt=Vt,Vt=zt}return Rt+le+Vt+le+(T.Z(Lt)?_t:Lt)}function Ze(jt,M){return qt(jt,M.v,M.w,M.name)}re.prototype._nodeCount=0,re.prototype._edgeCount=0},5346:(wt,B,a)=>{a.d(B,{k:()=>s.k});var s=a(4790)},2338:(wt,B,a)=>{a.d(B,{c:()=>T});var s=a(7002),Z=a(3143);const A=function u(I){return(0,Z.Z)(I,4)};var O=a(4550);function T(I){var X={options:{directed:I.isDirected(),multigraph:I.isMultigraph(),compound:I.isCompound()},nodes:F(I),edges:J(I)};return s.Z(I.graph())||(X.value=A(I.graph())),X}function F(I){return O.Z(I.nodes(),function(X){var W=I.node(X),k=I.parent(X),Y={v:X};return s.Z(W)||(Y.value=W),s.Z(k)||(Y.parent=k),Y})}function J(I){return O.Z(I.edges(),function(X){var W=I.edge(X),k={v:X.v,w:X.w};return s.Z(X.name)||(k.name=X.name),s.Z(W)||(k.value=W),k})}a(4790)},342:(wt,B,a)=>{a.d(B,{Z:()=>T});var s=a(8410);function P(F){var J=-1,Q=null==F?0:F.length;for(this.__data__=new s.Z;++J<Q;)this.add(F[J])}P.prototype.add=P.prototype.push=function m(F){return this.__data__.set(F,"__lodash_hash_undefined__"),this},P.prototype.has=function A(F){return this.__data__.has(F)};const T=P},8730:(wt,B,a)=>{a.d(B,{Z:()=>Y});var s=a(7066);var J=a(2847),Q=a(8410);function k(U){var ct=this.__data__=new s.Z(U);this.size=ct.size}k.prototype.clear=function Z(){this.__data__=new s.Z,this.size=0},k.prototype.delete=function u(U){var ct=this.__data__,ot=ct.delete(U);return this.size=ct.size,ot},k.prototype.get=function O(U){return this.__data__.get(U)},k.prototype.has=function T(U){return this.__data__.has(U)},k.prototype.set=function X(U,ct){var ot=this.__data__;if(ot instanceof s.Z){var q=ot.__data__;if(!J.Z||q.length<199)return q.push([U,ct]),this.size=++ot.size,this;ot=this.__data__=new Q.Z(q)}return ot.set(U,ct),this.size=ot.size,this};const Y=k},8475:(wt,B,a)=>{a.d(B,{Z:()=>m});const m=a(4131).Z.Uint8Array},4899:(wt,B,a)=>{a.d(B,{Z:()=>Z});const Z=function s(m,u){for(var A=-1,O=null==m?0:m.length;++A<O&&!1!==u(m[A],A,m););return m}},207:(wt,B,a)=>{a.d(B,{Z:()=>Z});const Z=function s(m,u){for(var A=-1,O=null==m?0:m.length,P=0,T=[];++A<O;){var F=m[A];u(F,A,m)&&(T[P++]=F)}return T}},9416:(wt,B,a)=>{a.d(B,{Z:()=>Q});var m=a(5727),u=a(9977),A=a(7717),O=a(1885),P=a(7227),F=Object.prototype.hasOwnProperty;const Q=function J(I,X){var W=(0,u.Z)(I),k=!W&&(0,m.Z)(I),Y=!W&&!k&&(0,A.Z)(I),U=!W&&!k&&!Y&&(0,P.Z)(I),ct=W||k||Y||U,ot=ct?function s(I,X){for(var W=-1,k=Array(I);++W<I;)k[W]=X(W);return k}(I.length,String):[],q=ot.length;for(var rt in I)(X||F.call(I,rt))&&(!ct||!("length"==rt||Y&&("offset"==rt||"parent"==rt)||U&&("buffer"==rt||"byteLength"==rt||"byteOffset"==rt)||(0,O.Z)(rt,q)))&&ot.push(rt);return ot}},2720:(wt,B,a)=>{a.d(B,{Z:()=>Z});const Z=function s(m,u){for(var A=-1,O=null==m?0:m.length,P=Array(O);++A<O;)P[A]=u(m[A],A,m);return P}},4331:(wt,B,a)=>{a.d(B,{Z:()=>Z});const Z=function s(m,u){for(var A=-1,O=u.length,P=m.length;++A<O;)m[P+A]=u[A];return m}},4416:(wt,B,a)=>{a.d(B,{Z:()=>O});var s=a(6041),Z=a(8418),u=Object.prototype.hasOwnProperty;const O=function A(P,T,F){var J=P[T];(!u.call(P,T)||!(0,Z.Z)(J,F)||void 0===F&&!(T in P))&&(0,s.Z)(P,T,F)}},6041:(wt,B,a)=>{a.d(B,{Z:()=>m});var s=a(5753);const m=function Z(u,A,O){"__proto__"==A&&s.Z?(0,s.Z)(u,A,{configurable:!0,enumerable:!0,value:O,writable:!0}):u[A]=O}},3143:(wt,B,a)=>{a.d(B,{Z:()=>Te});var s=a(8730),Z=a(4899),m=a(4416),u=a(6299),A=a(4181);var T=a(516);var Q=a(4203),I=a(2307),X=a(9695);var Y=a(4331),U=a(5234),ct=a(3534);const rt=Object.getOwnPropertySymbols?function(lt){for(var oe=[];lt;)(0,Y.Z)(oe,(0,X.Z)(lt)),lt=(0,U.Z)(lt);return oe}:ct.Z;var ht=a(4552),Wt=a(6982);const Gt=function Yt(lt){return(0,Wt.Z)(lt,T.Z,rt)};var Ft=a(2211),_e=Object.prototype.hasOwnProperty;var p=a(3776);var at=/\w*$/;var _t=a(6875),Dt=_t.Z?_t.Z.prototype:void 0,le=Dt?Dt.valueOf:void 0;var St=a(3734);const bt=function Nt(lt,oe,Se){var Be=lt.constructor;switch(oe){case"[object ArrayBuffer]":return(0,p.Z)(lt);case"[object Boolean]":case"[object Date]":return new Be(+lt);case"[object DataView]":return function D(lt,oe){var Se=oe?(0,p.Z)(lt.buffer):lt.buffer;return new lt.constructor(Se,lt.byteOffset,lt.byteLength)}(lt,Se);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,St.Z)(lt,Se);case"[object Map]":case"[object Set]":return new Be;case"[object Number]":case"[object String]":return new Be(lt);case"[object RegExp]":return function yt(lt){var oe=new lt.constructor(lt.source,at.exec(lt));return oe.lastIndex=lt.lastIndex,oe}(lt);case"[object Symbol]":return function re(lt){return le?Object(le.call(lt)):{}}(lt)}};var h=a(7324),z=a(9977),ut=a(7717),xt=a(1196);var de=a(8733),Xt=a(5527),g=Xt.Z&&Xt.Z.isMap;const E=g?(0,de.Z)(g):function kt(lt){return(0,xt.Z)(lt)&&"[object Map]"==(0,Ft.Z)(lt)};var C=a(5829);var $=Xt.Z&&Xt.Z.isSet;const mt=$?(0,de.Z)($):function x(lt){return(0,xt.Z)(lt)&&"[object Set]"==(0,Ft.Z)(lt)};var tt="[object Arguments]",ee="[object Function]",ye="[object Object]",ie={};ie[tt]=ie["[object Array]"]=ie["[object ArrayBuffer]"]=ie["[object DataView]"]=ie["[object Boolean]"]=ie["[object Date]"]=ie["[object Float32Array]"]=ie["[object Float64Array]"]=ie["[object Int8Array]"]=ie["[object Int16Array]"]=ie["[object Int32Array]"]=ie["[object Map]"]=ie["[object Number]"]=ie[ye]=ie["[object RegExp]"]=ie["[object Set]"]=ie["[object String]"]=ie["[object Symbol]"]=ie["[object Uint8Array]"]=ie["[object Uint8ClampedArray]"]=ie["[object Uint16Array]"]=ie["[object Uint32Array]"]=!0,ie["[object Error]"]=ie[ee]=ie["[object WeakMap]"]=!1;const Te=function ke(lt,oe,Se,Be,je,xe){var we,Le=1&oe,Ne=2&oe,Re=4&oe;if(Se&&(we=je?Se(lt,Be,je,xe):Se(lt)),void 0!==we)return we;if(!(0,C.Z)(lt))return lt;var De=(0,z.Z)(lt);if(De){if(we=function me(lt){var oe=lt.length,Se=new lt.constructor(oe);return oe&&"string"==typeof lt[0]&&_e.call(lt,"index")&&(Se.index=lt.index,Se.input=lt.input),Se}(lt),!Le)return(0,I.Z)(lt,we)}else{var Oe=(0,Ft.Z)(lt),Ge=Oe==ee||"[object GeneratorFunction]"==Oe;if((0,ut.Z)(lt))return(0,Q.Z)(lt,Le);if(Oe==ye||Oe==tt||Ge&&!je){if(we=Ne||Ge?{}:(0,h.Z)(lt),!Le)return Ne?function ft(lt,oe){return(0,u.Z)(lt,rt(lt),oe)}(lt,function F(lt,oe){return lt&&(0,u.Z)(oe,(0,T.Z)(oe),lt)}(we,lt)):function W(lt,oe){return(0,u.Z)(lt,(0,X.Z)(lt),oe)}(lt,function O(lt,oe){return lt&&(0,u.Z)(oe,(0,A.Z)(oe),lt)}(we,lt))}else{if(!ie[Oe])return je?lt:{};we=bt(lt,Oe,Le)}}xe||(xe=new s.Z);var Ue=xe.get(lt);if(Ue)return Ue;xe.set(lt,we),mt(lt)?lt.forEach(function(Fe){we.add(ke(Fe,oe,Se,Fe,lt,xe))}):E(lt)&&lt.forEach(function(Fe,We){we.set(We,ke(Fe,oe,Se,We,lt,xe))});var Ce=De?void 0:(Re?Ne?Gt:ht.Z:Ne?T.Z:A.Z)(lt);return(0,Z.Z)(Ce||lt,function(Fe,We){Ce&&(Fe=lt[We=Fe]),(0,m.Z)(we,We,ke(Fe,oe,Se,We,lt,xe))}),we}},3789:(wt,B,a)=>{a.d(B,{Z:()=>O});var s=a(4023),Z=a(6247);const O=function m(P,T){return function(F,J){if(null==F)return F;if(!(0,Z.Z)(F))return P(F,J);for(var Q=F.length,I=T?Q:-1,X=Object(F);(T?I--:++I<Q)&&!1!==J(X[I],I,X););return F}}(s.Z)},8568:(wt,B,a)=>{a.d(B,{Z:()=>Z});const Z=function s(m,u,A,O){for(var P=m.length,T=A+(O?1:-1);O?T--:++T<P;)if(u(m[T],T,m))return T;return-1}},4583:(wt,B,a)=>{a.d(B,{Z:()=>F});var s=a(4331),Z=a(6875),m=a(5727),u=a(9977),A=Z.Z?Z.Z.isConcatSpreadable:void 0;const P=function O(J){return(0,u.Z)(J)||(0,m.Z)(J)||!!(A&&J&&J[A])},F=function T(J,Q,I,X,W){var k=-1,Y=J.length;for(I||(I=P),W||(W=[]);++k<Y;){var U=J[k];Q>0&&I(U)?Q>1?T(U,Q-1,I,X,W):(0,s.Z)(W,U):X||(W[W.length]=U)}return W}},4199:(wt,B,a)=>{a.d(B,{Z:()=>u});const u=function s(A){return function(O,P,T){for(var F=-1,J=Object(O),Q=T(O),I=Q.length;I--;){var X=Q[A?I:++F];if(!1===P(J[X],X,J))break}return O}}()},4023:(wt,B,a)=>{a.d(B,{Z:()=>u});var s=a(4199),Z=a(4181);const u=function m(A,O){return A&&(0,s.Z)(A,O,Z.Z)}},4818:(wt,B,a)=>{a.d(B,{Z:()=>u});var s=a(5078),Z=a(7801);const u=function m(A,O){for(var P=0,T=(O=(0,s.Z)(O,A)).length;null!=A&&P<T;)A=A[(0,Z.Z)(O[P++])];return P&&P==T?A:void 0}},6982:(wt,B,a)=>{a.d(B,{Z:()=>u});var s=a(4331),Z=a(9977);const u=function m(A,O,P){var T=O(A);return(0,Z.Z)(A)?T:(0,s.Z)(T,P(A))}},2349:(wt,B,a)=>{a.d(B,{Z:()=>nt});var s=a(8730),Z=a(342);const u=function m(L,G){for(var tt=-1,st=null==L?0:L.length;++tt<st;)if(G(L[tt],tt,L))return!0;return!1};var A=a(6614);const F=function T(L,G,tt,st,Zt,Ot){var Jt=1&tt,ee=L.length,se=G.length;if(ee!=se&&!(Jt&&se>ee))return!1;var Pt=Ot.get(L),ve=Ot.get(G);if(Pt&&ve)return Pt==G&&ve==L;var ye=-1,ge=!0,fe=2&tt?new Z.Z:void 0;for(Ot.set(L,G),Ot.set(G,L);++ye<ee;){var ce=L[ye],Ee=G[ye];if(st)var he=Jt?st(Ee,ce,ye,G,L,Ot):st(ce,Ee,ye,L,G,Ot);if(void 0!==he){if(he)continue;ge=!1;break}if(fe){if(!u(G,function(gt,Bt){if(!(0,A.Z)(fe,Bt)&&(ce===gt||Zt(ce,gt,tt,st,Ot)))return fe.push(Bt)})){ge=!1;break}}else if(ce!==Ee&&!Zt(ce,Ee,tt,st,Ot)){ge=!1;break}}return Ot.delete(L),Ot.delete(G),ge};var J=a(6875),Q=a(8475),I=a(8418);const W=function X(L){var G=-1,tt=Array(L.size);return L.forEach(function(st,Zt){tt[++G]=[Zt,st]}),tt};var k=a(7799),ae=J.Z?J.Z.prototype:void 0,_e=ae?ae.valueOf:void 0;var p=a(4552),at=Object.prototype.hasOwnProperty;var _t=a(2211),Dt=a(9977),le=a(7717),re=a(7227),St="[object Arguments]",qt="[object Array]",be="[object Object]",jt=Object.prototype.hasOwnProperty;const V=function M(L,G,tt,st,Zt,Ot){var Jt=(0,Dt.Z)(L),ee=(0,Dt.Z)(G),se=Jt?qt:(0,_t.Z)(L),Pt=ee?qt:(0,_t.Z)(G),ve=(se=se==St?be:se)==be,ye=(Pt=Pt==St?be:Pt)==be,ge=se==Pt;if(ge&&(0,le.Z)(L)){if(!(0,le.Z)(G))return!1;Jt=!0,ve=!1}if(ge&&!ve)return Ot||(Ot=new s.Z),Jt||(0,re.Z)(L)?F(L,G,tt,st,Zt,Ot):function me(L,G,tt,st,Zt,Ot,Jt){switch(tt){case"[object DataView]":if(L.byteLength!=G.byteLength||L.byteOffset!=G.byteOffset)return!1;L=L.buffer,G=G.buffer;case"[object ArrayBuffer]":return!(L.byteLength!=G.byteLength||!Ot(new Q.Z(L),new Q.Z(G)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,I.Z)(+L,+G);case"[object Error]":return L.name==G.name&&L.message==G.message;case"[object RegExp]":case"[object String]":return L==G+"";case"[object Map]":var ee=W;case"[object Set]":if(ee||(ee=k.Z),L.size!=G.size&&!(1&st))return!1;var Pt=Jt.get(L);if(Pt)return Pt==G;st|=2,Jt.set(L,G);var ve=F(ee(L),ee(G),st,Zt,Ot,Jt);return Jt.delete(L),ve;case"[object Symbol]":if(_e)return _e.call(L)==_e.call(G)}return!1}(L,G,se,tt,st,Zt,Ot);if(!(1&tt)){var fe=ve&&jt.call(L,"__wrapped__"),ce=ye&&jt.call(G,"__wrapped__");if(fe||ce){var Ee=fe?L.value():L,he=ce?G.value():G;return Ot||(Ot=new s.Z),Zt(Ee,he,tt,st,Ot)}}return!!ge&&(Ot||(Ot=new s.Z),function yt(L,G,tt,st,Zt,Ot){var Jt=1&tt,ee=(0,p.Z)(L),se=ee.length;if(se!=(0,p.Z)(G).length&&!Jt)return!1;for(var ye=se;ye--;){var ge=ee[ye];if(!(Jt?ge in G:at.call(G,ge)))return!1}var fe=Ot.get(L),ce=Ot.get(G);if(fe&&ce)return fe==G&&ce==L;var Ee=!0;Ot.set(L,G),Ot.set(G,L);for(var he=Jt;++ye<se;){var gt=L[ge=ee[ye]],Bt=G[ge];if(st)var Ct=Jt?st(Bt,gt,ge,G,L,Ot):st(gt,Bt,ge,L,G,Ot);if(!(void 0===Ct?gt===Bt||Zt(gt,Bt,tt,st,Ot):Ct)){Ee=!1;break}he||(he="constructor"==ge)}if(Ee&&!he){var te=L.constructor,ue=G.constructor;te!=ue&&"constructor"in L&&"constructor"in G&&!("function"==typeof te&&te instanceof te&&"function"==typeof ue&&ue instanceof ue)&&(Ee=!1)}return Ot.delete(L),Ot.delete(G),Ee}(L,G,tt,st,Zt,Ot))};var Lt=a(1196);const Vt=function Rt(L,G,tt,st,Zt){return L===G||(null==L||null==G||!(0,Lt.Z)(L)&&!(0,Lt.Z)(G)?L!=L&&G!=G:V(L,G,tt,st,Rt,Zt))};var v=a(5829);const it=function N(L){return L==L&&!(0,v.Z)(L)};var It=a(4181);const bt=function Nt(L,G){return function(tt){return null!=tt&&tt[L]===G&&(void 0!==G||L in Object(tt))}},z=function h(L){var G=function dt(L){for(var G=(0,It.Z)(L),tt=G.length;tt--;){var st=G[tt],Zt=L[st];G[tt]=[st,Zt,it(Zt)]}return G}(L);return 1==G.length&&G[0][2]?bt(G[0][0],G[0][1]):function(tt){return tt===L||function l(L,G,tt,st){var Zt=tt.length,Ot=Zt,Jt=!st;if(null==L)return!Ot;for(L=Object(L);Zt--;){var ee=tt[Zt];if(Jt&&ee[2]?ee[1]!==L[ee[0]]:!(ee[0]in L))return!1}for(;++Zt<Ot;){var se=(ee=tt[Zt])[0],Pt=L[se],ve=ee[1];if(Jt&&ee[2]){if(void 0===Pt&&!(se in L))return!1}else{var ye=new s.Z;if(st)var ge=st(Pt,ve,se,L,G,ye);if(!(void 0===ge?Vt(ve,Pt,3,st,ye):ge))return!1}}return!0}(tt,L,G)}};var ut=a(4818);var kt=a(5094),Kt=a(6331),de=a(7801);const E=function r(L,G){return(0,Kt.Z)(L)&&it(G)?bt((0,de.Z)(L),G):function(tt){var st=function xt(L,G,tt){var st=null==L?void 0:(0,ut.Z)(L,G);return void 0===st?tt:st}(tt,L);return void 0===st&&st===G?(0,kt.Z)(tt,L):Vt(G,st,3)}};var C=a(1974),b=a(7740);const et=function $(L){return(0,Kt.Z)(L)?(0,b.Z)((0,de.Z)(L)):function x(L){return function(G){return(0,ut.Z)(G,L)}}(L)},nt=function mt(L){return"function"==typeof L?L:null==L?C.Z:"object"==typeof L?(0,Dt.Z)(L)?E(L[0],L[1]):z(L):et(L)}},2436:(wt,B,a)=>{a.d(B,{Z:()=>u});var s=a(3789),Z=a(6247);const u=function m(A,O){var P=-1,T=(0,Z.Z)(A)?Array(A.length):[];return(0,s.Z)(A,function(F,J,Q){T[++P]=O(F,J,Q)}),T}},7740:(wt,B,a)=>{a.d(B,{Z:()=>Z});const Z=function s(m){return function(u){return u?.[m]}}},2447:(wt,B,a)=>{a.d(B,{Z:()=>A});var s=a(1974),Z=a(9007),m=a(7304);const A=function u(O,P){return(0,m.Z)((0,Z.Z)(O,P,s.Z),O+"")}},6614:(wt,B,a)=>{a.d(B,{Z:()=>Z});const Z=function s(m,u){return m.has(u)}},8606:(wt,B,a)=>{a.d(B,{Z:()=>m});var s=a(1974);const m=function Z(u){return"function"==typeof u?u:s.Z}},5078:(wt,B,a)=>{a.d(B,{Z:()=>X});var s=a(9977),Z=a(6331),m=a(4961),P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T=/\\(\\)?/g;const J=function A(W){var k=(0,m.Z)(W,function(U){return 500===Y.size&&Y.clear(),U}),Y=k.cache;return k}(function(W){var k=[];return 46===W.charCodeAt(0)&&k.push(""),W.replace(P,function(Y,U,ct,ot){k.push(ct?ot.replace(T,"$1"):U||Y)}),k});var Q=a(4471);const X=function I(W,k){return(0,s.Z)(W)?W:(0,Z.Z)(W,k)?[W]:J((0,Q.Z)(W))}},3776:(wt,B,a)=>{a.d(B,{Z:()=>m});var s=a(8475);const m=function Z(u){var A=new u.constructor(u.byteLength);return new s.Z(A).set(new s.Z(u)),A}},4203:(wt,B,a)=>{a.d(B,{Z:()=>T});var s=a(4131),Z="object"==typeof exports&&exports&&!exports.nodeType&&exports,m=Z&&"object"==typeof module&&module&&!module.nodeType&&module,A=m&&m.exports===Z?s.Z.Buffer:void 0,O=A?A.allocUnsafe:void 0;const T=function P(F,J){if(J)return F.slice();var Q=F.length,I=O?O(Q):new F.constructor(Q);return F.copy(I),I}},3734:(wt,B,a)=>{a.d(B,{Z:()=>m});var s=a(3776);const m=function Z(u,A){var O=A?(0,s.Z)(u.buffer):u.buffer;return new u.constructor(O,u.byteOffset,u.length)}},2307:(wt,B,a)=>{a.d(B,{Z:()=>Z});const Z=function s(m,u){var A=-1,O=m.length;for(u||(u=Array(O));++A<O;)u[A]=m[A];return u}},6299:(wt,B,a)=>{a.d(B,{Z:()=>u});var s=a(4416),Z=a(6041);const u=function m(A,O,P,T){var F=!P;P||(P={});for(var J=-1,Q=O.length;++J<Q;){var I=O[J],X=T?T(P[I],A[I],I,P,A):void 0;void 0===X&&(X=A[I]),F?(0,Z.Z)(P,I,X):(0,s.Z)(P,I,X)}return P}},5753:(wt,B,a)=>{a.d(B,{Z:()=>m});var s=a(2656);const m=function(){try{var u=(0,s.Z)(Object,"defineProperty");return u({},"",{}),u}catch{}}()},4552:(wt,B,a)=>{a.d(B,{Z:()=>A});var s=a(6982),Z=a(9695),m=a(4181);const A=function u(O){return(0,s.Z)(O,m.Z,Z.Z)}},5234:(wt,B,a)=>{a.d(B,{Z:()=>m});const m=(0,a(2667).Z)(Object.getPrototypeOf,Object)},9695:(wt,B,a)=>{a.d(B,{Z:()=>P});var s=a(207),Z=a(3534),u=Object.prototype.propertyIsEnumerable,A=Object.getOwnPropertySymbols;const P=A?function(T){return null==T?[]:(T=Object(T),(0,s.Z)(A(T),function(F){return u.call(T,F)}))}:Z.Z},857:(wt,B,a)=>{a.d(B,{Z:()=>T});var s=a(5078),Z=a(5727),m=a(9977),u=a(1885),A=a(4018),O=a(7801);const T=function P(F,J,Q){for(var I=-1,X=(J=(0,s.Z)(J,F)).length,W=!1;++I<X;){var k=(0,O.Z)(J[I]);if(!(W=null!=F&&Q(F,k)))break;F=F[k]}return W||++I!=X?W:!!(X=null==F?0:F.length)&&(0,A.Z)(X)&&(0,u.Z)(k,X)&&((0,m.Z)(F)||(0,Z.Z)(F))}},7324:(wt,B,a)=>{a.d(B,{Z:()=>T});var s=a(5829),Z=Object.create;const u=function(){function F(){}return function(J){if(!(0,s.Z)(J))return{};if(Z)return Z(J);F.prototype=J;var Q=new F;return F.prototype=void 0,Q}}();var A=a(5234),O=a(801);const T=function P(F){return"function"!=typeof F.constructor||(0,O.Z)(F)?{}:u((0,A.Z)(F))}},1885:(wt,B,a)=>{a.d(B,{Z:()=>u});var Z=/^(?:0|[1-9]\d*)$/;const u=function m(A,O){var P=typeof A;return!!(O=O??9007199254740991)&&("number"==P||"symbol"!=P&&Z.test(A))&&A>-1&&A%1==0&&A<O}},1799:(wt,B,a)=>{a.d(B,{Z:()=>O});var s=a(8418),Z=a(6247),m=a(1885),u=a(5829);const O=function A(P,T,F){if(!(0,u.Z)(F))return!1;var J=typeof T;return!!("number"==J?(0,Z.Z)(F)&&(0,m.Z)(T,F.length):"string"==J&&T in F)&&(0,s.Z)(F[T],P)}},6331:(wt,B,a)=>{a.d(B,{Z:()=>O});var s=a(9977),Z=a(7106),m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;const O=function A(P,T){if((0,s.Z)(P))return!1;var F=typeof P;return!("number"!=F&&"symbol"!=F&&"boolean"!=F&&null!=P&&!(0,Z.Z)(P))||u.test(P)||!m.test(P)||null!=T&&P in Object(T)}},9007:(wt,B,a)=>{a.d(B,{Z:()=>A});var m=Math.max;const A=function u(O,P,T){return P=m(void 0===P?O.length-1:P,0),function(){for(var F=arguments,J=-1,Q=m(F.length-P,0),I=Array(Q);++J<Q;)I[J]=F[P+J];J=-1;for(var X=Array(P+1);++J<P;)X[J]=F[J];return X[P]=T(I),function s(O,P,T){switch(T.length){case 0:return O.call(P);case 1:return O.call(P,T[0]);case 2:return O.call(P,T[0],T[1]);case 3:return O.call(P,T[0],T[1],T[2])}return O.apply(P,T)}(O,this,X)}}},7799:(wt,B,a)=>{a.d(B,{Z:()=>Z});const Z=function s(m){var u=-1,A=Array(m.size);return m.forEach(function(O){A[++u]=O}),A}},7304:(wt,B,a)=>{a.d(B,{Z:()=>I});var s=a(2935),Z=a(5753),m=a(1974),T=Date.now;const I=function F(X){var W=0,k=0;return function(){var Y=T(),U=16-(Y-k);if(k=Y,U>0){if(++W>=800)return arguments[0]}else W=0;return X.apply(void 0,arguments)}}(Z.Z?function(X,W){return(0,Z.Z)(X,"toString",{configurable:!0,enumerable:!1,value:(0,s.Z)(W),writable:!0})}:m.Z)},7801:(wt,B,a)=>{a.d(B,{Z:()=>u});var s=a(7106);const u=function m(A){if("string"==typeof A||(0,s.Z)(A))return A;var O=A+"";return"0"==O&&1/A==-1/0?"-0":O}},2935:(wt,B,a)=>{a.d(B,{Z:()=>Z});const Z=function s(m){return function(){return m}}},8123:(wt,B,a)=>{a.d(B,{Z:()=>T});var s=a(2447),Z=a(8418),m=a(1799),u=a(516),A=Object.prototype,O=A.hasOwnProperty;const T=(0,s.Z)(function(F,J){F=Object(F);var Q=-1,I=J.length,X=I>2?J[2]:void 0;for(X&&(0,m.Z)(J[0],J[1],X)&&(I=1);++Q<I;)for(var W=J[Q],k=(0,u.Z)(W),Y=-1,U=k.length;++Y<U;){var ct=k[Y],ot=F[ct];(void 0===ot||(0,Z.Z)(ot,A[ct])&&!O.call(F,ct))&&(F[ct]=W[ct])}return F})},6232:(wt,B,a)=>{a.d(B,{Z:()=>T});var s=a(207),Z=a(3789);const u=function m(F,J){var Q=[];return(0,Z.Z)(F,function(I,X,W){J(I,X,W)&&Q.push(I)}),Q};var A=a(2349),O=a(9977);const T=function P(F,J){return((0,O.Z)(F)?s.Z:u)(F,(0,A.Z)(J,3))}},7506:(wt,B,a)=>{a.d(B,{Z:()=>m});var s=a(4583);const m=function Z(u){return null!=u&&u.length?(0,s.Z)(u,1):[]}},9547:(wt,B,a)=>{a.d(B,{Z:()=>O});var s=a(4899),Z=a(3789),m=a(8606),u=a(9977);const O=function A(P,T){return((0,u.Z)(P)?s.Z:Z.Z)(P,(0,m.Z)(T))}},8627:(wt,B,a)=>{a.d(B,{Z:()=>P});var Z=Object.prototype.hasOwnProperty;const u=function m(T,F){return null!=T&&Z.call(T,F)};var A=a(857);const P=function O(T,F){return null!=T&&(0,A.Z)(T,F,u)}},5094:(wt,B,a)=>{a.d(B,{Z:()=>A});const Z=function s(O,P){return null!=O&&P in Object(O)};var m=a(857);const A=function u(O,P){return null!=O&&(0,m.Z)(O,P,Z)}},1974:(wt,B,a)=>{a.d(B,{Z:()=>Z});const Z=function s(m){return m}},9568:(wt,B,a)=>{a.d(B,{Z:()=>u});var s=a(6247),Z=a(1196);const u=function m(A){return(0,Z.Z)(A)&&(0,s.Z)(A)}},5511:(wt,B,a)=>{a.d(B,{Z:()=>Q});var s=a(3844),Z=a(5234),m=a(1196),P=Function.prototype.toString,T=Object.prototype.hasOwnProperty,F=P.call(Object);const Q=function J(I){if(!(0,m.Z)(I)||"[object Object]"!=(0,s.Z)(I))return!1;var X=(0,Z.Z)(I);if(null===X)return!0;var W=T.call(X,"constructor")&&X.constructor;return"function"==typeof W&&W instanceof W&&P.call(W)==F}},7106:(wt,B,a)=>{a.d(B,{Z:()=>A});var s=a(3844),Z=a(1196);const A=function u(O){return"symbol"==typeof O||(0,Z.Z)(O)&&"[object Symbol]"==(0,s.Z)(O)}},7002:(wt,B,a)=>{a.d(B,{Z:()=>Z});const Z=function s(m){return void 0===m}},4181:(wt,B,a)=>{a.d(B,{Z:()=>A});var s=a(9416),Z=a(8217),m=a(6247);const A=function u(O){return(0,m.Z)(O)?(0,s.Z)(O):(0,Z.Z)(O)}},516:(wt,B,a)=>{a.d(B,{Z:()=>I});var s=a(9416),Z=a(5829),m=a(801);var P=Object.prototype.hasOwnProperty;const F=function T(X){if(!(0,Z.Z)(X))return function u(X){var W=[];if(null!=X)for(var k in Object(X))W.push(k);return W}(X);var W=(0,m.Z)(X),k=[];for(var Y in X)"constructor"==Y&&(W||!P.call(X,Y))||k.push(Y);return k};var J=a(6247);const I=function Q(X){return(0,J.Z)(X)?(0,s.Z)(X,!0):F(X)}},4550:(wt,B,a)=>{a.d(B,{Z:()=>O});var s=a(2720),Z=a(2349),m=a(2436),u=a(9977);const O=function A(P,T){return((0,u.Z)(P)?s.Z:m.Z)(P,(0,Z.Z)(T,3))}},7050:(wt,B,a)=>{a.d(B,{Z:()=>q});var s=a(4818),Z=a(4416),m=a(5078),u=a(1885),A=a(5829),O=a(7801);const T=function P(rt,ft,Tt,ht){if(!(0,A.Z)(rt))return rt;for(var Wt=-1,Yt=(ft=(0,m.Z)(ft,rt)).length,Gt=Yt-1,Ft=rt;null!=Ft&&++Wt<Yt;){var ae=(0,O.Z)(ft[Wt]),_e=Tt;if("__proto__"===ae||"constructor"===ae||"prototype"===ae)return rt;if(Wt!=Gt){var me=Ft[ae];void 0===(_e=ht?ht(me,ae,Ft):void 0)&&(_e=(0,A.Z)(me)?me:(0,u.Z)(ft[Wt+1])?[]:{})}(0,Z.Z)(Ft,ae,_e),Ft=Ft[ae]}return rt};var Q=a(5094);const X=function I(rt,ft){return function F(rt,ft,Tt){for(var ht=-1,Wt=ft.length,Yt={};++ht<Wt;){var Gt=ft[ht],Ft=(0,s.Z)(rt,Gt);Tt(Ft,Gt)&&T(Yt,(0,m.Z)(Gt,rt),Ft)}return Yt}(rt,ft,function(Tt,ht){return(0,Q.Z)(rt,ht)})};var W=a(7506),k=a(9007),Y=a(7304);const q=function U(rt){return(0,Y.Z)((0,k.Z)(rt,void 0,W.Z),rt+"")}(function(rt,ft){return null==rt?{}:X(rt,ft)})},9768:(wt,B,a)=>{a.d(B,{Z:()=>J});var s=Math.ceil,Z=Math.max;var A=a(1799),O=a(231);const J=function P(Q){return function(I,X,W){return W&&"number"!=typeof W&&(0,A.Z)(I,X,W)&&(X=W=void 0),I=(0,O.Z)(I),void 0===X?(X=I,I=0):X=(0,O.Z)(X),function m(Q,I,X,W){for(var k=-1,Y=Z(s((I-Q)/(X||1)),0),U=Array(Y);Y--;)U[W?Y:++k]=Q,Q+=X;return U}(I,X,W=void 0===W?I<X?1:-1:(0,O.Z)(W),Q)}}()},2621:(wt,B,a)=>{a.d(B,{Z:()=>F});const Z=function s(J,Q,I,X){var W=-1,k=null==J?0:J.length;for(X&&k&&(I=J[++W]);++W<k;)I=Q(I,J[W],W,J);return I};var m=a(3789),u=a(2349);const O=function A(J,Q,I,X,W){return W(J,function(k,Y,U){I=X?(X=!1,k):Q(I,k,Y,U)}),I};var P=a(9977);const F=function T(J,Q,I){var X=(0,P.Z)(J)?Z:O,W=arguments.length<3;return X(J,(0,u.Z)(Q,4),I,W,m.Z)}},3534:(wt,B,a)=>{a.d(B,{Z:()=>Z});const Z=function s(){return[]}},231:(wt,B,a)=>{a.d(B,{Z:()=>ot});var s=/\s/;var u=/^\s+/;const O=function A(q){return q&&q.slice(0,function Z(q){for(var rt=q.length;rt--&&s.test(q.charAt(rt)););return rt}(q)+1).replace(u,"")};var P=a(5829),T=a(7106),J=/^[-+]0x[0-9a-f]+$/i,Q=/^0b[01]+$/i,I=/^0o[0-7]+$/i,X=parseInt;var Y=1/0;const ot=function ct(q){return q?(q=function W(q){if("number"==typeof q)return q;if((0,T.Z)(q))return NaN;if((0,P.Z)(q)){var rt="function"==typeof q.valueOf?q.valueOf():q;q=(0,P.Z)(rt)?rt+"":rt}if("string"!=typeof q)return 0===q?q:+q;q=O(q);var ft=Q.test(q);return ft||I.test(q)?X(q.slice(2),ft?2:8):J.test(q)?NaN:+q}(q))===Y||q===-Y?17976931348623157e292*(q<0?-1:1):q==q?q:0:0===q?q:0}},4471:(wt,B,a)=>{a.d(B,{Z:()=>Q});var s=a(6875),Z=a(2720),m=a(9977),u=a(7106),O=s.Z?s.Z.prototype:void 0,P=O?O.toString:void 0;const F=function T(I){if("string"==typeof I)return I;if((0,m.Z)(I))return(0,Z.Z)(I,T)+"";if((0,u.Z)(I))return P?P.call(I):"";var X=I+"";return"0"==X&&1/I==-1/0?"-0":X},Q=function J(I){return null==I?"":F(I)}},902:(wt,B,a)=>{a.d(B,{Z:()=>u});var s=a(4471),Z=0;const u=function m(A){var O=++Z;return(0,s.Z)(A)+O}},7402:(wt,B,a)=>{a.d(B,{Z:()=>O});var s=a(2720);var u=a(4181);const O=function A(P){return null==P?[]:function Z(P,T){return(0,s.Z)(T,function(F){return P[F]})}(P,(0,u.Z)(P))}},9462:(wt,B,a)=>{a.d(B,{c:()=>X}),a(7528);var Z=a(1599),m=a(8096),u=a(1569);function O(W){const k=function A(W){return W.replace(/\n{2,}/g,"\n").replace(/^\s+/gm,"")}(W),U=(0,u.Z.defaultBlockParse)(k);let ct=[[]],ot=0;function q(rt,ft){"text"===rt.type?rt.content.split("\n").forEach((ht,Wt)=>{0!==Wt&&(ot++,ct.push([])),ht.split(" ").forEach(Yt=>{Yt&&ct[ot].push({content:Yt,type:ft||"normal"})})}):("strong"===rt.type||"em"===rt.type)&&rt.content.forEach(Tt=>{q(Tt,rt.type)})}return U.forEach(rt=>{"paragraph"===rt.type&&rt.content.forEach(ft=>{q(ft)})}),ct}function J(W,k,Y){return W.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",k*Y-.1+"em").attr("dy",Y+"em")}function I(W,k){W.text(""),k.forEach((Y,U)=>{W.append("tspan").attr("font-style","em"===Y.type?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight","strong"===Y.type?"bold":"normal").text(0===U?Y.content:" "+Y.content)})}const X=(W,k="",{style:Y="",isTitle:U=!1,classes:ct="",useHtmlLabels:ot=!0,isNode:q=!0,width:rt,addSvgBackground:ft=!1}={})=>{if(Z.l.info("createText",k,Y,U,ct,ot,q,ft),ot){const Tt=function P(W){return(0,u.Z.defaultBlockParse)(W).map(function U(ct){return"text"===ct.type?ct.content.replace(/\n/g,"<br/>"):"strong"===ct.type?`<strong>${ct.content.map(U).join("")}</strong>`:"em"===ct.type?`<em>${ct.content.map(U).join("")}</em>`:"paragraph"===ct.type?`<p>${ct.content.map(U).join("")}</p>`:""}).join("")}(k);return function F(W,k,Y,U){const ct=W.append("foreignObject"),ot=ct.append("xhtml:div");ot.html(`<span class="${k.isNode?"nodeLabel":"edgeLabel"} ${U}" `+(k.labelStyle?'style="'+k.labelStyle+'"':"")+">"+k.label+"</span>"),function T(W,k){k&&W.attr("style",k)}(ot,k.labelStyle),ot.style("display","table-cell"),ot.style("white-space","nowrap"),ot.style("max-width",Y+"px"),ot.attr("xmlns","http://www.w3.org/1999/xhtml");let ft=ot.node().getBoundingClientRect();return ft.width===Y&&(ot.style("display","table"),ot.style("white-space","break-spaces"),ot.style("width",Y+"px"),ft=ot.node().getBoundingClientRect()),ct.style("width",ft.width),ct.style("height",ft.height),ct.node()}(W,{isNode:q,label:(0,m.d)(Tt).replace(/fa[blrs]?:fa-[\w-]+/g,Yt=>`<i class='${Yt.replace(":"," ")}'></i>`),labelStyle:Y.replace("fill:","color:")},rt,ct)}{const Tt=O(k),ht=['"',"'",".",",",":",";","!","?","(",")","[","]","{","}"];let Wt;return Tt.forEach(Gt=>{Gt.forEach(Ft=>{ht.includes(Ft.content)&&Wt&&(Wt.content+=Ft.content,Ft.content=""),Wt=Ft})}),function Q(W,k,Y,U=!1){const ot=k.append("g");let q=ot.insert("rect").attr("class","background");const rt=ot.append("text").attr("y","-10.1");let ft=-1;if(Y.forEach(Tt=>{ft++;let Yt,ht=J(rt,ft,1.1),Wt=[...Tt].reverse(),Gt=[];for(;Wt.length;)Yt=Wt.pop(),Gt.push(Yt),I(ht,Gt),ht.node().getComputedTextLength()>W&&(Gt.pop(),Wt.push(Yt),I(ht,Gt),Gt=[],ft++,ht=J(rt,ft,1.1))}),U){const Tt=rt.node().getBBox(),ht=2;return q.attr("x",-ht).attr("y",-ht).attr("width",Tt.width+2*ht).attr("height",Tt.height+2*ht),ot.node()}return rt.node()}(rt,W,Tt,ft)}}},7194:(wt,B,a)=>{a.d(B,{a:()=>ct,b:()=>Mt,c:()=>ft,d:()=>z,e:()=>It,f:()=>ut,g:()=>Xt,h:()=>Ut,i:()=>p,l:()=>Tt,p:()=>Nt,s:()=>dt,u:()=>ht});var s=a(1599),Z=a(7528),m=a(9462),u=a(8096),A=a(6313),O=a(2083);const U={extension:(g,r,E)=>{s.l.trace("Making markers for ",E),g.append("defs").append("marker").attr("id",r+"-extensionStart").attr("class","marker extension "+r).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),g.append("defs").append("marker").attr("id",r+"-extensionEnd").attr("class","marker extension "+r).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(g,r)=>{g.append("defs").append("marker").attr("id",r+"-compositionStart").attr("class","marker composition "+r).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),g.append("defs").append("marker").attr("id",r+"-compositionEnd").attr("class","marker composition "+r).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(g,r)=>{g.append("defs").append("marker").attr("id",r+"-aggregationStart").attr("class","marker aggregation "+r).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),g.append("defs").append("marker").attr("id",r+"-aggregationEnd").attr("class","marker aggregation "+r).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(g,r)=>{g.append("defs").append("marker").attr("id",r+"-dependencyStart").attr("class","marker dependency "+r).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),g.append("defs").append("marker").attr("id",r+"-dependencyEnd").attr("class","marker dependency "+r).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(g,r)=>{g.append("defs").append("marker").attr("id",r+"-lollipopStart").attr("class","marker lollipop "+r).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point:(g,r)=>{g.append("marker").attr("id",r+"-pointEnd").attr("class","marker "+r).attr("viewBox","0 0 12 20").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),g.append("marker").attr("id",r+"-pointStart").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(g,r)=>{g.append("marker").attr("id",r+"-circleEnd").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),g.append("marker").attr("id",r+"-circleStart").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(g,r)=>{g.append("marker").attr("id",r+"-crossEnd").attr("class","marker cross "+r).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),g.append("marker").attr("id",r+"-crossStart").attr("class","marker cross "+r).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(g,r)=>{g.append("defs").append("marker").attr("id",r+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},ct=(g,r,E,C)=>{r.forEach(b=>{U[b](g,E,C)})},ft=(g,r,E,C)=>{let b=g||"";if("object"==typeof b&&(b=b[0]),(0,s.k)((0,s.g)().flowchart.htmlLabels))return b=b.replace(/\\n|\n/g,"<br />"),s.l.info("vertexText"+b),function q(g){const r=(0,Z.Ys)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),E=r.append("xhtml:div");return E.html('<span class="'+(g.isNode?"nodeLabel":"edgeLabel")+'" '+(g.labelStyle?'style="'+g.labelStyle+'"':"")+">"+g.label+"</span>"),function ot(g,r){r&&g.attr("style",r)}(E,g.labelStyle),E.style("display","inline-block"),E.style("white-space","nowrap"),E.attr("xmlns","http://www.w3.org/1999/xhtml"),r.node()}({isNode:C,label:(0,u.d)(b).replace(/fa[blrs]?:fa-[\w-]+/g,$=>`<i class='${$.replace(":"," ")}'></i>`),labelStyle:r.replace("fill:","color:")});{const x=document.createElementNS("http://www.w3.org/2000/svg","text");x.setAttribute("style",r.replace("color:","fill:"));let S=[];S="string"==typeof b?b.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(b)?b:[];for(const $ of S){const et=document.createElementNS("http://www.w3.org/2000/svg","tspan");et.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),et.setAttribute("dy","1em"),et.setAttribute("x","0"),et.setAttribute("class",E?"title-row":"row"),et.textContent=$.trim(),x.appendChild(et)}return x}},Tt=(g,r,E,C)=>{let b;const x=r.useHtmlLabels||(0,s.k)((0,s.g)().flowchart.htmlLabels);b=E||"node default";const S=g.insert("g").attr("class",b).attr("id",r.domId||r.id),$=S.insert("g").attr("class","label").attr("style",r.labelStyle);let et;et=void 0===r.labelText?"":"string"==typeof r.labelText?r.labelText:r.labelText[0];const mt=$.node();let nt;nt="markdown"===r.labelType?(0,m.c)($,(0,s.b)((0,u.d)(et),(0,s.g)()),{useHtmlLabels:x,width:r.width||(0,s.g)().flowchart.wrappingWidth,classes:"markdown-node-label"}):mt.appendChild(ft((0,s.b)((0,u.d)(et),(0,s.g)()),r.labelStyle,!1,C));let L=nt.getBBox();if((0,s.k)((0,s.g)().flowchart.htmlLabels)){const tt=nt.children[0],st=(0,Z.Ys)(nt);L=tt.getBoundingClientRect(),st.attr("width",L.width),st.attr("height",L.height)}const G=r.padding/2;return $.attr("transform",x?"translate("+-L.width/2+", "+-L.height/2+")":"translate(0, "+-L.height/2+")"),r.centerLabel&&$.attr("transform","translate("+-L.width/2+", "+-L.height/2+")"),$.insert("rect",":first-child"),{shapeSvg:S,bbox:L,halfPadding:G,label:$}},ht=(g,r)=>{const E=r.node().getBBox();g.width=E.width,g.height=E.height};function Wt(g,r,E,C){return g.insert("polygon",":first-child").attr("points",C.map(function(b){return b.x+","+b.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-r/2+","+E/2+")")}function Gt(g,r,E,C){var b=g.x,x=g.y,S=b-C.x,$=x-C.y,et=Math.sqrt(r*r*$*$+E*E*S*S),mt=Math.abs(r*E*S/et);C.x<b&&(mt=-mt);var nt=Math.abs(r*E*$/et);return C.y<x&&(nt=-nt),{x:b+mt,y:x+nt}}function ae(g,r,E,C){var b,x,S,$,et,mt,nt,L,G,tt,st,Zt,Ot;if(tt=(b=r.y-g.y)*C.x+(S=g.x-r.x)*C.y+(et=r.x*g.y-g.x*r.y),!(0!==(G=b*E.x+S*E.y+et)&&0!==tt&&_e(G,tt)||(x=C.y-E.y,$=E.x-C.x,mt=C.x*E.y-E.x*C.y,nt=x*g.x+$*g.y+mt,L=x*r.x+$*r.y+mt,0!==nt&&0!==L&&_e(nt,L)||(st=b*$-x*S,0===st))))return Zt=Math.abs(st/2),{x:(Ot=S*mt-$*et)<0?(Ot-Zt)/st:(Ot+Zt)/st,y:(Ot=x*et-b*mt)<0?(Ot-Zt)/st:(Ot+Zt)/st}}function _e(g,r){return g*r>0}const p=(g,r)=>{var et,mt,E=g.x,C=g.y,b=r.x-E,x=r.y-C,S=g.width/2,$=g.height/2;return Math.abs(x)*S>Math.abs(b)*$?(x<0&&($=-$),et=0===x?0:$*b/x,mt=$):(b<0&&(S=-S),et=S,mt=0===b?0:S*x/b),{x:E+et,y:C+mt}},D={node:function Yt(g,r){return g.intersect(r)},circle:function Ft(g,r,E){return Gt(g,r,r,E)},ellipse:Gt,polygon:function me(g,r,E){var C=g.x,b=g.y,x=[],S=Number.POSITIVE_INFINITY,$=Number.POSITIVE_INFINITY;"function"==typeof r.forEach?r.forEach(function(st){S=Math.min(S,st.x),$=Math.min($,st.y)}):(S=Math.min(S,r.x),$=Math.min($,r.y));for(var et=C-g.width/2-S,mt=b-g.height/2-$,nt=0;nt<r.length;nt++){var L=r[nt],G=r[nt<r.length-1?nt+1:0],tt=ae(g,E,{x:et+L.x,y:mt+L.y},{x:et+G.x,y:mt+G.y});tt&&x.push(tt)}return x.length?(x.length>1&&x.sort(function(st,Zt){var Ot=st.x-E.x,Jt=st.y-E.y,ee=Math.sqrt(Ot*Ot+Jt*Jt),se=Zt.x-E.x,Pt=Zt.y-E.y,ve=Math.sqrt(se*se+Pt*Pt);return ee<ve?-1:ee===ve?0:1}),x[0]):g},rect:p},yt=(g,r)=>{const{shapeSvg:E,bbox:C}=Tt(g,r,void 0,!0),S=C.width+r.padding+(C.height+r.padding),$=[{x:S/2,y:0},{x:S,y:-S/2},{x:S/2,y:-S},{x:0,y:-S/2}];s.l.info("Question main (Circle)");const et=Wt(E,S,S,$);return et.attr("style",r.style),ht(r,et),r.intersect=function(mt){return s.l.warn("Intersect called"),D.polygon(r,$,mt)},E};function M(g,r,E,C){const b=[],x=$=>{b.push($,0)},S=$=>{b.push(0,$)};r.includes("t")?(s.l.debug("add top border"),x(E)):S(E),r.includes("r")?(s.l.debug("add right border"),x(C)):S(C),r.includes("b")?(s.l.debug("add bottom border"),x(E)):S(E),r.includes("l")?(s.l.debug("add left border"),x(C)):S(C),g.attr("stroke-dasharray",b.join(" "))}const l=(g,r,E)=>{const C=g.insert("g").attr("class","node default").attr("id",r.domId||r.id);let b=70,x=10;"LR"===E&&(b=10,x=70);const S=C.append("rect").attr("x",-1*b/2).attr("y",-1*x/2).attr("width",b).attr("height",x).attr("class","fork-join");return ht(r,S),r.height=r.height+r.padding/2,r.width=r.width+r.padding/2,r.intersect=function($){return D.rect(r,$)},C},N={rhombus:yt,question:yt,rect:(g,r)=>{const{shapeSvg:E,bbox:C,halfPadding:b}=Tt(g,r,"node "+r.classes,!0),x=E.insert("rect",":first-child"),S=C.width+r.padding,$=C.height+r.padding;if(x.attr("class","basic label-container").attr("style",r.style).attr("rx",r.rx).attr("ry",r.ry).attr("x",-C.width/2-b).attr("y",-C.height/2-b).attr("width",S).attr("height",$),r.props){const et=new Set(Object.keys(r.props));r.props.borders&&(M(x,r.props.borders,S,$),et.delete("borders")),et.forEach(mt=>{s.l.warn(`Unknown node property ${mt}`)})}return ht(r,x),r.intersect=function(et){return D.rect(r,et)},E},labelRect:(g,r)=>{const{shapeSvg:E}=Tt(g,r,"label",!0);s.l.trace("Classes = ",r.classes);const C=E.insert("rect",":first-child");if(C.attr("width",0).attr("height",0),E.attr("class","label edgeLabel"),r.props){const S=new Set(Object.keys(r.props));r.props.borders&&(M(C,r.props.borders,0,0),S.delete("borders")),S.forEach($=>{s.l.warn(`Unknown node property ${$}`)})}return ht(r,C),r.intersect=function(S){return D.rect(r,S)},E},rectWithTitle:(g,r)=>{let E;E=r.classes?"node "+r.classes:"node default";const C=g.insert("g").attr("class",E).attr("id",r.domId||r.id),b=C.insert("rect",":first-child"),x=C.insert("line"),S=C.insert("g").attr("class","label"),$=r.labelText.flat?r.labelText.flat():r.labelText;let et="";et="object"==typeof $?$[0]:$,s.l.info("Label text abc79",et,$,"object"==typeof $);const mt=S.node().appendChild(ft(et,r.labelStyle,!0,!0));let nt={width:0,height:0};if((0,s.k)((0,s.g)().flowchart.htmlLabels)){const Zt=mt.children[0],Ot=(0,Z.Ys)(mt);nt=Zt.getBoundingClientRect(),Ot.attr("width",nt.width),Ot.attr("height",nt.height)}s.l.info("Text 2",$);const L=$.slice(1,$.length);let G=mt.getBBox();const tt=S.node().appendChild(ft(L.join?L.join("<br/>"):L,r.labelStyle,!0,!0));if((0,s.k)((0,s.g)().flowchart.htmlLabels)){const Zt=tt.children[0],Ot=(0,Z.Ys)(tt);nt=Zt.getBoundingClientRect(),Ot.attr("width",nt.width),Ot.attr("height",nt.height)}const st=r.padding/2;return(0,Z.Ys)(tt).attr("transform","translate( "+(nt.width>G.width?0:(G.width-nt.width)/2)+", "+(G.height+st+5)+")"),(0,Z.Ys)(mt).attr("transform","translate( "+(nt.width<G.width?0:-(G.width-nt.width)/2)+", 0)"),nt=S.node().getBBox(),S.attr("transform","translate("+-nt.width/2+", "+(-nt.height/2-st+3)+")"),b.attr("class","outer title-state").attr("x",-nt.width/2-st).attr("y",-nt.height/2-st).attr("width",nt.width+r.padding).attr("height",nt.height+r.padding),x.attr("class","divider").attr("x1",-nt.width/2-st).attr("x2",nt.width/2+st).attr("y1",-nt.height/2-st+G.height+st).attr("y2",-nt.height/2-st+G.height+st),ht(r,b),r.intersect=function(Zt){return D.rect(r,Zt)},C},choice:(g,r)=>{const E=g.insert("g").attr("class","node default").attr("id",r.domId||r.id);return E.insert("polygon",":first-child").attr("points",[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}].map(function(S){return S.x+","+S.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),r.width=28,r.height=28,r.intersect=function(S){return D.circle(r,14,S)},E},circle:(g,r)=>{const{shapeSvg:E,bbox:C,halfPadding:b}=Tt(g,r,void 0,!0),x=E.insert("circle",":first-child");return x.attr("style",r.style).attr("rx",r.rx).attr("ry",r.ry).attr("r",C.width/2+b).attr("width",C.width+r.padding).attr("height",C.height+r.padding),s.l.info("Circle main"),ht(r,x),r.intersect=function(S){return s.l.info("Circle intersect",r,C.width/2+b,S),D.circle(r,C.width/2+b,S)},E},doublecircle:(g,r)=>{const{shapeSvg:E,bbox:C,halfPadding:b}=Tt(g,r,void 0,!0),S=E.insert("g",":first-child"),$=S.insert("circle"),et=S.insert("circle");return $.attr("style",r.style).attr("rx",r.rx).attr("ry",r.ry).attr("r",C.width/2+b+5).attr("width",C.width+r.padding+10).attr("height",C.height+r.padding+10),et.attr("style",r.style).attr("rx",r.rx).attr("ry",r.ry).attr("r",C.width/2+b).attr("width",C.width+r.padding).attr("height",C.height+r.padding),s.l.info("DoubleCircle main"),ht(r,$),r.intersect=function(mt){return s.l.info("DoubleCircle intersect",r,C.width/2+b+5,mt),D.circle(r,C.width/2+b+5,mt)},E},stadium:(g,r)=>{const{shapeSvg:E,bbox:C}=Tt(g,r,void 0,!0),b=C.height+r.padding,x=C.width+b/4+r.padding,S=E.insert("rect",":first-child").attr("style",r.style).attr("rx",b/2).attr("ry",b/2).attr("x",-x/2).attr("y",-b/2).attr("width",x).attr("height",b);return ht(r,S),r.intersect=function($){return D.rect(r,$)},E},hexagon:(g,r)=>{const{shapeSvg:E,bbox:C}=Tt(g,r,void 0,!0),x=C.height+r.padding,S=x/4,$=C.width+2*S+r.padding,et=[{x:S,y:0},{x:$-S,y:0},{x:$,y:-x/2},{x:$-S,y:-x},{x:S,y:-x},{x:0,y:-x/2}],mt=Wt(E,$,x,et);return mt.attr("style",r.style),ht(r,mt),r.intersect=function(nt){return D.polygon(r,et,nt)},E},rect_left_inv_arrow:(g,r)=>{const{shapeSvg:E,bbox:C}=Tt(g,r,void 0,!0),b=C.width+r.padding,x=C.height+r.padding,S=[{x:-x/2,y:0},{x:b,y:0},{x:b,y:-x},{x:-x/2,y:-x},{x:0,y:-x/2}];return Wt(E,b,x,S).attr("style",r.style),r.width=b+x,r.height=x,r.intersect=function(et){return D.polygon(r,S,et)},E},lean_right:(g,r)=>{const{shapeSvg:E,bbox:C}=Tt(g,r,void 0,!0),b=C.width+r.padding,x=C.height+r.padding,S=[{x:-2*x/6,y:0},{x:b-x/6,y:0},{x:b+2*x/6,y:-x},{x:x/6,y:-x}],$=Wt(E,b,x,S);return $.attr("style",r.style),ht(r,$),r.intersect=function(et){return D.polygon(r,S,et)},E},lean_left:(g,r)=>{const{shapeSvg:E,bbox:C}=Tt(g,r,void 0,!0),b=C.width+r.padding,x=C.height+r.padding,S=[{x:2*x/6,y:0},{x:b+x/6,y:0},{x:b-2*x/6,y:-x},{x:-x/6,y:-x}],$=Wt(E,b,x,S);return $.attr("style",r.style),ht(r,$),r.intersect=function(et){return D.polygon(r,S,et)},E},trapezoid:(g,r)=>{const{shapeSvg:E,bbox:C}=Tt(g,r,void 0,!0),b=C.width+r.padding,x=C.height+r.padding,S=[{x:-2*x/6,y:0},{x:b+2*x/6,y:0},{x:b-x/6,y:-x},{x:x/6,y:-x}],$=Wt(E,b,x,S);return $.attr("style",r.style),ht(r,$),r.intersect=function(et){return D.polygon(r,S,et)},E},inv_trapezoid:(g,r)=>{const{shapeSvg:E,bbox:C}=Tt(g,r,void 0,!0),b=C.width+r.padding,x=C.height+r.padding,S=[{x:x/6,y:0},{x:b-x/6,y:0},{x:b+2*x/6,y:-x},{x:-2*x/6,y:-x}],$=Wt(E,b,x,S);return $.attr("style",r.style),ht(r,$),r.intersect=function(et){return D.polygon(r,S,et)},E},rect_right_inv_arrow:(g,r)=>{const{shapeSvg:E,bbox:C}=Tt(g,r,void 0,!0),b=C.width+r.padding,x=C.height+r.padding,S=[{x:0,y:0},{x:b+x/2,y:0},{x:b,y:-x/2},{x:b+x/2,y:-x},{x:0,y:-x}],$=Wt(E,b,x,S);return $.attr("style",r.style),ht(r,$),r.intersect=function(et){return D.polygon(r,S,et)},E},cylinder:(g,r)=>{const{shapeSvg:E,bbox:C}=Tt(g,r,void 0,!0),b=C.width+r.padding,x=b/2,S=x/(2.5+b/50),$=C.height+S+r.padding,et="M 0,"+S+" a "+x+","+S+" 0,0,0 "+b+" 0 a "+x+","+S+" 0,0,0 "+-b+" 0 l 0,"+$+" a "+x+","+S+" 0,0,0 "+b+" 0 l 0,"+-$,mt=E.attr("label-offset-y",S).insert("path",":first-child").attr("style",r.style).attr("d",et).attr("transform","translate("+-b/2+","+-($/2+S)+")");return ht(r,mt),r.intersect=function(nt){const L=D.rect(r,nt),G=L.x-r.x;if(0!=x&&(Math.abs(G)<r.width/2||Math.abs(G)==r.width/2&&Math.abs(L.y-r.y)>r.height/2-S)){let tt=S*S*(1-G*G/(x*x));0!=tt&&(tt=Math.sqrt(tt)),tt=S-tt,nt.y-r.y>0&&(tt=-tt),L.y+=tt}return L},E},start:(g,r)=>{const E=g.insert("g").attr("class","node default").attr("id",r.domId||r.id),C=E.insert("circle",":first-child");return C.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),ht(r,C),r.intersect=function(b){return D.circle(r,7,b)},E},end:(g,r)=>{const E=g.insert("g").attr("class","node default").attr("id",r.domId||r.id),C=E.insert("circle",":first-child"),b=E.insert("circle",":first-child");return b.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),C.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),ht(r,b),r.intersect=function(x){return D.circle(r,7,x)},E},note:(g,r)=>{r.useHtmlLabels||(0,s.g)().flowchart.htmlLabels||(r.centerLabel=!0);const{shapeSvg:C,bbox:b,halfPadding:x}=Tt(g,r,"node "+r.classes,!0);s.l.info("Classes = ",r.classes);const S=C.insert("rect",":first-child");return S.attr("rx",r.rx).attr("ry",r.ry).attr("x",-b.width/2-x).attr("y",-b.height/2-x).attr("width",b.width+r.padding).attr("height",b.height+r.padding),ht(r,S),r.intersect=function($){return D.rect(r,$)},C},subroutine:(g,r)=>{const{shapeSvg:E,bbox:C}=Tt(g,r,void 0,!0),b=C.width+r.padding,x=C.height+r.padding,S=[{x:0,y:0},{x:b,y:0},{x:b,y:-x},{x:0,y:-x},{x:0,y:0},{x:-8,y:0},{x:b+8,y:0},{x:b+8,y:-x},{x:-8,y:-x},{x:-8,y:0}],$=Wt(E,b,x,S);return $.attr("style",r.style),ht(r,$),r.intersect=function(et){return D.polygon(r,S,et)},E},fork:l,join:l,class_box:(g,r)=>{const E=r.padding/2;let x;x=r.classes?"node "+r.classes:"node default";const S=g.insert("g").attr("class",x).attr("id",r.domId||r.id),$=S.insert("rect",":first-child"),et=S.insert("line"),mt=S.insert("line");let nt=0,L=4;const G=S.insert("g").attr("class","label");let tt=0;const st=r.classData.annotations&&r.classData.annotations[0],Zt=r.classData.annotations[0]?"\xab"+r.classData.annotations[0]+"\xbb":"",Ot=G.node().appendChild(ft(Zt,r.labelStyle,!0,!0));let Jt=Ot.getBBox();if((0,s.k)((0,s.g)().flowchart.htmlLabels)){const fe=Ot.children[0],ce=(0,Z.Ys)(Ot);Jt=fe.getBoundingClientRect(),ce.attr("width",Jt.width),ce.attr("height",Jt.height)}r.classData.annotations[0]&&(L+=Jt.height+4,nt+=Jt.width);let ee=r.classData.label;void 0!==r.classData.type&&""!==r.classData.type&&((0,s.g)().flowchart.htmlLabels?ee+="&lt;"+r.classData.type+"&gt;":ee+="<"+r.classData.type+">");const se=G.node().appendChild(ft(ee,r.labelStyle,!0,!0));(0,Z.Ys)(se).attr("class","classTitle");let Pt=se.getBBox();if((0,s.k)((0,s.g)().flowchart.htmlLabels)){const fe=se.children[0],ce=(0,Z.Ys)(se);Pt=fe.getBoundingClientRect(),ce.attr("width",Pt.width),ce.attr("height",Pt.height)}L+=Pt.height+4,Pt.width>nt&&(nt=Pt.width);const ve=[];r.classData.members.forEach(fe=>{const ce=(0,A.p)(fe);let Ee=ce.displayText;(0,s.g)().flowchart.htmlLabels&&(Ee=Ee.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const he=G.node().appendChild(ft(Ee,ce.cssStyle?ce.cssStyle:r.labelStyle,!0,!0));let gt=he.getBBox();if((0,s.k)((0,s.g)().flowchart.htmlLabels)){const Bt=he.children[0],Ct=(0,Z.Ys)(he);gt=Bt.getBoundingClientRect(),Ct.attr("width",gt.width),Ct.attr("height",gt.height)}gt.width>nt&&(nt=gt.width),L+=gt.height+4,ve.push(he)}),L+=8;const ye=[];if(r.classData.methods.forEach(fe=>{const ce=(0,A.p)(fe);let Ee=ce.displayText;(0,s.g)().flowchart.htmlLabels&&(Ee=Ee.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const he=G.node().appendChild(ft(Ee,ce.cssStyle?ce.cssStyle:r.labelStyle,!0,!0));let gt=he.getBBox();if((0,s.k)((0,s.g)().flowchart.htmlLabels)){const Bt=he.children[0],Ct=(0,Z.Ys)(he);gt=Bt.getBoundingClientRect(),Ct.attr("width",gt.width),Ct.attr("height",gt.height)}gt.width>nt&&(nt=gt.width),L+=gt.height+4,ye.push(he)}),L+=8,st){let fe=(nt-Jt.width)/2;(0,Z.Ys)(Ot).attr("transform","translate( "+(-1*nt/2+fe)+", "+-1*L/2+")"),tt=Jt.height+4}let ge=(nt-Pt.width)/2;return(0,Z.Ys)(se).attr("transform","translate( "+(-1*nt/2+ge)+", "+(-1*L/2+tt)+")"),tt+=Pt.height+4,et.attr("class","divider").attr("x1",-nt/2-E).attr("x2",nt/2+E).attr("y1",-L/2-E+8+tt).attr("y2",-L/2-E+8+tt),tt+=8,ve.forEach(fe=>{(0,Z.Ys)(fe).attr("transform","translate( "+-nt/2+", "+(-1*L/2+tt+4)+")"),tt+=Pt.height+4}),tt+=8,mt.attr("class","divider").attr("x1",-nt/2-E).attr("x2",nt/2+E).attr("y1",-L/2-E+8+tt).attr("y2",-L/2-E+8+tt),tt+=8,ye.forEach(fe=>{(0,Z.Ys)(fe).attr("transform","translate( "+-nt/2+", "+(-1*L/2+tt)+")"),tt+=Pt.height+4}),$.attr("class","outer title-state").attr("x",-nt/2-E).attr("y",-L/2-E).attr("width",nt+r.padding).attr("height",L+r.padding),ht(r,$),r.intersect=function(fe){return D.rect(r,fe)},S}};let it={};const It=(g,r,E)=>{let C,b;if(r.link){let x;"sandbox"===(0,s.g)().securityLevel?x="_top":r.linkTarget&&(x=r.linkTarget||"_blank"),C=g.insert("svg:a").attr("xlink:href",r.link).attr("target",x),b=N[r.shape](C,r,E)}else b=N[r.shape](g,r,E),C=b;return r.tooltip&&b.attr("title",r.tooltip),r.class&&b.attr("class","node default "+r.class),it[r.id]=C,r.haveCallback&&it[r.id].attr("class",it[r.id].attr("class")+" clickable"),C},dt=(g,r)=>{it[r.id]=g},Mt=()=>{it={}},Nt=g=>{const r=it[g.id];s.l.trace("Transforming node",g.diff,g,"translate("+(g.x-g.width/2-5)+", "+g.width/2+")");const C=g.diff||0;return r.attr("transform",g.clusterNode?"translate("+(g.x+C-g.width/2)+", "+(g.y-g.height/2-8)+")":"translate("+g.x+", "+g.y+")"),C};let bt={},h={};const z=()=>{bt={},h={}},ut=(g,r)=>{const E=(0,s.k)((0,s.g)().flowchart.htmlLabels),C="markdown"===r.labelType?(0,m.c)(g,r.label,{style:r.labelStyle,useHtmlLabels:E,addSvgBackground:!0}):ft(r.label,r.labelStyle);s.l.info("abc82",r,r.labelType);const b=g.insert("g").attr("class","edgeLabel"),x=b.insert("g").attr("class","label");x.node().appendChild(C);let $,S=C.getBBox();if(E){const et=C.children[0],mt=(0,Z.Ys)(C);S=et.getBoundingClientRect(),mt.attr("width",S.width),mt.attr("height",S.height)}if(x.attr("transform","translate("+-S.width/2+", "+-S.height/2+")"),bt[r.id]=b,r.width=S.width,r.height=S.height,r.startLabelLeft){const et=ft(r.startLabelLeft,r.labelStyle),mt=g.insert("g").attr("class","edgeTerminals"),nt=mt.insert("g").attr("class","inner");$=nt.node().appendChild(et);const L=et.getBBox();nt.attr("transform","translate("+-L.width/2+", "+-L.height/2+")"),h[r.id]||(h[r.id]={}),h[r.id].startLeft=mt,xt($,r.startLabelLeft)}if(r.startLabelRight){const et=ft(r.startLabelRight,r.labelStyle),mt=g.insert("g").attr("class","edgeTerminals"),nt=mt.insert("g").attr("class","inner");$=mt.node().appendChild(et),nt.node().appendChild(et);const L=et.getBBox();nt.attr("transform","translate("+-L.width/2+", "+-L.height/2+")"),h[r.id]||(h[r.id]={}),h[r.id].startRight=mt,xt($,r.startLabelRight)}if(r.endLabelLeft){const et=ft(r.endLabelLeft,r.labelStyle),mt=g.insert("g").attr("class","edgeTerminals"),nt=mt.insert("g").attr("class","inner");$=nt.node().appendChild(et);const L=et.getBBox();nt.attr("transform","translate("+-L.width/2+", "+-L.height/2+")"),mt.node().appendChild(et),h[r.id]||(h[r.id]={}),h[r.id].endLeft=mt,xt($,r.endLabelLeft)}if(r.endLabelRight){const et=ft(r.endLabelRight,r.labelStyle),mt=g.insert("g").attr("class","edgeTerminals"),nt=mt.insert("g").attr("class","inner");$=nt.node().appendChild(et);const L=et.getBBox();nt.attr("transform","translate("+-L.width/2+", "+-L.height/2+")"),mt.node().appendChild(et),h[r.id]||(h[r.id]={}),h[r.id].endRight=mt,xt($,r.endLabelRight)}return C};function xt(g,r){(0,s.g)().flowchart.htmlLabels&&g&&(g.style.width=9*r.length+"px",g.style.height="12px")}const Ut=(g,r)=>{s.l.info("Moving label abc78 ",g.id,g.label,bt[g.id]);let E=r.updatedPath?r.updatedPath:r.originalPath;if(g.label){const C=bt[g.id];let b=g.x,x=g.y;if(E){const S=O.u.calcLabelPosition(E);s.l.info("Moving label "+g.label+" from (",b,",",x,") to (",S.x,",",S.y,") abc78"),r.updatedPath&&(b=S.x,x=S.y)}C.attr("transform","translate("+b+", "+x+")")}if(g.startLabelLeft){const C=h[g.id].startLeft;let b=g.x,x=g.y;if(E){const S=O.u.calcTerminalLabelPosition(g.arrowTypeStart?10:0,"start_left",E);b=S.x,x=S.y}C.attr("transform","translate("+b+", "+x+")")}if(g.startLabelRight){const C=h[g.id].startRight;let b=g.x,x=g.y;if(E){const S=O.u.calcTerminalLabelPosition(g.arrowTypeStart?10:0,"start_right",E);b=S.x,x=S.y}C.attr("transform","translate("+b+", "+x+")")}if(g.endLabelLeft){const C=h[g.id].endLeft;let b=g.x,x=g.y;if(E){const S=O.u.calcTerminalLabelPosition(g.arrowTypeEnd?10:0,"end_left",E);b=S.x,x=S.y}C.attr("transform","translate("+b+", "+x+")")}if(g.endLabelRight){const C=h[g.id].endRight;let b=g.x,x=g.y;if(E){const S=O.u.calcTerminalLabelPosition(g.arrowTypeEnd?10:0,"end_right",E);b=S.x,x=S.y}C.attr("transform","translate("+b+", "+x+")")}},de=(g,r)=>{s.l.warn("abc88 cutPathAtIntersect",g,r);let E=[],C=g[0],b=!1;return g.forEach(x=>{if(s.l.info("abc88 checking point",x,r),((g,r)=>{const C=g.y,b=Math.abs(r.x-g.x),x=Math.abs(r.y-C);return b>=g.width/2||x>=g.height/2})(r,x)||b)s.l.warn("abc88 outside",x,C),C=x,b||E.push(x);else{const S=((g,r,E)=>{s.l.warn(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(r)}\n  insidePoint : ${JSON.stringify(E)}\n  node        : x:${g.x} y:${g.y} w:${g.width} h:${g.height}`);const C=g.x,b=g.y,x=Math.abs(C-E.x),S=g.width/2;let $=E.x<r.x?S-x:S+x;const et=g.height/2,mt=Math.abs(r.y-E.y),nt=Math.abs(r.x-E.x);if(Math.abs(b-r.y)*S>Math.abs(C-r.x)*et){let L=E.y<r.y?r.y-et-b:b-et-r.y;$=nt*L/mt;const G={x:E.x<r.x?E.x+$:E.x-nt+$,y:E.y<r.y?E.y+mt-L:E.y-mt+L};return 0===$&&(G.x=r.x,G.y=r.y),0===nt&&(G.x=r.x),0===mt&&(G.y=r.y),s.l.warn(`abc89 topp/bott calc, Q ${mt}, q ${L}, R ${nt}, r ${$}`,G),G}{$=E.x<r.x?r.x-S-C:C-S-r.x;let L=mt*$/nt,G=E.x<r.x?E.x+nt-$:E.x-nt+$,tt=E.y<r.y?E.y+L:E.y-L;return s.l.warn(`sides calc abc89, Q ${mt}, q ${L}, R ${nt}, r ${$}`,{_x:G,_y:tt}),0===$&&(G=r.x,tt=r.y),0===nt&&(G=r.x),0===mt&&(tt=r.y),{x:G,y:tt}}})(r,C,x);s.l.warn("abc88 inside",x,C,S),s.l.warn("abc88 intersection",S);let $=!1;E.forEach(et=>{$=$||et.x===S.x&&et.y===S.y}),E.some(et=>et.x===S.x&&et.y===S.y)?s.l.warn("abc88 no intersect",S,E):E.push(S),b=!0}}),s.l.warn("abc88 returning points",E),E},Xt=function(g,r,E,C,b,x){let S=E.points,$=!1;const et=x.node(r.v);var mt=x.node(r.w);s.l.info("abc88 InsertEdge: ",E),mt.intersect&&et.intersect&&(S=S.slice(1,E.points.length-1),S.unshift(et.intersect(S[0])),s.l.info("Last point",S[S.length-1],mt,mt.intersect(S[S.length-1])),S.push(mt.intersect(S[S.length-1]))),E.toCluster&&(s.l.info("to cluster abc88",C[E.toCluster]),S=de(E.points,C[E.toCluster].node),$=!0),E.fromCluster&&(s.l.info("from cluster abc88",C[E.fromCluster]),S=de(S.reverse(),C[E.fromCluster].node).reverse(),$=!0);const nt=S.filter(Jt=>!Number.isNaN(Jt.y));let L;L=("graph"===b||"flowchart"===b)&&E.curve||Z.$0Z;const G=(0,Z.jvg)().x(function(Jt){return Jt.x}).y(function(Jt){return Jt.y}).curve(L);let tt;switch(E.thickness){case"normal":tt="edge-thickness-normal";break;case"thick":case"invisible":tt="edge-thickness-thick";break;default:tt=""}switch(E.pattern){case"solid":tt+=" edge-pattern-solid";break;case"dotted":tt+=" edge-pattern-dotted";break;case"dashed":tt+=" edge-pattern-dashed"}const st=g.append("path").attr("d",G(nt)).attr("id",E.id).attr("class"," "+tt+(E.classes?" "+E.classes:"")).attr("style",E.style);let Zt="";switch(((0,s.g)().flowchart.arrowMarkerAbsolute||(0,s.g)().state.arrowMarkerAbsolute)&&(Zt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Zt=Zt.replace(/\(/g,"\\("),Zt=Zt.replace(/\)/g,"\\)")),s.l.info("arrowTypeStart",E.arrowTypeStart),s.l.info("arrowTypeEnd",E.arrowTypeEnd),E.arrowTypeStart){case"arrow_cross":st.attr("marker-start","url("+Zt+"#"+b+"-crossStart)");break;case"arrow_point":st.attr("marker-start","url("+Zt+"#"+b+"-pointStart)");break;case"arrow_barb":st.attr("marker-start","url("+Zt+"#"+b+"-barbStart)");break;case"arrow_circle":st.attr("marker-start","url("+Zt+"#"+b+"-circleStart)");break;case"aggregation":st.attr("marker-start","url("+Zt+"#"+b+"-aggregationStart)");break;case"extension":st.attr("marker-start","url("+Zt+"#"+b+"-extensionStart)");break;case"composition":st.attr("marker-start","url("+Zt+"#"+b+"-compositionStart)");break;case"dependency":st.attr("marker-start","url("+Zt+"#"+b+"-dependencyStart)");break;case"lollipop":st.attr("marker-start","url("+Zt+"#"+b+"-lollipopStart)")}switch(E.arrowTypeEnd){case"arrow_cross":st.attr("marker-end","url("+Zt+"#"+b+"-crossEnd)");break;case"arrow_point":st.attr("marker-end","url("+Zt+"#"+b+"-pointEnd)");break;case"arrow_barb":st.attr("marker-end","url("+Zt+"#"+b+"-barbEnd)");break;case"arrow_circle":st.attr("marker-end","url("+Zt+"#"+b+"-circleEnd)");break;case"aggregation":st.attr("marker-end","url("+Zt+"#"+b+"-aggregationEnd)");break;case"extension":st.attr("marker-end","url("+Zt+"#"+b+"-extensionEnd)");break;case"composition":st.attr("marker-end","url("+Zt+"#"+b+"-compositionEnd)");break;case"dependency":st.attr("marker-end","url("+Zt+"#"+b+"-dependencyEnd)");break;case"lollipop":st.attr("marker-end","url("+Zt+"#"+b+"-lollipopEnd)")}let Ot={};return $&&(Ot.updatedPath=S),Ot.originalPath=E.points,Ot}},3847:(wt,B,a)=>{a.d(B,{r:()=>me});var s=a(5761),Z=a(2338),m=a(7194),u=a(1599),A=a(5346),O=a(9462),P=a(7528);let T={},F={},J={};const I=(j,p)=>(u.l.trace("In isDecendant",p," ",j," = ",F[p].includes(j)),!!F[p].includes(j)),W=(j,p,D,pt)=>{u.l.warn("Copying children of ",j,"root",pt,"data",p.node(j),pt);const at=p.children(j)||[];j!==pt&&at.push(j),u.l.warn("Copying (nodes) clusterId",j,"nodes",at),at.forEach(yt=>{if(p.children(yt).length>0)W(yt,p,D,pt);else{const Ht=p.node(yt);u.l.info("cp ",yt," to ",pt," with parent ",j),D.setNode(yt,Ht),pt!==p.parent(yt)&&(u.l.warn("Setting parent",yt,p.parent(yt)),D.setParent(yt,p.parent(yt))),j!==pt&&yt!==j?(u.l.debug("Setting parent",yt,j),D.setParent(yt,j)):(u.l.info("In copy ",j,"root",pt,"data",p.node(j),pt),u.l.debug("Not Setting parent for node=",yt,"cluster!==rootId",j!==pt,"node!==clusterId",yt!==j));const _t=p.edges(yt);u.l.debug("Copying Edges",_t),_t.forEach(Dt=>{u.l.info("Edge",Dt);const le=p.edge(Dt.v,Dt.w,Dt.name);u.l.info("Edge data",le,pt);try{((j,p)=>(u.l.info("Decendants of ",p," is ",F[p]),u.l.info("Edge is ",j),j.v!==p&&j.w!==p&&(F[p]?F[p].includes(j.v)||I(j.v,p)||I(j.w,p)||F[p].includes(j.w):(u.l.debug("Tilt, ",p,",not in decendants"),!1))))(Dt,pt)?(u.l.info("Copying as ",Dt.v,Dt.w,le,Dt.name),D.setEdge(Dt.v,Dt.w,le,Dt.name),u.l.info("newGraph edges ",D.edges(),D.edge(D.edges()[0]))):u.l.info("Skipping copy of edge ",Dt.v,"--\x3e",Dt.w," rootId: ",pt," clusterId:",j)}catch(re){u.l.error(re)}})}u.l.debug("Removing node",yt),p.removeNode(yt)})},k=(j,p)=>{const D=p.children(j);let pt=[...D];for(const at of D)J[at]=j,pt=[...pt,...k(at,p)];return pt},Y=(j,p)=>{u.l.trace("Searching",j);const D=p.children(j);if(u.l.trace("Searching children of id ",j,D),D.length<1)return u.l.trace("This is a valid node",j),j;for(const pt of D){const at=Y(pt,p);if(at)return u.l.trace("Found replacement for",j," => ",at),at}},U=j=>T[j]&&T[j].externalConnections&&T[j]?T[j].id:j,ot=(j,p)=>{if(u.l.warn("extractor - ",p,Z.c(j),j.children("D")),p>10)return void u.l.error("Bailing out");let D=j.nodes(),pt=!1;for(const at of D){const yt=j.children(at);pt=pt||yt.length>0}if(pt){u.l.debug("Nodes = ",D,p);for(const at of D)if(u.l.debug("Extracting node",at,T,T[at]&&!T[at].externalConnections,!j.parent(at),j.node(at),j.children("D")," Depth ",p),T[at])if(!T[at].externalConnections&&j.children(at)&&j.children(at).length>0){u.l.warn("Cluster without external connections, without a parent and with children",at,p);let Ht="TB"===j.graph().rankdir?"LR":"TB";T[at]&&T[at].clusterData&&T[at].clusterData.dir&&(Ht=T[at].clusterData.dir,u.l.warn("Fixing dir",T[at].clusterData.dir,Ht));const _t=new A.k({multigraph:!0,compound:!0}).setGraph({rankdir:Ht,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});u.l.warn("Old graph before copy",Z.c(j)),W(at,j,_t,at),j.setNode(at,{clusterNode:!0,id:at,clusterData:T[at].clusterData,labelText:T[at].labelText,graph:_t}),u.l.warn("New graph after copy node: (",at,")",Z.c(_t)),u.l.debug("Old graph after copy",Z.c(j))}else u.l.warn("Cluster ** ",at," **not meeting the criteria !externalConnections:",!T[at].externalConnections," no parent: ",!j.parent(at)," children ",j.children(at)&&j.children(at).length>0,j.children("D"),p),u.l.debug(T);else u.l.debug("Not a cluster",at,p);D=j.nodes(),u.l.warn("New list of nodes",D);for(const at of D){const yt=j.node(at);u.l.warn(" Now next level",at,yt),yt.clusterNode&&ot(yt.graph,p+1)}}else u.l.debug("Done, no node has children",j.nodes())},q=(j,p)=>{if(0===p.length)return[];let D=Object.assign(p);return p.forEach(pt=>{const at=j.children(pt),yt=q(j,at);D=[...D,...yt]}),D},Yt={rect:(j,p)=>{u.l.info("Creating subgraph rect for ",p.id,p);const D=j.insert("g").attr("class","cluster"+(p.class?" "+p.class:"")).attr("id",p.id),pt=D.insert("rect",":first-child"),at=(0,u.k)((0,u.g)().flowchart.htmlLabels),yt=D.insert("g").attr("class","cluster-label"),Ht="markdown"===p.labelType?(0,O.c)(yt,p.labelText,{style:p.labelStyle,useHtmlLabels:at}):yt.node().appendChild((0,m.c)(p.labelText,p.labelStyle,void 0,!0));let _t=Ht.getBBox();if((0,u.k)((0,u.g)().flowchart.htmlLabels)){const St=Ht.children[0],qt=(0,P.Ys)(Ht);_t=St.getBoundingClientRect(),qt.attr("width",_t.width),qt.attr("height",_t.height)}const Dt=0*p.padding,le=Dt/2,re=p.width<=_t.width+Dt?_t.width+Dt:p.width;p.diff=p.width<=_t.width+Dt?(_t.width-p.width)/2-p.padding/2:-p.padding/2,u.l.trace("Data ",p,JSON.stringify(p)),pt.attr("style",p.style).attr("rx",p.rx).attr("ry",p.ry).attr("x",p.x-re/2).attr("y",p.y-p.height/2-le).attr("width",re).attr("height",p.height+Dt),yt.attr("transform",at?"translate("+(p.x-_t.width/2)+", "+(p.y-p.height/2)+")":"translate("+p.x+", "+(p.y-p.height/2)+")");const At=pt.node().getBBox();return p.width=At.width,p.height=At.height,p.intersect=function(St){return(0,m.i)(p,St)},D},roundedWithTitle:(j,p)=>{const D=j.insert("g").attr("class",p.classes).attr("id",p.id),pt=D.insert("rect",":first-child"),at=D.insert("g").attr("class","cluster-label"),yt=D.append("rect"),Ht=at.node().appendChild((0,m.c)(p.labelText,p.labelStyle,void 0,!0));let _t=Ht.getBBox();if((0,u.k)((0,u.g)().flowchart.htmlLabels)){const St=Ht.children[0],qt=(0,P.Ys)(Ht);_t=St.getBoundingClientRect(),qt.attr("width",_t.width),qt.attr("height",_t.height)}_t=Ht.getBBox();const Dt=0*p.padding,le=Dt/2,re=p.width<=_t.width+p.padding?_t.width+p.padding:p.width;p.diff=p.width<=_t.width+p.padding?(_t.width+0*p.padding-p.width)/2:-p.padding/2,pt.attr("class","outer").attr("x",p.x-re/2-le).attr("y",p.y-p.height/2-le).attr("width",re+Dt).attr("height",p.height+Dt),yt.attr("class","inner").attr("x",p.x-re/2-le).attr("y",p.y-p.height/2-le+_t.height-1).attr("width",re+Dt).attr("height",p.height+Dt-_t.height-3),at.attr("transform","translate("+(p.x-_t.width/2)+", "+(p.y-p.height/2-p.padding/3+((0,u.k)((0,u.g)().flowchart.htmlLabels)?5:3))+")");const At=pt.node().getBBox();return p.height=At.height,p.intersect=function(St){return(0,m.i)(p,St)},D},noteGroup:(j,p)=>{const D=j.insert("g").attr("class","note-cluster").attr("id",p.id),pt=D.insert("rect",":first-child"),at=0*p.padding,yt=at/2;pt.attr("rx",p.rx).attr("ry",p.ry).attr("x",p.x-p.width/2-yt).attr("y",p.y-p.height/2-yt).attr("width",p.width+at).attr("height",p.height+at).attr("fill","none");const Ht=pt.node().getBBox();return p.width=Ht.width,p.height=Ht.height,p.intersect=function(_t){return(0,m.i)(p,_t)},D},divider:(j,p)=>{const D=j.insert("g").attr("class",p.classes).attr("id",p.id),pt=D.insert("rect",":first-child"),at=0*p.padding,yt=at/2;pt.attr("class","divider").attr("x",p.x-p.width/2-yt).attr("y",p.y-p.height/2).attr("width",p.width+at).attr("height",p.height+at);const Ht=pt.node().getBBox();return p.width=Ht.width,p.height=Ht.height,p.diff=-p.padding/2,p.intersect=function(_t){return(0,m.i)(p,_t)},D}};let Gt={};const _e=(j,p,D,pt)=>{u.l.info("Graph in recursive render: XXX",Z.c(p),pt);const at=p.graph().rankdir;u.l.trace("Dir in recursive render - dir:",at);const yt=j.insert("g").attr("class","root");p.nodes()?u.l.info("Recursive render XXX",p.nodes()):u.l.info("No nodes found for",p),p.edges().length>0&&u.l.trace("Recursive edges",p.edge(p.edges()[0]));const Ht=yt.insert("g").attr("class","clusters"),_t=yt.insert("g").attr("class","edgePaths"),Dt=yt.insert("g").attr("class","edgeLabels"),le=yt.insert("g").attr("class","nodes");p.nodes().forEach(function(At){const St=p.node(At);if(void 0!==pt){const qt=JSON.parse(JSON.stringify(pt.clusterData));u.l.info("Setting data for cluster XXX (",At,") ",qt,pt),p.setNode(pt.id,qt),p.parent(At)||(u.l.trace("Setting parent",At,pt.id),p.setParent(At,pt.id,qt))}if(u.l.info("(Insert) Node XXX"+At+": "+JSON.stringify(p.node(At))),St&&St.clusterNode){u.l.info("Cluster identified",At,St.width,p.node(At));const qt=_e(le,St.graph,D,p.node(At)),be=qt.elem;(0,m.u)(St,be),St.diff=qt.diff||0,u.l.info("Node bounds (abc123)",At,St,St.width,St.x,St.y),(0,m.s)(be,St),u.l.warn("Recursive render complete ",be,St)}else p.children(At).length>0?(u.l.info("Cluster - the non recursive path XXX",At,St.id,St,p),u.l.info(Y(St.id,p)),T[St.id]={id:Y(St.id,p),node:St}):(u.l.info("Node - the non recursive path",At,St.id,St),(0,m.e)(le,p.node(At),at))}),p.edges().forEach(function(At){const St=p.edge(At.v,At.w,At.name);u.l.info("Edge "+At.v+" -> "+At.w+": "+JSON.stringify(At)),u.l.info("Edge "+At.v+" -> "+At.w+": ",At," ",JSON.stringify(p.edge(At))),u.l.info("Fix",T,"ids:",At.v,At.w,"Translateing: ",T[At.v],T[At.w]),(0,m.f)(Dt,St)}),p.edges().forEach(function(At){u.l.info("Edge "+At.v+" -> "+At.w+": "+JSON.stringify(At))}),u.l.info("#############################################"),u.l.info("###                Layout                 ###"),u.l.info("#############################################"),u.l.info(p),(0,s.bK)(p),u.l.info("Graph after layout:",Z.c(p));let re=0;return(j=>q(j,j.children()))(p).forEach(function(At){const St=p.node(At);u.l.info("Position "+At+": "+JSON.stringify(p.node(At))),u.l.info("Position "+At+": ("+St.x,","+St.y,") width: ",St.width," height: ",St.height),St&&St.clusterNode?(0,m.p)(St):p.children(At).length>0?(((j,p)=>{u.l.trace("Inserting cluster"),Gt[p.id]=Yt[p.shape||"rect"](j,p)})(Ht,St),T[St.id].node=St):(0,m.p)(St)}),p.edges().forEach(function(At){const St=p.edge(At);u.l.info("Edge "+At.v+" -> "+At.w+": "+JSON.stringify(St),St);const qt=(0,m.g)(_t,At,St,T,D,p);(0,m.h)(St,qt)}),p.nodes().forEach(function(At){const St=p.node(At);u.l.info(At,St.type,St.diff),"group"===St.type&&(re=St.diff)}),{elem:yt,diff:re}},me=(j,p,D,pt,at)=>{(0,m.a)(j,D,pt,at),(0,m.b)(),(0,m.d)(),Gt={},F={},J={},T={},u.l.warn("Graph at first:",Z.c(p)),((j,p)=>{j?(u.l.debug("Opting in, graph "),j.nodes().forEach(function(D){j.children(D).length>0&&(u.l.warn("Cluster identified",D," Replacement id in edges: ",Y(D,j)),F[D]=k(D,j),T[D]={id:Y(D,j),clusterData:j.node(D)})}),j.nodes().forEach(function(D){const pt=j.children(D),at=j.edges();pt.length>0?(u.l.debug("Cluster identified",D,F),at.forEach(yt=>{yt.v!==D&&yt.w!==D&&I(yt.v,D)^I(yt.w,D)&&(u.l.warn("Edge: ",yt," leaves cluster ",D),u.l.warn("Decendants of XXX ",D,": ",F[D]),T[D].externalConnections=!0)})):u.l.debug("Not a cluster ",D,F)}),j.edges().forEach(function(D){const pt=j.edge(D);u.l.warn("Edge "+D.v+" -> "+D.w+": "+JSON.stringify(D)),u.l.warn("Edge "+D.v+" -> "+D.w+": "+JSON.stringify(j.edge(D)));let at=D.v,yt=D.w;if(u.l.warn("Fix XXX",T,"ids:",D.v,D.w,"Translating: ",T[D.v]," --- ",T[D.w]),T[D.v]&&T[D.w]&&T[D.v]===T[D.w]){u.l.warn("Fixing and trixing link to self - removing XXX",D.v,D.w,D.name),u.l.warn("Fixing and trixing - removing XXX",D.v,D.w,D.name),at=U(D.v),yt=U(D.w),j.removeEdge(D.v,D.w,D.name);const Ht=D.w+"---"+D.v;j.setNode(Ht,{domId:Ht,id:Ht,labelStyle:"",labelText:pt.label,padding:0,shape:"labelRect",style:""});const _t=JSON.parse(JSON.stringify(pt)),Dt=JSON.parse(JSON.stringify(pt));_t.label="",_t.arrowTypeEnd="none",Dt.label="",_t.fromCluster=D.v,Dt.toCluster=D.v,j.setEdge(at,Ht,_t,D.name+"-cyclic-special"),j.setEdge(Ht,yt,Dt,D.name+"-cyclic-special")}else(T[D.v]||T[D.w])&&(u.l.warn("Fixing and trixing - removing XXX",D.v,D.w,D.name),at=U(D.v),yt=U(D.w),j.removeEdge(D.v,D.w,D.name),at!==D.v&&(pt.fromCluster=D.v),yt!==D.w&&(pt.toCluster=D.w),u.l.warn("Fix Replacing with XXX",at,yt,D.name),j.setEdge(at,yt,pt,D.name))}),u.l.warn("Adjusted Graph",Z.c(j)),ot(j,0),u.l.trace(T)):u.l.debug("Opting out, no graph ")})(p),u.l.warn("Graph after:",Z.c(p)),_e(j,p,pt)}},1137:(wt,B,a)=>{a.r(B),a.d(B,{diagram:()=>y});var s=a(1259),Z=a(5346),m=a(7528),u=a(1599),A=a(3847),O=a(2083);a(896),a(3304),a(5761),a(2338),a(1569),a(398);const X="rect",W="rectWithTitle",rt="statediagram",Tt=`${rt}-state`,ht="transition",Gt=`${ht} note-edge`,Ft=`${rt}-note`,_e=`${rt}-cluster`,j=`${rt}-cluster-alt`,p="parent",D="note",at="----",yt=`${at}${D}`,Ht=`${at}${p}`,_t="fill:none",Dt="fill: #333";let St={},qt=0;function M(l="",f=0,v="",N=at){return`state-${l}${null!==v&&v.length>0?`${N}${v}`:""}-${f}`}const V=(l,f,v,N,it,It)=>{const dt=v.id,Mt=function jt(l){return null==l?"":l.classes?l.classes.join(" "):""}(N[dt]);if("root"!==dt){let Nt=X;!0===v.start&&(Nt="start"),!1===v.start&&(Nt="end"),v.type!==s.a&&(Nt=v.type),St[dt]||(St[dt]={id:dt,shape:Nt,description:u.e.sanitizeText(dt,(0,u.g)()),classes:`${Mt} ${Tt}`});const bt=St[dt];v.description&&(Array.isArray(bt.description)?(bt.shape=W,bt.description.push(v.description)):bt.description.length>0?(bt.shape=W,bt.description=bt.description===dt?[v.description]:[bt.description,v.description]):(bt.shape=X,bt.description=v.description),bt.description=u.e.sanitizeTextOrArray(bt.description,(0,u.g)())),1===bt.description.length&&bt.shape===W&&(bt.shape=X),!bt.type&&v.doc&&(u.l.info("Setting cluster for ",dt,Rt(v)),bt.type="group",bt.dir=Rt(v),bt.shape=v.type===s.b?"divider":"roundedWithTitle",bt.classes=bt.classes+" "+_e+" "+(It?j:""));const h={labelStyle:"",shape:bt.shape,labelText:bt.description,classes:bt.classes,style:"",id:dt,dir:bt.dir,domId:M(dt,qt),type:bt.type,padding:15,centerLabel:!0};if(v.note){const z={labelStyle:"",shape:"note",labelText:v.note.text,classes:Ft,style:"",id:dt+yt+"-"+qt,domId:M(dt,qt,D),type:bt.type,padding:15},ut={labelStyle:"",shape:"noteGroup",labelText:v.note.text,classes:bt.classes,style:"",id:dt+Ht,domId:M(dt,qt,p),type:"group",padding:0};qt++;const xt=dt+Ht;l.setNode(xt,ut),l.setNode(z.id,z),l.setNode(dt,h),l.setParent(dt,xt),l.setParent(z.id,xt);let Ut=dt,kt=z.id;"left of"===v.note.position&&(Ut=z.id,kt=dt),l.setEdge(Ut,kt,{arrowhead:"none",arrowType:"",style:_t,labelStyle:"",classes:Gt,arrowheadStyle:Dt,labelpos:"c",labelType:"text",thickness:"normal"})}else l.setNode(dt,h)}f&&"root"!==f.id&&(u.l.trace("Setting node ",dt," to be child of its parent ",f.id),l.setParent(dt,f.id)),v.doc&&(u.l.trace("Adding nodes children "),Lt(l,v,v.doc,N,it,!It))},Lt=(l,f,v,N,it,It)=>{u.l.trace("items",v),v.forEach(dt=>{switch(dt.stmt){case s.c:case s.a:V(l,f,dt,N,it,It);break;case s.S:{V(l,f,dt.state1,N,it,It),V(l,f,dt.state2,N,it,It);const Mt={id:"edge"+qt,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:_t,labelStyle:"",label:u.e.sanitizeText(dt.description,(0,u.g)()),arrowheadStyle:Dt,labelpos:"c",labelType:"text",thickness:"normal",classes:ht};l.setEdge(dt.state1.id,dt.state2.id,Mt,qt),qt++}}})},Rt=(l,f=s.e)=>{let v=f;if(l.doc)for(let N=0;N<l.doc.length;N++){const it=l.doc[N];"dir"===it.stmt&&(v=it.value)}return v},y={parser:s.p,db:s.d,renderer:{setConf:function(l){const f=Object.keys(l);for(const v of f);},getClasses:function(l,f){u.l.trace("Extracting classes"),f.db.clear();try{return f.parser.parse(l),f.db.extract(f.db.getRootDocV2()),f.db.getClasses()}catch(v){return v}},draw:function(l,f,v,N){u.l.info("Drawing state diagram (v2)",f),St={};let it=N.db.getDirection();void 0===it&&(it=s.D);const{securityLevel:It,state:dt}=(0,u.g)(),Mt=dt.nodeSpacing||50,Nt=dt.rankSpacing||50;u.l.info(N.db.getRootDocV2()),N.db.extract(N.db.getRootDocV2()),u.l.info(N.db.getRootDocV2());const bt=N.db.getStates(),h=new Z.k({multigraph:!0,compound:!0}).setGraph({rankdir:Rt(N.db.getRootDocV2()),nodesep:Mt,ranksep:Nt,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let z;V(h,void 0,N.db.getRootDocV2(),bt,N.db,!0),"sandbox"===It&&(z=(0,m.Ys)("#i"+f));const ut=(0,m.Ys)("sandbox"===It?z.nodes()[0].contentDocument.body:"body"),xt=ut.select(`[id="${f}"]`),Ut=ut.select("#"+f+" g");(0,A.r)(Ut,h,["barb"],rt,f),O.u.insertTitle(xt,"statediagramTitleText",dt.titleTopMargin,N.db.getDiagramTitle());const Kt=xt.node().getBBox(),de=Kt.width+16,Xt=Kt.height+16;xt.attr("class",rt);const g=xt.node().getBBox();(0,O.k)(xt,Xt,de,dt.useMaxWidth);const r=`${g.x-8} ${g.y-8} ${de} ${Xt}`;u.l.debug(`viewBox ${r}`),xt.attr("viewBox",r);const E=document.querySelectorAll('[id="'+f+'"] .edgeLabel .label');for(const C of E){const b=C.getBBox(),x=document.createElementNS("http://www.w3.org/2000/svg",X);x.setAttribute("rx",0),x.setAttribute("ry",0),x.setAttribute("width",b.width),x.setAttribute("height",b.height),C.insertBefore(x,C.firstChild)}}},styles:s.s,init:l=>{l.state||(l.state={}),l.state.arrowMarkerAbsolute=l.arrowMarkerAbsolute,s.d.clear()}}},1259:(wt,B,a)=>{a.d(B,{D:()=>O,S:()=>F,a:()=>I,b:()=>X,c:()=>T,d:()=>Mt,e:()=>P,p:()=>A,s:()=>bt});var s=a(1599),Z=a(2083),m=a(8096),u=function(){var h=function(he,gt,Bt,Ct){for(Bt=Bt||{},Ct=he.length;Ct--;Bt[he[Ct]]=gt);return Bt},z=[1,2],ut=[1,3],xt=[1,5],Ut=[1,7],kt=[2,5],Kt=[1,15],de=[1,17],Xt=[1,21],g=[1,22],r=[1,23],E=[1,24],C=[1,37],b=[1,25],x=[1,26],S=[1,27],$=[1,28],et=[1,29],mt=[1,32],nt=[1,33],L=[1,34],G=[1,35],tt=[1,36],st=[1,39],Zt=[1,40],Ot=[1,41],Jt=[1,42],ee=[1,38],se=[1,45],Pt=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],ve=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],ye=[1,4,5,7,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],ge=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],fe={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,classDefStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"--\x3e":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,class:42,CLASSENTITY_IDS:43,STYLECLASS:44,openDirective:45,typeDirective:46,closeDirective:47,":":48,argDirective:49,direction_tb:50,direction_bt:51,direction_rl:52,direction_lr:53,eol:54,";":55,EDGE_STATE:56,STYLE_SEPARATOR:57,left_of:58,right_of:59,open_directive:60,type_directive:61,arg_directive:62,close_directive:63,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",14:"DESCR",15:"--\x3e",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"class",43:"CLASSENTITY_IDS",44:"STYLECLASS",48:":",50:"direction_tb",51:"direction_bt",52:"direction_rl",53:"direction_lr",55:";",56:"EDGE_STATE",57:"STYLE_SEPARATOR",58:"left_of",59:"right_of",60:"open_directive",61:"type_directive",62:"arg_directive",63:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[11,3],[11,3],[12,3],[6,3],[6,5],[32,1],[32,1],[32,1],[32,1],[54,1],[54,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1],[45,1],[46,1],[49,1],[47,1]],performAction:function(gt,Bt,Ct,te,ue,Et,Pe){var $t=Et.length-1;switch(ue){case 4:return te.setRootDoc(Et[$t]),Et[$t];case 5:this.$=[];break;case 6:"nl"!=Et[$t]&&(Et[$t-1].push(Et[$t]),this.$=Et[$t-1]);break;case 7:case 8:case 12:this.$=Et[$t];break;case 9:this.$="nl";break;case 13:const ie=Et[$t-1];ie.description=te.trimColon(Et[$t]),this.$=ie;break;case 14:this.$={stmt:"relation",state1:Et[$t-2],state2:Et[$t]};break;case 15:const ke=te.trimColon(Et[$t]);this.$={stmt:"relation",state1:Et[$t-3],state2:Et[$t-1],description:ke};break;case 19:this.$={stmt:"state",id:Et[$t-3],type:"default",description:"",doc:Et[$t-1]};break;case 20:var Ie=Et[$t],Me=Et[$t-2].trim();if(Et[$t].match(":")){var Ke=Et[$t].split(":");Ie=Ke[0],Me=[Me,Ke[1]]}this.$={stmt:"state",id:Ie,type:"default",description:Me};break;case 21:this.$={stmt:"state",id:Et[$t-3],type:"default",description:Et[$t-5],doc:Et[$t-1]};break;case 22:this.$={stmt:"state",id:Et[$t],type:"fork"};break;case 23:this.$={stmt:"state",id:Et[$t],type:"join"};break;case 24:this.$={stmt:"state",id:Et[$t],type:"choice"};break;case 25:this.$={stmt:"state",id:te.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:Et[$t-1].trim(),note:{position:Et[$t-2].trim(),text:Et[$t].trim()}};break;case 30:this.$=Et[$t].trim(),te.setAccTitle(this.$);break;case 31:case 32:this.$=Et[$t].trim(),te.setAccDescription(this.$);break;case 33:case 34:this.$={stmt:"classDef",id:Et[$t-1].trim(),classes:Et[$t].trim()};break;case 35:this.$={stmt:"applyClass",id:Et[$t-1].trim(),styleClass:Et[$t].trim()};break;case 38:te.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:te.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:te.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:te.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:Et[$t].trim(),type:"default",description:""};break;case 46:case 47:this.$={stmt:"state",id:Et[$t-2].trim(),classes:[Et[$t].trim()],type:"default",description:""};break;case 50:te.parseDirective("%%{","open_directive");break;case 51:te.parseDirective(Et[$t],"type_directive");break;case 52:Et[$t]=Et[$t].trim().replace(/'/g,'"'),te.parseDirective(Et[$t],"arg_directive");break;case 53:te.parseDirective("}%%","close_directive","state")}},table:[{3:1,4:z,5:ut,6:4,7:xt,45:6,60:Ut},{1:[3]},{3:8,4:z,5:ut,6:4,7:xt,45:6,60:Ut},{3:9,4:z,5:ut,6:4,7:xt,45:6,60:Ut},{3:10,4:z,5:ut,6:4,7:xt,45:6,60:Ut},h([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],kt,{8:11}),{46:12,61:[1,13]},{61:[2,50]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:Kt,5:de,6:30,9:14,10:16,11:18,12:19,13:20,16:Xt,17:g,19:r,22:E,24:C,25:b,26:x,27:S,28:$,29:et,32:31,33:mt,35:nt,37:L,38:G,42:tt,45:6,50:st,51:Zt,52:Ot,53:Jt,56:ee,60:Ut},{47:43,48:[1,44],63:se},h([48,63],[2,51]),h(Pt,[2,6]),{6:30,10:46,11:18,12:19,13:20,16:Xt,17:g,19:r,22:E,24:C,25:b,26:x,27:S,28:$,29:et,32:31,33:mt,35:nt,37:L,38:G,42:tt,45:6,50:st,51:Zt,52:Ot,53:Jt,56:ee,60:Ut},h(Pt,[2,8]),h(Pt,[2,9]),h(Pt,[2,10]),h(Pt,[2,11]),h(Pt,[2,12],{14:[1,47],15:[1,48]}),h(Pt,[2,16]),{18:[1,49]},h(Pt,[2,18],{20:[1,50]}),{23:[1,51]},h(Pt,[2,22]),h(Pt,[2,23]),h(Pt,[2,24]),h(Pt,[2,25]),{30:52,31:[1,53],58:[1,54],59:[1,55]},h(Pt,[2,28]),h(Pt,[2,29]),{34:[1,56]},{36:[1,57]},h(Pt,[2,32]),{39:[1,58],41:[1,59]},{43:[1,60]},h(ve,[2,44],{57:[1,61]}),h(ve,[2,45],{57:[1,62]}),h(Pt,[2,38]),h(Pt,[2,39]),h(Pt,[2,40]),h(Pt,[2,41]),h(ye,[2,36]),{49:63,62:[1,64]},h(ye,[2,53]),h(Pt,[2,7]),h(Pt,[2,13]),{13:65,24:C,56:ee},h(Pt,[2,17]),h(ge,kt,{8:66}),{24:[1,67]},{24:[1,68]},{23:[1,69]},{24:[2,48]},{24:[2,49]},h(Pt,[2,30]),h(Pt,[2,31]),{40:[1,70]},{40:[1,71]},{44:[1,72]},{24:[1,73]},{24:[1,74]},{47:75,63:se},{63:[2,52]},h(Pt,[2,14],{14:[1,76]}),{4:Kt,5:de,6:30,9:14,10:16,11:18,12:19,13:20,16:Xt,17:g,19:r,21:[1,77],22:E,24:C,25:b,26:x,27:S,28:$,29:et,32:31,33:mt,35:nt,37:L,38:G,42:tt,45:6,50:st,51:Zt,52:Ot,53:Jt,56:ee,60:Ut},h(Pt,[2,20],{20:[1,78]}),{31:[1,79]},{24:[1,80]},h(Pt,[2,33]),h(Pt,[2,34]),h(Pt,[2,35]),h(ve,[2,46]),h(ve,[2,47]),h(ye,[2,37]),h(Pt,[2,15]),h(Pt,[2,19]),h(ge,kt,{8:81}),h(Pt,[2,26]),h(Pt,[2,27]),{4:Kt,5:de,6:30,9:14,10:16,11:18,12:19,13:20,16:Xt,17:g,19:r,21:[1,82],22:E,24:C,25:b,26:x,27:S,28:$,29:et,32:31,33:mt,35:nt,37:L,38:G,42:tt,45:6,50:st,51:Zt,52:Ot,53:Jt,56:ee,60:Ut},h(Pt,[2,21])],defaultActions:{7:[2,50],8:[2,1],9:[2,2],10:[2,3],54:[2,48],55:[2,49],64:[2,52]},parseError:function(gt,Bt){if(!Bt.recoverable){var Ct=new Error(gt);throw Ct.hash=Bt,Ct}this.trace(gt)},parse:function(gt){var Ct=[0],te=[],ue=[null],Et=[],Pe=this.table,$t="",Ie=0,Me=0,ke=Et.slice.call(arguments,1),Te=Object.create(this.lexer),lt={yy:{}};for(var oe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,oe)&&(lt.yy[oe]=this.yy[oe]);Te.setInput(gt,lt.yy),lt.yy.lexer=Te,lt.yy.parser=this,typeof Te.yylloc>"u"&&(Te.yylloc={});var Se=Te.yylloc;Et.push(Se);var Ce,Be=Te.options&&Te.options.ranges;this.parseError="function"==typeof lt.yy.parseError?lt.yy.parseError:Object.getPrototypeOf(this).parseError;for(var xe,we,Le,Ne,De,Oe,Ue,Re={};;){if(this.defaultActions[we=Ct[Ct.length-1]]?Le=this.defaultActions[we]:((null===xe||typeof xe>"u")&&(Ce=void 0,"number"!=typeof(Ce=te.pop()||Te.lex()||1)&&(Ce instanceof Array&&(Ce=(te=Ce).pop()),Ce=this.symbols_[Ce]||Ce),xe=Ce),Le=Pe[we]&&Pe[we][xe]),typeof Le>"u"||!Le.length||!Le[0]){var Xe;for(De in Ue=[],Pe[we])this.terminals_[De]&&De>2&&Ue.push("'"+this.terminals_[De]+"'");Xe=Te.showPosition?"Parse error on line "+(Ie+1)+":\n"+Te.showPosition()+"\nExpecting "+Ue.join(", ")+", got '"+(this.terminals_[xe]||xe)+"'":"Parse error on line "+(Ie+1)+": Unexpected "+(1==xe?"end of input":"'"+(this.terminals_[xe]||xe)+"'"),this.parseError(Xe,{text:Te.match,token:this.terminals_[xe]||xe,line:Te.yylineno,loc:Se,expected:Ue})}if(Le[0]instanceof Array&&Le.length>1)throw new Error("Parse Error: multiple actions possible at state: "+we+", token: "+xe);switch(Le[0]){case 1:Ct.push(xe),ue.push(Te.yytext),Et.push(Te.yylloc),Ct.push(Le[1]),xe=null,Me=Te.yyleng,$t=Te.yytext,Ie=Te.yylineno,Se=Te.yylloc;break;case 2:if(Re.$=ue[ue.length-(Oe=this.productions_[Le[1]][1])],Re._$={first_line:Et[Et.length-(Oe||1)].first_line,last_line:Et[Et.length-1].last_line,first_column:Et[Et.length-(Oe||1)].first_column,last_column:Et[Et.length-1].last_column},Be&&(Re._$.range=[Et[Et.length-(Oe||1)].range[0],Et[Et.length-1].range[1]]),typeof(Ne=this.performAction.apply(Re,[$t,Me,Ie,lt.yy,Le[1],ue,Et].concat(ke)))<"u")return Ne;Oe&&(Ct=Ct.slice(0,-1*Oe*2),ue=ue.slice(0,-1*Oe),Et=Et.slice(0,-1*Oe)),Ct.push(this.productions_[Le[1]][0]),ue.push(Re.$),Et.push(Re._$),Ct.push(Pe[Ct[Ct.length-2]][Ct[Ct.length-1]]);break;case 3:return!0}}return!0}};function Ee(){this.yy={}}return fe.lexer={EOF:1,parseError:function(Bt,Ct){if(!this.yy.parser)throw new Error(Bt);this.yy.parser.parseError(Bt,Ct)},setInput:function(gt,Bt){return this.yy=Bt||this.yy||{},this._input=gt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var gt=this._input[0];return this.yytext+=gt,this.yyleng++,this.offset++,this.match+=gt,this.matched+=gt,gt.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),gt},unput:function(gt){var Bt=gt.length,Ct=gt.split(/(?:\r\n?|\n)/g);this._input=gt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Bt),this.offset-=Bt;var te=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ct.length-1&&(this.yylineno-=Ct.length-1);var ue=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ct?(Ct.length===te.length?this.yylloc.first_column:0)+te[te.length-Ct.length].length-Ct[0].length:this.yylloc.first_column-Bt},this.options.ranges&&(this.yylloc.range=[ue[0],ue[0]+this.yyleng-Bt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(gt){this.unput(this.match.slice(gt))},pastInput:function(){var gt=this.matched.substr(0,this.matched.length-this.match.length);return(gt.length>20?"...":"")+gt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var gt=this.match;return gt.length<20&&(gt+=this._input.substr(0,20-gt.length)),(gt.substr(0,20)+(gt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var gt=this.pastInput(),Bt=new Array(gt.length+1).join("-");return gt+this.upcomingInput()+"\n"+Bt+"^"},test_match:function(gt,Bt){var Ct,te,ue;if(this.options.backtrack_lexer&&(ue={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ue.yylloc.range=this.yylloc.range.slice(0))),(te=gt[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=te.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:te?te[te.length-1].length-te[te.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+gt[0].length},this.yytext+=gt[0],this.match+=gt[0],this.matches=gt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(gt[0].length),this.matched+=gt[0],Ct=this.performAction.call(this,this.yy,this,Bt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ct)return Ct;if(this._backtrack){for(var Et in ue)this[Et]=ue[Et];return!1}return!1},next:function(){if(this.done)return this.EOF;var gt,Bt,Ct,te;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var ue=this._currentRules(),Et=0;Et<ue.length;Et++)if((Ct=this._input.match(this.rules[ue[Et]]))&&(!Bt||Ct[0].length>Bt[0].length)){if(Bt=Ct,te=Et,this.options.backtrack_lexer){if(!1!==(gt=this.test_match(Ct,ue[Et])))return gt;if(this._backtrack){Bt=!1;continue}return!1}if(!this.options.flex)break}return Bt?!1!==(gt=this.test_match(Bt,ue[te]))&&gt:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(Bt){this.conditionStack.push(Bt)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Bt){return(Bt=this.conditionStack.length-1-Math.abs(Bt||0))>=0?this.conditionStack[Bt]:"INITIAL"},pushState:function(Bt){this.begin(Bt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Bt,Ct,te,ue){switch(te){case 0:return 41;case 1:case 44:return 50;case 2:case 45:return 51;case 3:case 46:return 52;case 4:case 47:return 53;case 5:return this.begin("open_directive"),60;case 6:return this.begin("type_directive"),61;case 7:return this.popState(),this.begin("arg_directive"),48;case 8:return this.popState(),this.popState(),63;case 9:return 62;case 10:case 11:case 13:case 14:case 15:case 16:case 56:case 58:case 64:break;case 12:case 79:return 5;case 17:case 34:return this.pushState("SCALE"),17;case 18:case 35:return 18;case 19:case 25:case 36:case 51:case 54:this.popState();break;case 20:return this.begin("acc_title"),33;case 21:return this.popState(),"acc_title_value";case 22:return this.begin("acc_descr"),35;case 23:return this.popState(),"acc_descr_value";case 24:this.begin("acc_descr_multiline");break;case 26:return"acc_descr_multiline_value";case 27:return this.pushState("CLASSDEF"),38;case 28:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 29:return this.popState(),this.pushState("CLASSDEFID"),39;case 30:return this.popState(),40;case 31:return this.pushState("CLASS"),42;case 32:return this.popState(),this.pushState("CLASS_STYLE"),43;case 33:return this.popState(),44;case 37:this.pushState("STATE");break;case 38:case 41:return this.popState(),Ct.yytext=Ct.yytext.slice(0,-8).trim(),25;case 39:case 42:return this.popState(),Ct.yytext=Ct.yytext.slice(0,-8).trim(),26;case 40:case 43:return this.popState(),Ct.yytext=Ct.yytext.slice(0,-10).trim(),27;case 48:this.pushState("STATE_STRING");break;case 49:return this.pushState("STATE_ID"),"AS";case 50:case 66:return this.popState(),"ID";case 52:return"STATE_DESCR";case 53:return 19;case 55:return this.popState(),this.pushState("struct"),20;case 57:return this.popState(),21;case 59:return this.begin("NOTE"),29;case 60:return this.popState(),this.pushState("NOTE_ID"),58;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:this.popState(),this.pushState("FLOATING_NOTE");break;case 63:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 65:return"NOTE_TEXT";case 67:return this.popState(),this.pushState("NOTE_TEXT"),24;case 68:return this.popState(),Ct.yytext=Ct.yytext.substr(2).trim(),31;case 69:return this.popState(),Ct.yytext=Ct.yytext.slice(0,-8).trim(),31;case 70:case 71:return 7;case 72:return 16;case 73:return 56;case 74:return 24;case 75:return Ct.yytext=Ct.yytext.trim(),14;case 76:return 15;case 77:return 28;case 78:return 57;case 80:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[14,15],inclusive:!1},close_directive:{rules:[14,15],inclusive:!1},arg_directive:{rules:[8,9,14,15],inclusive:!1},type_directive:{rules:[7,8,14,15],inclusive:!1},open_directive:{rules:[6,14,15],inclusive:!1},struct:{rules:[14,15,27,31,37,44,45,46,47,56,57,58,59,73,74,75,76,77],inclusive:!1},FLOATING_NOTE_ID:{rules:[66],inclusive:!1},FLOATING_NOTE:{rules:[63,64,65],inclusive:!1},NOTE_TEXT:{rules:[68,69],inclusive:!1},NOTE_ID:{rules:[67],inclusive:!1},NOTE:{rules:[60,61,62],inclusive:!1},CLASS_STYLE:{rules:[33],inclusive:!1},CLASS:{rules:[32],inclusive:!1},CLASSDEFID:{rules:[30],inclusive:!1},CLASSDEF:{rules:[28,29],inclusive:!1},acc_descr_multiline:{rules:[25,26],inclusive:!1},acc_descr:{rules:[23],inclusive:!1},acc_title:{rules:[21],inclusive:!1},SCALE:{rules:[18,19,35,36],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[50],inclusive:!1},STATE_STRING:{rules:[51,52],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[14,15,38,39,40,41,42,43,48,49,53,54,55],inclusive:!1},ID:{rules:[14,15],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,10,11,12,13,15,16,17,20,22,24,27,31,34,37,55,59,70,71,72,73,74,75,76,78,79,80],inclusive:!0}}},Ee.prototype=fe,fe.Parser=Ee,new Ee}();u.parser=u;const A=u,O="LR",P="TB",T="state",F="relation",I="default",X="divider",W="[*]",k="start",Y=W;let Tt=O,ht=[],Wt={},Gt={root:{relations:[],states:{},documents:{}}},Ft=Gt.root,ae=0,_e=0;const p=h=>JSON.parse(JSON.stringify(h)),yt=(h,z,ut)=>{if(z.stmt===F)yt(h,z.state1,!0),yt(h,z.state2,!1);else if(z.stmt===T&&("[*]"===z.id?(z.id=ut?h.id+"_start":h.id+"_end",z.start=ut):z.id=z.id.trim()),z.doc){const xt=[];let kt,Ut=[];for(kt=0;kt<z.doc.length;kt++)if(z.doc[kt].type===X){const Kt=p(z.doc[kt]);Kt.doc=p(Ut),xt.push(Kt),Ut=[]}else Ut.push(z.doc[kt]);if(xt.length>0&&Ut.length>0){const Kt={stmt:T,id:(0,Z.y)(),type:"divider",doc:p(Ut)};xt.push(p(Kt)),z.doc=xt}z.doc.forEach(Kt=>yt(z,Kt,!0))}},Dt=function(h,z=I,ut=null,xt=null,Ut=null,kt=null,Kt=null,de=null){const Xt=h?.trim();void 0===Ft.states[Xt]?(s.l.info("Adding state ",Xt,xt),Ft.states[Xt]={id:Xt,descriptions:[],type:z,doc:ut,note:Ut,classes:[],styles:[],textStyles:[]}):(Ft.states[Xt].doc||(Ft.states[Xt].doc=ut),Ft.states[Xt].type||(Ft.states[Xt].type=z)),xt&&(s.l.info("Setting state description",Xt,xt),"string"==typeof xt&&Rt(Xt,xt.trim()),"object"==typeof xt&&xt.forEach(g=>Rt(Xt,g.trim()))),Ut&&(Ft.states[Xt].note=Ut,Ft.states[Xt].note.text=s.e.sanitizeText(Ft.states[Xt].note.text,(0,s.g)())),kt&&(s.l.info("Setting state classes",Xt,kt),("string"==typeof kt?[kt]:kt).forEach(r=>f(Xt,r.trim()))),Kt&&(s.l.info("Setting state styles",Xt,Kt),("string"==typeof Kt?[Kt]:Kt).forEach(r=>v(Xt,r.trim()))),de&&(s.l.info("Setting state styles",Xt,Kt),("string"==typeof de?[de]:de).forEach(r=>N(Xt,r.trim())))},le=function(h){Gt={root:{relations:[],states:{},documents:{}}},Ft=Gt.root,ae=0,Wt={},h||(0,s.y)()},re=function(h){return Ft.states[h]};function be(h=""){let z=h;return h===W&&(ae++,z=`${k}${ae}`),z}function Ze(h="",z=I){return h===W?k:z}const Lt=function(h,z,ut){if("object"==typeof h)!function V(h,z,ut){let xt=be(h.id.trim()),Ut=Ze(h.id.trim(),h.type),kt=be(z.id.trim()),Kt=Ze(z.id.trim(),z.type);Dt(xt,Ut,h.doc,h.description,h.note,h.classes,h.styles,h.textStyles),Dt(kt,Kt,z.doc,z.description,z.note,z.classes,z.styles,z.textStyles),Ft.relations.push({id1:xt,id2:kt,relationTitle:s.e.sanitizeText(ut,(0,s.g)())})}(h,z,ut);else{const xt=be(h.trim()),Ut=Ze(h),kt=function jt(h=""){let z=h;return h===Y&&(ae++,z=`end${ae}`),z}(z.trim()),Kt=function M(h="",z=I){return h===Y?"end":z}(z);Dt(xt,Ut),Dt(kt,Kt),Ft.relations.push({id1:xt,id2:kt,title:s.e.sanitizeText(ut,(0,s.g)())})}},Rt=function(h,z){const ut=Ft.states[h],xt=z.startsWith(":")?z.replace(":","").trim():z;ut.descriptions.push(s.e.sanitizeText(xt,(0,s.g)()))},y=function(h,z=""){void 0===Wt[h]&&(Wt[h]={id:h,styles:[],textStyles:[]});const ut=Wt[h];z?.split(",").forEach(xt=>{const Ut=xt.replace(/([^;]*);/,"$1").trim();if(xt.match("color")){const Kt=Ut.replace("fill","bgFill").replace("color","fill");ut.textStyles.push(Kt)}ut.styles.push(Ut)})},f=function(h,z){h.split(",").forEach(function(ut){let xt=re(ut);if(void 0===xt){const Ut=ut.trim();Dt(Ut),xt=re(Ut)}xt.classes.push(z)})},v=function(h,z){const ut=re(h);void 0!==ut&&ut.textStyles.push(z)},N=function(h,z){const ut=re(h);void 0!==ut&&ut.textStyles.push(z)},Mt={parseDirective:function(h,z,ut){m.m.parseDirective(this,h,z,ut)},getConfig:()=>(0,s.g)().state,addState:Dt,clear:le,getState:re,getStates:function(){return Ft.states},getRelations:function(){return Ft.relations},getClasses:function(){return Wt},getDirection:()=>Tt,addRelation:Lt,getDividerId:()=>(_e++,"divider-id-"+_e),setDirection:h=>{Tt=h},cleanupLabel:function(h){return":"===h.substring(0,1)?h.substr(2).trim():h.trim()},lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},logDocuments:function(){s.l.info("Documents = ",Gt)},getRootDoc:()=>ht,setRootDoc:h=>{s.l.info("Setting root doc",h),ht=h},getRootDocV2:()=>(yt({id:"root"},{id:"root",doc:ht},!0),{id:"root",doc:ht}),extract:h=>{let z;z=h.doc?h.doc:h,s.l.info(z),le(!0),s.l.info("Extract",z),z.forEach(ut=>{switch(ut.stmt){case T:Dt(ut.id.trim(),ut.type,ut.doc,ut.description,ut.note,ut.classes,ut.styles,ut.textStyles);break;case F:Lt(ut.state1,ut.state2,ut.description);break;case"classDef":y(ut.id.trim(),ut.classes);break;case"applyClass":f(ut.id.trim(),ut.styleClass)}})},trimColon:h=>h&&":"===h[0]?h.substr(1).trim():h.trim(),getAccTitle:s.p,setAccTitle:s.o,getAccDescription:s.q,setAccDescription:s.v,addStyleClass:y,setCssClass:f,addDescription:Rt,setDiagramTitle:s.w,getDiagramTitle:s.x},bt=h=>`\ndefs #statediagram-barbEnd {\n    fill: ${h.transitionColor};\n    stroke: ${h.transitionColor};\n  }\ng.stateGroup text {\n  fill: ${h.nodeBorder};\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ${h.textColor};\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ${h.stateLabelColor};\n}\n\ng.stateGroup rect {\n  fill: ${h.mainBkg};\n  stroke: ${h.nodeBorder};\n}\n\ng.stateGroup line {\n  stroke: ${h.lineColor};\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ${h.transitionColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ${h.background};\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ${h.noteBorderColor};\n  fill: ${h.noteBkgColor};\n\n  text {\n    fill: ${h.noteTextColor};\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${h.mainBkg};\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ${h.labelBackgroundColor};\n  opacity: 0.5;\n}\n.edgeLabel .label text {\n  fill: ${h.transitionLabelColor||h.tertiaryTextColor};\n}\n.label div .edgeLabel {\n  color: ${h.transitionLabelColor||h.tertiaryTextColor};\n}\n\n.stateLabel text {\n  fill: ${h.stateLabelColor};\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ${h.specialStateColor};\n  stroke: ${h.specialStateColor};\n}\n\n.node .fork-join {\n  fill: ${h.specialStateColor};\n  stroke: ${h.specialStateColor};\n}\n\n.node circle.state-end {\n  fill: ${h.innerEndBackground};\n  stroke: ${h.background};\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ${h.compositeBackground||h.background};\n  // stroke: ${h.background};\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ${h.stateBkg||h.mainBkg};\n  stroke: ${h.stateBorder||h.nodeBorder};\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ${h.mainBkg};\n  stroke: ${h.stateBorder||h.nodeBorder};;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ${h.lineColor};\n}\n\n.statediagram-cluster rect {\n  fill: ${h.compositeTitleBackground};\n  stroke: ${h.stateBorder||h.nodeBorder};\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ${h.stateLabelColor};\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ${h.stateBorder||h.nodeBorder};\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ${h.compositeBackground||h.background};\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ${h.altBackground?h.altBackground:"#efefef"};\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ${h.altBackground?h.altBackground:"#efefef"};\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ${h.noteBkgColor};\n  stroke: ${h.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ${h.noteBkgColor};\n  stroke: ${h.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ${h.noteTextColor};\n}\n\n.statediagram-note .nodeLabel {\n  color: ${h.noteTextColor};\n}\n.statediagram .edgeLabel {\n  color: red; // ${h.noteTextColor};\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ${h.lineColor};\n  stroke: ${h.lineColor};\n  stroke-width: 1;\n}\n\n.statediagramTitleText {\n  text-anchor: middle;\n  font-size: 18px;\n  fill: ${h.textColor};\n}\n`},6313:(wt,B,a)=>{a.d(B,{p:()=>T,s:()=>W});var s=a(7528),Z=a(2083),m=a(1599);let u=0;const T=function(k){let ct=k.match(/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/),ot=k.match(/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/);return ct&&!ot?F(ct):ot?J(ot):Q(k)},F=function(k){let Y="",U="";try{let ct=k[1]?k[1].trim():"",ot=k[2]?k[2].trim():"",q=k[3]?(0,m.z)(k[3].trim()):"",rt=k[4]?k[4].trim():"",ft=k[5]?k[5].trim():"";U=ct+ot+q+" "+rt,Y=X(ft)}catch{U=k}return{displayText:U,cssStyle:Y}},J=function(k){let Y="",U="";try{let ct=k[1]?k[1].trim():"",ot=k[2]?k[2].trim():"",q=k[3]?(0,m.z)(k[3].trim()):"",rt=k[4]?k[4].trim():"";U=ct+ot+"("+q+")"+(k[5]?" : "+(0,m.z)(k[5]).trim():""),Y=X(rt)}catch{U=k}return{displayText:U,cssStyle:Y}},Q=function(k){let Y="",U="",ct="",ot=k.indexOf("("),q=k.indexOf(")");if(ot>1&&q>ot&&q<=k.length){let rt="",ft="",Tt=k.substring(0,1);Tt.match(/\w/)?ft=k.substring(0,ot).trim():(Tt.match(/[#+~-]/)&&(rt=Tt),ft=k.substring(1,ot).trim());const ht=k.substring(ot+1,q);k.substring(q+1,1),U=X(k.substring(q+1,q+2)),Y=rt+ft+"("+(0,m.z)(ht.trim())+")",q<k.length&&(ct=k.substring(q+2).trim(),""!==ct&&(ct=" : "+(0,m.z)(ct),Y+=ct))}else Y=(0,m.z)(k);return{displayText:Y,cssStyle:U}},I=function(k,Y,U,ct){let ot=T(Y);const q=k.append("tspan").attr("x",ct.padding).text(ot.displayText);""!==ot.cssStyle&&q.attr("style",ot.cssStyle),U||q.attr("dy",ct.textHeight)},X=function(k){switch(k){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},W={drawClass:function(k,Y,U,ct){m.l.debug("Rendering class ",Y,U);const ot=Y.id,q={id:ot,label:Y.id,width:0,height:0},rt=k.append("g").attr("id",ct.db.lookUpDomId(ot)).attr("class","classGroup");let ft;ft=Y.link?rt.append("svg:a").attr("xlink:href",Y.link).attr("target",Y.linkTarget).append("text").attr("y",U.textHeight+U.padding).attr("x",0):rt.append("text").attr("y",U.textHeight+U.padding).attr("x",0);let Tt=!0;Y.annotations.forEach(function(at){const yt=ft.append("tspan").text("\xab"+at+"\xbb");Tt||yt.attr("dy",U.textHeight),Tt=!1});let ht=Y.id;void 0!==Y.type&&""!==Y.type&&(ht+="<"+Y.type+">");const Wt=ft.append("tspan").text(ht).attr("class","title");Tt||Wt.attr("dy",U.textHeight);const Yt=ft.node().getBBox().height,Gt=rt.append("line").attr("x1",0).attr("y1",U.padding+Yt+U.dividerMargin/2).attr("y2",U.padding+Yt+U.dividerMargin/2),Ft=rt.append("text").attr("x",U.padding).attr("y",Yt+U.dividerMargin+U.textHeight).attr("fill","white").attr("class","classText");Tt=!0,Y.members.forEach(function(at){I(Ft,at,Tt,U),Tt=!1});const ae=Ft.node().getBBox(),_e=rt.append("line").attr("x1",0).attr("y1",U.padding+Yt+U.dividerMargin+ae.height).attr("y2",U.padding+Yt+U.dividerMargin+ae.height),me=rt.append("text").attr("x",U.padding).attr("y",Yt+2*U.dividerMargin+ae.height+U.textHeight).attr("fill","white").attr("class","classText");Tt=!0,Y.methods.forEach(function(at){I(me,at,Tt,U),Tt=!1});const j=rt.node().getBBox();var p=" ";Y.cssClasses.length>0&&(p+=Y.cssClasses.join(" "));const pt=rt.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",j.width+2*U.padding).attr("height",j.height+U.padding+.5*U.dividerMargin).attr("class",p).node().getBBox().width;return ft.node().childNodes.forEach(function(at){at.setAttribute("x",(pt-at.getBBox().width)/2)}),Y.tooltip&&ft.insert("title").text(Y.tooltip),Gt.attr("x2",pt),_e.attr("x2",pt),q.width=pt,q.height=j.height+U.padding+.5*U.dividerMargin,q},drawEdge:function(k,Y,U,ct,ot){const q=function(p){switch(p){case ot.db.relationType.AGGREGATION:return"aggregation";case ot.db.relationType.EXTENSION:return"extension";case ot.db.relationType.COMPOSITION:return"composition";case ot.db.relationType.DEPENDENCY:return"dependency";case ot.db.relationType.LOLLIPOP:return"lollipop"}};Y.points=Y.points.filter(p=>!Number.isNaN(p.y));const rt=Y.points,ft=(0,s.jvg)().x(function(p){return p.x}).y(function(p){return p.y}).curve(s.$0Z),Tt=k.append("path").attr("d",ft(rt)).attr("id","edge"+u).attr("class","relation");let Wt,Yt,ht="";ct.arrowMarkerAbsolute&&(ht=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,ht=ht.replace(/\(/g,"\\("),ht=ht.replace(/\)/g,"\\)")),1==U.relation.lineType&&Tt.attr("class","relation dashed-line"),10==U.relation.lineType&&Tt.attr("class","relation dotted-line"),"none"!==U.relation.type1&&Tt.attr("marker-start","url("+ht+"#"+q(U.relation.type1)+"Start)"),"none"!==U.relation.type2&&Tt.attr("marker-end","url("+ht+"#"+q(U.relation.type2)+"End)");const Gt=Y.points.length;let ae,_e,me,j,Ft=Z.u.calcLabelPosition(Y.points);if(Wt=Ft.x,Yt=Ft.y,Gt%2!=0&&Gt>1){let p=Z.u.calcCardinalityPosition("none"!==U.relation.type1,Y.points,Y.points[0]),D=Z.u.calcCardinalityPosition("none"!==U.relation.type2,Y.points,Y.points[Gt-1]);m.l.debug("cardinality_1_point "+JSON.stringify(p)),m.l.debug("cardinality_2_point "+JSON.stringify(D)),ae=p.x,_e=p.y,me=D.x,j=D.y}if(void 0!==U.title){const p=k.append("g").attr("class","classLabel"),D=p.append("text").attr("class","label").attr("x",Wt).attr("y",Yt).attr("fill","red").attr("text-anchor","middle").text(U.title);window.label=D;const pt=D.node().getBBox();p.insert("rect",":first-child").attr("class","box").attr("x",pt.x-ct.padding/2).attr("y",pt.y-ct.padding/2).attr("width",pt.width+ct.padding).attr("height",pt.height+ct.padding)}m.l.info("Rendering relation "+JSON.stringify(U)),void 0!==U.relationTitle1&&"none"!==U.relationTitle1&&k.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",ae).attr("y",_e).attr("fill","black").attr("font-size","6").text(U.relationTitle1),void 0!==U.relationTitle2&&"none"!==U.relationTitle2&&k.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",me).attr("y",j).attr("fill","black").attr("font-size","6").text(U.relationTitle2),u++},drawNote:function(k,Y,U,ct){m.l.debug("Rendering note ",Y,U);const ot=Y.id,q={id:ot,text:Y.text,width:0,height:0},rt=k.append("g").attr("id",ot).attr("class","classGroup");let ft=rt.append("text").attr("y",U.textHeight+U.padding).attr("x",0);const Tt=JSON.parse(`"${Y.text}"`).split("\n");Tt.forEach(function(Gt){m.l.debug(`Adding line: ${Gt}`),ft.append("tspan").text(Gt).attr("class","title").attr("dy",U.textHeight)});const ht=rt.node().getBBox(),Yt=rt.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",ht.width+2*U.padding).attr("height",ht.height+Tt.length*U.textHeight+U.padding+.5*U.dividerMargin).node().getBBox().width;return ft.node().childNodes.forEach(function(Gt){Gt.setAttribute("x",(Yt-Gt.getBBox().width)/2)}),q.width=Yt,q.height=ht.height+Tt.length*U.textHeight+U.padding+.5*U.dividerMargin,q},parseMember:T}}}]);